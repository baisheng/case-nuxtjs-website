function PxLoaderImage (a, b, c, d) {
  var e = this, f = null;
  this.img = new Image, void 0 !== d && (this.img.crossOrigin = d), this.tags = b, this.priority = c;
  var g = function () {
    "complete" === e.img.readyState && (j(), f.onLoad(e))
  }, h = function () {
    j(), f.onLoad(e)
  }, i = function () {
    j(), f.onError(e)
  }, j = function () {
    e.unbind("load", h), e.unbind("readystatechange", g), e.unbind("error", i)
  };
  this.start = function (b) {
    f = b, e.bind("load", h), e.bind("readystatechange", g), e.bind("error", i), e.img.src = a
  }, this.checkStatus = function () {
    e.img.complete && (j(), f.onLoad(e))
  }, this.onTimeout = function () {
    j(), e.img.complete ? f.onLoad(e) : f.onTimeout(e)
  }, this.getName = function () {
    return a
  }, this.bind = function (a, b) {
    e.img.addEventListener ? e.img.addEventListener(a, b, !1) : e.img.attachEvent && e.img.attachEvent("on" + a, b)
  }, this.unbind = function (a, b) {
    e.img.removeEventListener ? e.img.removeEventListener(a, b, !1) : e.img.detachEvent && e.img.detachEvent("on" + a, b)
  }
}

function PxLoaderSound (a, b, c, d) {
  var e = this, f = null, g = navigator.userAgent.match(/(ipad|iphone|ipod)/i),
    h = navigator.userAgent.match(/android/i);
  this.useGlobalHTML5Audio = g || h, this.tags = c, this.priority = d, this.sound = soundManager.createSound({
    id: a,
    url: b,
    autoLoad: !1,
    onload: function () {
      f.onLoad(e)
    },
    onsuspend: function () {
      f.onTimeout(e)
    },
    whileloading: function () {
      var a = this.bytesLoaded, b = this.bytesTotal;
      a > 0 && a === b && f.onLoad(e)
    }
  }), this.start = function (a) {
    f = a, this.useGlobalHTML5Audio ? f.onTimeout(e) : this.sound.load()
  }, this.checkStatus = function () {
    switch (e.sound.readyState) {
      case 0:
        break;
      case 1:
        break;
      case 2:
        f.onError(e);
        break;
      case 3:
        f.onLoad(e)
    }
  }, this.onTimeout = function () {
    f.onTimeout(e)
  }, this.getName = function () {
    return b
  }
}

function PxLoaderVideo (a, b, c, d) {
  var e = this, f = null;
  this.readyEventName = "canplaythrough";
  try {
    this.vid = new Video
  } catch (g) {
    this.vid = document.createElement("video")
  }
  void 0 !== d && (this.vid.crossOrigin = d), this.tags = b, this.priority = c;
  var h = function () {
    4 === e.vid.readyState && (k(), f.onLoad(e))
  }, i = function () {
    k(), f.onLoad(e)
  }, j = function () {
    k(), f.onError(e)
  }, k = function () {
    e.unbind("load", i), e.unbind(e.readyEventName, h), e.unbind("error", j)
  };
  this.start = function (b) {
    f = b, e.bind("load", i), e.bind(e.readyEventName, h), e.bind("error", j), e.bind("suspend", i), e.vid.src = a, e.vid.load()
  }, this.checkStatus = function () {
    4 === e.vid.readyState && (k(), f.onLoad(e))
  }, this.onTimeout = function () {
    k(), 4 !== e.vid.readyState ? f.onLoad(e) : f.onTimeout(e)
  }, this.getName = function () {
    return a
  }, this.bind = function (a, b) {
    e.vid.addEventListener ? e.vid.addEventListener(a, b, !1) : e.vid.attachEvent && e.vid.attachEvent("on" + a, b)
  }, this.unbind = function (a, b) {
    e.vid.removeEventListener ? e.vid.removeEventListener(a, b, !1) : e.vid.detachEvent && e.vid.detachEvent("on" + a, b)
  }
}

!function ($) {
  $.fn.suggest = function (source, options) {
    var settings = $.extend({
      suggestionColor: "#ccc",
      moreIndicatorClass: "suggest-more",
      moreIndicatorText: "&hellip;"
    }, options);
    return this.each(function () {
      $this = $(this);
      var $suggest = $("<div/>", {
        css: {
          position: "absolute",
          height: $this.height(),
          width: $this.width(),
          top: $this.css("borderTopWidth"),
          left: $this.css("borderLeftWidth"),
          padding: $this.cssShortForAllSides("padding"),
          margin: $this.cssShortForAllSides("margin"),
          fontFamily: $this.css("fontFamily"),
          fontSize: $this.css("fontSize"),
          fontStyle: $this.css("fontStyle"),
          lineHeight: $this.css("lineHeight"),
          fontWeight: $this.css("fontWeight"),
          letterSpacing: $this.css("letterSpacing"),
          backgroundColor: $this.css("backgroundColor"),
          color: settings.suggestionColor
        }
      }), $more = $("<span/>", {
        css: {
          position: "absolute",
          top: $suggest.height() + parseInt($this.css("fontSize"), 10) / 2,
          left: $suggest.width(),
          display: "block",
          fontSize: $this.css("fontSize"),
          fontFamily: $this.css("fontFamily"),
          color: settings.suggestionColor
        }, class: settings.moreIndicatorClass
      }).html(settings.moreIndicatorText).hide();
      $this.attr({
        autocomplete: "off",
        spellcheck: "false",
        dir: "ltr"
      }).css({background: "transparent"}).wrap($("<div/>", {
        css: {
          position: "relative",
          paddingBottom: "1em"
        }
      })).bind("keydown.suggest", function (e) {
        var code = e.keyCode ? e.keyCode : e.which;
        if (9 != code || e.altKey) {
          if (13 == code) $suggest.is(":empty") || e.preventDefault(); else if (38 == code || 40 == code) {
            e.preventDefault();
            var suggestions = $(this).data("suggestions");
            suggestions.all.length > 1 && (40 == code && suggestions.index < suggestions.all.length - 1 ? suggestions.suggest.html(suggestions.all[++suggestions.index]) : 38 == code && suggestions.index > 0 && suggestions.suggest.html(suggestions.all[--suggestions.index]), $(this).data("suggestions").index = suggestions.index)
          }
        } else e.preventDefault()
      }).bind("keyup.suggest", function (e) {
        var code = e.keyCode ? e.keyCode : e.which;
        if (38 == code || 40 == code) return !1;
        $more.hide();
        var needle = $(this).val(), needleWithWhiteSpace = needle.replace(" ", "&nbsp;");
        if ((9 == code || 13 == code || 39 == code) && $suggest.text().length > 0) {
          e.preventDefault();
          var suggestions = $(this).data("suggestions");
          return $(this).val(suggestions.terms[suggestions.index]), $suggest.empty(), !1
        }
        if ($suggest.empty(), !$.trim(needle).length) return !1;
        for (var regex = new RegExp("^" + needle.replace(/[-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, "\\$&"), "i"), suggestions = [], terms = [], i = 0, l = source; i < l.length; i++) regex.test(l[i]) && (terms.push(l[i]), suggestions.push(needleWithWhiteSpace + l[i].slice(needle.length)));
        suggestions.length > 0 && (suggestions[0] !== needle && $suggest.html(suggestions[0]), $(this).data("suggestions", {
          all: suggestions,
          terms: terms,
          index: 0,
          suggest: $suggest
        }), suggestions.length > 1 && $more.show())
      }).bind("blur.suggest", function () {
        $suggest.empty()
      }), $suggest.insertAfter($this), $more.insertAfter($suggest)
    })
  }, $.fn.cssShortForAllSides = function (property) {
    var $self = $(this), sum = [], properties = $.map(["Top", "Right", "Bottom", "Left"], function (side) {
      return property + side
    });
    return $.each(properties, function (i, e) {
      sum.push($self.css(e) || "0")
    }), sum.join(" ")
  }
}(jQuery), function () {
  "use strict";

  function FastClick (layer, options) {
    function bind (method, context) {
      return function () {
        return method.apply(context, arguments)
      }
    }

    var oldOnClick;
    if (options = options || {}, this.trackingClick = !1, this.trackingClickStart = 0, this.targetElement = null, this.touchStartX = 0, this.touchStartY = 0, this.lastTouchIdentifier = 0, this.touchBoundary = options.touchBoundary || 10, this.layer = layer, this.tapDelay = options.tapDelay || 200, this.tapTimeout = options.tapTimeout || 700, !FastClick.notNeeded(layer)) {
      for (var methods = ["onMouse", "onClick", "onTouchStart", "onTouchMove", "onTouchEnd", "onTouchCancel"], context = this, i = 0, l = methods.length; i < l; i++) context[methods[i]] = bind(context[methods[i]], context);
      deviceIsAndroid && (layer.addEventListener("mouseover", this.onMouse, !0), layer.addEventListener("mousedown", this.onMouse, !0), layer.addEventListener("mouseup", this.onMouse, !0)), layer.addEventListener("click", this.onClick, !0), layer.addEventListener("touchstart", this.onTouchStart, !1), layer.addEventListener("touchmove", this.onTouchMove, !1), layer.addEventListener("touchend", this.onTouchEnd, !1), layer.addEventListener("touchcancel", this.onTouchCancel, !1), Event.prototype.stopImmediatePropagation || (layer.removeEventListener = function (type, callback, capture) {
        var rmv = Node.prototype.removeEventListener;
        "click" === type ? rmv.call(layer, type, callback.hijacked || callback, capture) : rmv.call(layer, type, callback, capture)
      }, layer.addEventListener = function (type, callback, capture) {
        var adv = Node.prototype.addEventListener;
        "click" === type ? adv.call(layer, type, callback.hijacked || (callback.hijacked = function (event) {
          event.propagationStopped || callback(event)
        }), capture) : adv.call(layer, type, callback, capture)
      }), "function" == typeof layer.onclick && (oldOnClick = layer.onclick, layer.addEventListener("click", function (event) {
        oldOnClick(event)
      }, !1), layer.onclick = null)
    }
  }

  var deviceIsWindowsPhone = navigator.userAgent.indexOf("Windows Phone") >= 0,
    deviceIsAndroid = navigator.userAgent.indexOf("Android") > 0 && !deviceIsWindowsPhone,
    deviceIsIOS = /iP(ad|hone|od)/.test(navigator.userAgent) && !deviceIsWindowsPhone,
    deviceIsIOS4 = deviceIsIOS && /OS 4_\d(_\d)?/.test(navigator.userAgent),
    deviceIsIOSWithBadTarget = deviceIsIOS && /OS [6-7]_\d/.test(navigator.userAgent),
    deviceIsBlackBerry10 = navigator.userAgent.indexOf("BB10") > 0;
  FastClick.prototype.needsClick = function (target) {
    switch (target.nodeName.toLowerCase()) {
      case"button":
      case"select":
      case"textarea":
        if (target.disabled) return !0;
        break;
      case"input":
        if (deviceIsIOS && "file" === target.type || target.disabled) return !0;
        break;
      case"label":
      case"iframe":
      case"video":
        return !0
    }
    return /\bneedsclick\b/.test(target.className)
  }, FastClick.prototype.needsFocus = function (target) {
    switch (target.nodeName.toLowerCase()) {
      case"textarea":
        return !0;
      case"select":
        return !deviceIsAndroid;
      case"input":
        switch (target.type) {
          case"button":
          case"checkbox":
          case"file":
          case"image":
          case"radio":
          case"submit":
            return !1
        }
        return !target.disabled && !target.readOnly;
      default:
        return /\bneedsfocus\b/.test(target.className)
    }
  }, FastClick.prototype.sendClick = function (targetElement, event) {
    var clickEvent, touch;
    document.activeElement && document.activeElement !== targetElement && document.activeElement.blur(), touch = event.changedTouches[0], clickEvent = document.createEvent("MouseEvents"), clickEvent.initMouseEvent(this.determineEventType(targetElement), !0, !0, window, 1, touch.screenX, touch.screenY, touch.clientX, touch.clientY, !1, !1, !1, !1, 0, null), clickEvent.forwardedTouchEvent = !0, targetElement.dispatchEvent(clickEvent)
  }, FastClick.prototype.determineEventType = function (targetElement) {
    return deviceIsAndroid && "select" === targetElement.tagName.toLowerCase() ? "mousedown" : "click"
  }, FastClick.prototype.focus = function (targetElement) {
    var length;
    deviceIsIOS && targetElement.setSelectionRange && 0 !== targetElement.type.indexOf("date") && "time" !== targetElement.type && "month" !== targetElement.type ? (length = targetElement.value.length, targetElement.setSelectionRange(length, length)) : targetElement.focus()
  }, FastClick.prototype.updateScrollParent = function (targetElement) {
    var scrollParent, parentElement;
    if (scrollParent = targetElement.fastClickScrollParent, !scrollParent || !scrollParent.contains(targetElement)) {
      parentElement = targetElement;
      do {
        if (parentElement.scrollHeight > parentElement.offsetHeight) {
          scrollParent = parentElement, targetElement.fastClickScrollParent = parentElement;
          break
        }
        parentElement = parentElement.parentElement
      } while (parentElement)
    }
    scrollParent && (scrollParent.fastClickLastScrollTop = scrollParent.scrollTop)
  }, FastClick.prototype.getTargetElementFromEventTarget = function (eventTarget) {
    return eventTarget.nodeType === Node.TEXT_NODE ? eventTarget.parentNode : eventTarget
  }, FastClick.prototype.onTouchStart = function (event) {
    var targetElement, touch, selection;
    if (event.targetTouches.length > 1) return !0;
    if (targetElement = this.getTargetElementFromEventTarget(event.target), touch = event.targetTouches[0], deviceIsIOS) {
      if (selection = window.getSelection(), selection.rangeCount && !selection.isCollapsed) return !0;
      if (!deviceIsIOS4) {
        if (touch.identifier && touch.identifier === this.lastTouchIdentifier) return event.preventDefault(), !1;
        this.lastTouchIdentifier = touch.identifier, this.updateScrollParent(targetElement)
      }
    }
    return this.trackingClick = !0, this.trackingClickStart = event.timeStamp, this.targetElement = targetElement, this.touchStartX = touch.pageX, this.touchStartY = touch.pageY, event.timeStamp - this.lastClickTime < this.tapDelay && event.preventDefault(), !0
  }, FastClick.prototype.touchHasMoved = function (event) {
    var touch = event.changedTouches[0], boundary = this.touchBoundary;
    return Math.abs(touch.pageX - this.touchStartX) > boundary || Math.abs(touch.pageY - this.touchStartY) > boundary
  }, FastClick.prototype.onTouchMove = function (event) {
    return !this.trackingClick || ((this.targetElement !== this.getTargetElementFromEventTarget(event.target) || this.touchHasMoved(event)) && (this.trackingClick = !1, this.targetElement = null), !0)
  }, FastClick.prototype.findControl = function (labelElement) {
    return void 0 !== labelElement.control ? labelElement.control : labelElement.htmlFor ? document.getElementById(labelElement.htmlFor) : labelElement.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")
  }, FastClick.prototype.onTouchEnd = function (event) {
    var forElement, trackingClickStart, targetTagName, scrollParent, touch, targetElement = this.targetElement;
    if (!this.trackingClick) return !0;
    if (event.timeStamp - this.lastClickTime < this.tapDelay) return this.cancelNextClick = !0, !0;
    if (event.timeStamp - this.trackingClickStart > this.tapTimeout) return !0;
    if (this.cancelNextClick = !1, this.lastClickTime = event.timeStamp, trackingClickStart = this.trackingClickStart, this.trackingClick = !1, this.trackingClickStart = 0, deviceIsIOSWithBadTarget && (touch = event.changedTouches[0], targetElement = document.elementFromPoint(touch.pageX - window.pageXOffset, touch.pageY - window.pageYOffset) || targetElement, targetElement.fastClickScrollParent = this.targetElement.fastClickScrollParent), targetTagName = targetElement.tagName.toLowerCase(), "label" === targetTagName) {
      if (forElement = this.findControl(targetElement)) {
        if (this.focus(targetElement), deviceIsAndroid) return !1;
        targetElement = forElement
      }
    } else if (this.needsFocus(targetElement)) return event.timeStamp - trackingClickStart > 100 || deviceIsIOS && window.top !== window && "input" === targetTagName ? (this.targetElement = null, !1) : (this.focus(targetElement), this.sendClick(targetElement, event), deviceIsIOS && "select" === targetTagName || (this.targetElement = null, event.preventDefault()), !1);
    return !(!deviceIsIOS || deviceIsIOS4 || (scrollParent = targetElement.fastClickScrollParent, !scrollParent || scrollParent.fastClickLastScrollTop === scrollParent.scrollTop)) || (this.needsClick(targetElement) || (event.preventDefault(), this.sendClick(targetElement, event)), !1)
  }, FastClick.prototype.onTouchCancel = function () {
    this.trackingClick = !1, this.targetElement = null
  }, FastClick.prototype.onMouse = function (event) {
    return !this.targetElement || (!!event.forwardedTouchEvent || (!event.cancelable || (!(!this.needsClick(this.targetElement) || this.cancelNextClick) || (event.stopImmediatePropagation ? event.stopImmediatePropagation() : event.propagationStopped = !0, event.stopPropagation(), event.preventDefault(), !1))))
  }, FastClick.prototype.onClick = function (event) {
    var permitted;
    return this.trackingClick ? (this.targetElement = null, this.trackingClick = !1, !0) : "submit" === event.target.type && 0 === event.detail || (permitted = this.onMouse(event), permitted || (this.targetElement = null), permitted)
  }, FastClick.prototype.destroy = function () {
    var layer = this.layer;
    deviceIsAndroid && (layer.removeEventListener("mouseover", this.onMouse, !0), layer.removeEventListener("mousedown", this.onMouse, !0), layer.removeEventListener("mouseup", this.onMouse, !0)), layer.removeEventListener("click", this.onClick, !0), layer.removeEventListener("touchstart", this.onTouchStart, !1), layer.removeEventListener("touchmove", this.onTouchMove, !1), layer.removeEventListener("touchend", this.onTouchEnd, !1), layer.removeEventListener("touchcancel", this.onTouchCancel, !1)
  }, FastClick.notNeeded = function (layer) {
    var metaViewport, chromeVersion, blackberryVersion, firefoxVersion;
    if ("undefined" == typeof window.ontouchstart) return !0;
    if (chromeVersion = +(/Chrome\/([0-9]+)/.exec(navigator.userAgent) || [, 0])[1]) {
      if (!deviceIsAndroid) return !0;
      if (metaViewport = document.querySelector("meta[name=viewport]")) {
        if (metaViewport.content.indexOf("user-scalable=no") !== -1) return !0;
        if (chromeVersion > 31 && document.documentElement.scrollWidth <= window.outerWidth) return !0
      }
    }
    if (deviceIsBlackBerry10 && (blackberryVersion = navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/), blackberryVersion[1] >= 10 && blackberryVersion[2] >= 3 && (metaViewport = document.querySelector("meta[name=viewport]")))) {
      if (metaViewport.content.indexOf("user-scalable=no") !== -1) return !0;
      if (document.documentElement.scrollWidth <= window.outerWidth) return !0
    }
    return "none" === layer.style.msTouchAction || "manipulation" === layer.style.touchAction || (firefoxVersion = +(/Firefox\/([0-9]+)/.exec(navigator.userAgent) || [, 0])[1], !!(firefoxVersion >= 27 && (metaViewport = document.querySelector("meta[name=viewport]"), metaViewport && (metaViewport.content.indexOf("user-scalable=no") !== -1 || document.documentElement.scrollWidth <= window.outerWidth))) || ("none" === layer.style.touchAction || "manipulation" === layer.style.touchAction))
  }, FastClick.attach = function (layer, options) {
    return new FastClick(layer, options)
  }, "function" == typeof define && "object" == typeof define.amd && define.amd ? define(function () {
    return FastClick
  }) : "undefined" != typeof module && module.exports ? (module.exports = FastClick.attach, module.exports.FastClick = FastClick) : window.FastClick = FastClick
}(), function () {
  function SimplexNoise (random) {
    random || (random = Math.random), this.p = new Uint8Array(256), this.perm = new Uint8Array(512), this.permMod12 = new Uint8Array(512);
    for (var i = 0; i < 256; i++) this.p[i] = 256 * random();
    for (i = 0; i < 512; i++) this.perm[i] = this.p[255 & i], this.permMod12[i] = this.perm[i] % 12
  }

  var F2 = .5 * (Math.sqrt(3) - 1), G2 = (3 - Math.sqrt(3)) / 6, F3 = 1 / 3, G3 = 1 / 6, F4 = (Math.sqrt(5) - 1) / 4,
    G4 = (5 - Math.sqrt(5)) / 20;
  SimplexNoise.prototype = {
    grad3: new Float32Array([1, 1, 0, -1, 1, 0, 1, -1, 0, -1, -1, 0, 1, 0, 1, -1, 0, 1, 1, 0, -1, -1, 0, -1, 0, 1, 1, 0, -1, 1, 0, 1, -1, 0, -1, -1]),
    grad4: new Float32Array([0, 1, 1, 1, 0, 1, 1, -1, 0, 1, -1, 1, 0, 1, -1, -1, 0, -1, 1, 1, 0, -1, 1, -1, 0, -1, -1, 1, 0, -1, -1, -1, 1, 0, 1, 1, 1, 0, 1, -1, 1, 0, -1, 1, 1, 0, -1, -1, -1, 0, 1, 1, -1, 0, 1, -1, -1, 0, -1, 1, -1, 0, -1, -1, 1, 1, 0, 1, 1, 1, 0, -1, 1, -1, 0, 1, 1, -1, 0, -1, -1, 1, 0, 1, -1, 1, 0, -1, -1, -1, 0, 1, -1, -1, 0, -1, 1, 1, 1, 0, 1, 1, -1, 0, 1, -1, 1, 0, 1, -1, -1, 0, -1, 1, 1, 0, -1, 1, -1, 0, -1, -1, 1, 0, -1, -1, -1, 0]),
    noise2D: function (xin, yin) {
      var i1, j1, permMod12 = this.permMod12, perm = this.perm, grad3 = this.grad3, n0 = 0, n1 = 0, n2 = 0,
        s = (xin + yin) * F2, i = Math.floor(xin + s), j = Math.floor(yin + s), t = (i + j) * G2, X0 = i - t,
        Y0 = j - t, x0 = xin - X0, y0 = yin - Y0;
      x0 > y0 ? (i1 = 1, j1 = 0) : (i1 = 0, j1 = 1);
      var x1 = x0 - i1 + G2, y1 = y0 - j1 + G2, x2 = x0 - 1 + 2 * G2, y2 = y0 - 1 + 2 * G2, ii = 255 & i, jj = 255 & j,
        t0 = .5 - x0 * x0 - y0 * y0;
      if (t0 >= 0) {
        var gi0 = 3 * permMod12[ii + perm[jj]];
        t0 *= t0, n0 = t0 * t0 * (grad3[gi0] * x0 + grad3[gi0 + 1] * y0)
      }
      var t1 = .5 - x1 * x1 - y1 * y1;
      if (t1 >= 0) {
        var gi1 = 3 * permMod12[ii + i1 + perm[jj + j1]];
        t1 *= t1, n1 = t1 * t1 * (grad3[gi1] * x1 + grad3[gi1 + 1] * y1)
      }
      var t2 = .5 - x2 * x2 - y2 * y2;
      if (t2 >= 0) {
        var gi2 = 3 * permMod12[ii + 1 + perm[jj + 1]];
        t2 *= t2, n2 = t2 * t2 * (grad3[gi2] * x2 + grad3[gi2 + 1] * y2)
      }
      return 70 * (n0 + n1 + n2)
    },
    noise3D: function (xin, yin, zin) {
      var n0, n1, n2, n3, i1, j1, k1, i2, j2, k2, permMod12 = this.permMod12, perm = this.perm, grad3 = this.grad3,
        s = (xin + yin + zin) * F3, i = Math.floor(xin + s), j = Math.floor(yin + s), k = Math.floor(zin + s),
        t = (i + j + k) * G3, X0 = i - t, Y0 = j - t, Z0 = k - t, x0 = xin - X0, y0 = yin - Y0, z0 = zin - Z0;
      x0 >= y0 ? y0 >= z0 ? (i1 = 1, j1 = 0, k1 = 0, i2 = 1, j2 = 1, k2 = 0) : x0 >= z0 ? (i1 = 1, j1 = 0, k1 = 0, i2 = 1, j2 = 0, k2 = 1) : (i1 = 0, j1 = 0, k1 = 1, i2 = 1, j2 = 0, k2 = 1) : y0 < z0 ? (i1 = 0, j1 = 0, k1 = 1, i2 = 0, j2 = 1, k2 = 1) : x0 < z0 ? (i1 = 0, j1 = 1, k1 = 0, i2 = 0, j2 = 1, k2 = 1) : (i1 = 0, j1 = 1, k1 = 0, i2 = 1, j2 = 1, k2 = 0);
      var x1 = x0 - i1 + G3, y1 = y0 - j1 + G3, z1 = z0 - k1 + G3, x2 = x0 - i2 + 2 * G3, y2 = y0 - j2 + 2 * G3,
        z2 = z0 - k2 + 2 * G3, x3 = x0 - 1 + 3 * G3, y3 = y0 - 1 + 3 * G3, z3 = z0 - 1 + 3 * G3, ii = 255 & i,
        jj = 255 & j, kk = 255 & k, t0 = .6 - x0 * x0 - y0 * y0 - z0 * z0;
      if (t0 < 0) n0 = 0; else {
        var gi0 = 3 * permMod12[ii + perm[jj + perm[kk]]];
        t0 *= t0, n0 = t0 * t0 * (grad3[gi0] * x0 + grad3[gi0 + 1] * y0 + grad3[gi0 + 2] * z0)
      }
      var t1 = .6 - x1 * x1 - y1 * y1 - z1 * z1;
      if (t1 < 0) n1 = 0; else {
        var gi1 = 3 * permMod12[ii + i1 + perm[jj + j1 + perm[kk + k1]]];
        t1 *= t1, n1 = t1 * t1 * (grad3[gi1] * x1 + grad3[gi1 + 1] * y1 + grad3[gi1 + 2] * z1)
      }
      var t2 = .6 - x2 * x2 - y2 * y2 - z2 * z2;
      if (t2 < 0) n2 = 0; else {
        var gi2 = 3 * permMod12[ii + i2 + perm[jj + j2 + perm[kk + k2]]];
        t2 *= t2, n2 = t2 * t2 * (grad3[gi2] * x2 + grad3[gi2 + 1] * y2 + grad3[gi2 + 2] * z2)
      }
      var t3 = .6 - x3 * x3 - y3 * y3 - z3 * z3;
      if (t3 < 0) n3 = 0; else {
        var gi3 = 3 * permMod12[ii + 1 + perm[jj + 1 + perm[kk + 1]]];
        t3 *= t3, n3 = t3 * t3 * (grad3[gi3] * x3 + grad3[gi3 + 1] * y3 + grad3[gi3 + 2] * z3)
      }
      return 32 * (n0 + n1 + n2 + n3)
    },
    noise4D: function (x, y, z, w) {
      var n0, n1, n2, n3, n4, perm = (this.permMod12, this.perm), grad4 = this.grad4, s = (x + y + z + w) * F4,
        i = Math.floor(x + s), j = Math.floor(y + s), k = Math.floor(z + s), l = Math.floor(w + s),
        t = (i + j + k + l) * G4, X0 = i - t, Y0 = j - t, Z0 = k - t, W0 = l - t, x0 = x - X0, y0 = y - Y0, z0 = z - Z0,
        w0 = w - W0, rankx = 0, ranky = 0, rankz = 0, rankw = 0;
      x0 > y0 ? rankx++ : ranky++, x0 > z0 ? rankx++ : rankz++, x0 > w0 ? rankx++ : rankw++, y0 > z0 ? ranky++ : rankz++, y0 > w0 ? ranky++ : rankw++, z0 > w0 ? rankz++ : rankw++;
      var i1, j1, k1, l1, i2, j2, k2, l2, i3, j3, k3, l3;
      i1 = rankx >= 3 ? 1 : 0, j1 = ranky >= 3 ? 1 : 0, k1 = rankz >= 3 ? 1 : 0, l1 = rankw >= 3 ? 1 : 0, i2 = rankx >= 2 ? 1 : 0, j2 = ranky >= 2 ? 1 : 0, k2 = rankz >= 2 ? 1 : 0, l2 = rankw >= 2 ? 1 : 0, i3 = rankx >= 1 ? 1 : 0, j3 = ranky >= 1 ? 1 : 0, k3 = rankz >= 1 ? 1 : 0, l3 = rankw >= 1 ? 1 : 0;
      var x1 = x0 - i1 + G4, y1 = y0 - j1 + G4, z1 = z0 - k1 + G4, w1 = w0 - l1 + G4, x2 = x0 - i2 + 2 * G4,
        y2 = y0 - j2 + 2 * G4, z2 = z0 - k2 + 2 * G4, w2 = w0 - l2 + 2 * G4, x3 = x0 - i3 + 3 * G4,
        y3 = y0 - j3 + 3 * G4, z3 = z0 - k3 + 3 * G4, w3 = w0 - l3 + 3 * G4, x4 = x0 - 1 + 4 * G4, y4 = y0 - 1 + 4 * G4,
        z4 = z0 - 1 + 4 * G4, w4 = w0 - 1 + 4 * G4, ii = 255 & i, jj = 255 & j, kk = 255 & k, ll = 255 & l,
        t0 = .6 - x0 * x0 - y0 * y0 - z0 * z0 - w0 * w0;
      if (t0 < 0) n0 = 0; else {
        var gi0 = perm[ii + perm[jj + perm[kk + perm[ll]]]] % 32 * 4;
        t0 *= t0, n0 = t0 * t0 * (grad4[gi0] * x0 + grad4[gi0 + 1] * y0 + grad4[gi0 + 2] * z0 + grad4[gi0 + 3] * w0)
      }
      var t1 = .6 - x1 * x1 - y1 * y1 - z1 * z1 - w1 * w1;
      if (t1 < 0) n1 = 0; else {
        var gi1 = perm[ii + i1 + perm[jj + j1 + perm[kk + k1 + perm[ll + l1]]]] % 32 * 4;
        t1 *= t1, n1 = t1 * t1 * (grad4[gi1] * x1 + grad4[gi1 + 1] * y1 + grad4[gi1 + 2] * z1 + grad4[gi1 + 3] * w1)
      }
      var t2 = .6 - x2 * x2 - y2 * y2 - z2 * z2 - w2 * w2;
      if (t2 < 0) n2 = 0; else {
        var gi2 = perm[ii + i2 + perm[jj + j2 + perm[kk + k2 + perm[ll + l2]]]] % 32 * 4;
        t2 *= t2, n2 = t2 * t2 * (grad4[gi2] * x2 + grad4[gi2 + 1] * y2 + grad4[gi2 + 2] * z2 + grad4[gi2 + 3] * w2)
      }
      var t3 = .6 - x3 * x3 - y3 * y3 - z3 * z3 - w3 * w3;
      if (t3 < 0) n3 = 0; else {
        var gi3 = perm[ii + i3 + perm[jj + j3 + perm[kk + k3 + perm[ll + l3]]]] % 32 * 4;
        t3 *= t3, n3 = t3 * t3 * (grad4[gi3] * x3 + grad4[gi3 + 1] * y3 + grad4[gi3 + 2] * z3 + grad4[gi3 + 3] * w3)
      }
      var t4 = .6 - x4 * x4 - y4 * y4 - z4 * z4 - w4 * w4;
      if (t4 < 0) n4 = 0; else {
        var gi4 = perm[ii + 1 + perm[jj + 1 + perm[kk + 1 + perm[ll + 1]]]] % 32 * 4;
        t4 *= t4, n4 = t4 * t4 * (grad4[gi4] * x4 + grad4[gi4 + 1] * y4 + grad4[gi4 + 2] * z4 + grad4[gi4 + 3] * w4)
      }
      return 27 * (n0 + n1 + n2 + n3 + n4)
    }
  }, "undefined" != typeof define && define.amd && define(function () {
    return SimplexNoise
  }), "undefined" != typeof exports ? exports.SimplexNoise = SimplexNoise : "undefined" != typeof navigator && (this.SimplexNoise = SimplexNoise), "undefined" != typeof module && (module.exports = SimplexNoise)
}();
var _gsScope = "undefined" != typeof module && module.exports && "undefined" != typeof global ? global : this || window;
(_gsScope._gsQueue || (_gsScope._gsQueue = [])).push(function () {
  "use strict";
  _gsScope._gsDefine("TweenMax", ["core.Animation", "core.SimpleTimeline", "TweenLite"], function (Animation, SimpleTimeline, TweenLite) {
    var _slice = function (a) {
        var i, b = [], l = a.length;
        for (i = 0; i !== l; b.push(a[i++])) ;
        return b
      }, TweenMax = function (target, duration, vars) {
        TweenLite.call(this, target, duration, vars), this._cycle = 0, this._yoyo = this.vars.yoyo === !0, this._repeat = this.vars.repeat || 0, this._repeatDelay = this.vars.repeatDelay || 0, this._dirty = !0, this.render = TweenMax.prototype.render
      }, _tinyNum = 1e-10, TweenLiteInternals = TweenLite._internals, _isSelector = TweenLiteInternals.isSelector,
      _isArray = TweenLiteInternals.isArray, p = TweenMax.prototype = TweenLite.to({}, .1, {}), _blankArray = [];
    TweenMax.version = "1.17.0", p.constructor = TweenMax, p.kill()._gc = !1, TweenMax.killTweensOf = TweenMax.killDelayedCallsTo = TweenLite.killTweensOf, TweenMax.getTweensOf = TweenLite.getTweensOf, TweenMax.lagSmoothing = TweenLite.lagSmoothing, TweenMax.ticker = TweenLite.ticker, TweenMax.render = TweenLite.render, p.invalidate = function () {
      return this._yoyo = this.vars.yoyo === !0, this._repeat = this.vars.repeat || 0, this._repeatDelay = this.vars.repeatDelay || 0, this._uncache(!0), TweenLite.prototype.invalidate.call(this)
    }, p.updateTo = function (vars, resetDuration) {
      var p, curRatio = this.ratio, immediate = this.vars.immediateRender || vars.immediateRender;
      resetDuration && this._startTime < this._timeline._time && (this._startTime = this._timeline._time, this._uncache(!1), this._gc ? this._enabled(!0, !1) : this._timeline.insert(this, this._startTime - this._delay));
      for (p in vars) this.vars[p] = vars[p];
      if (this._initted || immediate) if (resetDuration) this._initted = !1, immediate && this.render(0, !0, !0); else if (this._gc && this._enabled(!0, !1), this._notifyPluginsOfEnabled && this._firstPT && TweenLite._onPluginEvent("_onDisable", this), this._time / this._duration > .998) {
        var prevTime = this._time;
        this.render(0, !0, !1), this._initted = !1, this.render(prevTime, !0, !1)
      } else if (this._time > 0 || immediate) {
        this._initted = !1, this._init();
        for (var endValue, inv = 1 / (1 - curRatio), pt = this._firstPT; pt;) endValue = pt.s + pt.c, pt.c *= inv, pt.s = endValue - pt.c, pt = pt._next
      }
      return this
    }, p.render = function (time, suppressEvents, force) {
      this._initted || 0 === this._duration && this.vars.repeat && this.invalidate();
      var isComplete, callback, pt, cycleDuration, r, type, pow, rawPrevTime,
        totalDur = this._dirty ? this.totalDuration() : this._totalDuration, prevTime = this._time,
        prevTotalTime = this._totalTime, prevCycle = this._cycle, duration = this._duration,
        prevRawPrevTime = this._rawPrevTime;
      if (time >= totalDur ? (this._totalTime = totalDur, this._cycle = this._repeat, this._yoyo && 0 !== (1 & this._cycle) ? (this._time = 0, this.ratio = this._ease._calcEnd ? this._ease.getRatio(0) : 0) : (this._time = duration, this.ratio = this._ease._calcEnd ? this._ease.getRatio(1) : 1), this._reversed || (isComplete = !0, callback = "onComplete", force = force || this._timeline.autoRemoveChildren), 0 === duration && (this._initted || !this.vars.lazy || force) && (this._startTime === this._timeline._duration && (time = 0), (0 === time || prevRawPrevTime < 0 || prevRawPrevTime === _tinyNum) && prevRawPrevTime !== time && (force = !0, prevRawPrevTime > _tinyNum && (callback = "onReverseComplete")), this._rawPrevTime = rawPrevTime = !suppressEvents || time || prevRawPrevTime === time ? time : _tinyNum)) : time < 1e-7 ? (this._totalTime = this._time = this._cycle = 0, this.ratio = this._ease._calcEnd ? this._ease.getRatio(0) : 0, (0 !== prevTotalTime || 0 === duration && prevRawPrevTime > 0) && (callback = "onReverseComplete", isComplete = this._reversed), time < 0 && (this._active = !1, 0 === duration && (this._initted || !this.vars.lazy || force) && (prevRawPrevTime >= 0 && (force = !0), this._rawPrevTime = rawPrevTime = !suppressEvents || time || prevRawPrevTime === time ? time : _tinyNum)), this._initted || (force = !0)) : (this._totalTime = this._time = time, 0 !== this._repeat && (cycleDuration = duration + this._repeatDelay, this._cycle = this._totalTime / cycleDuration >> 0, 0 !== this._cycle && this._cycle === this._totalTime / cycleDuration && this._cycle--, this._time = this._totalTime - this._cycle * cycleDuration, this._yoyo && 0 !== (1 & this._cycle) && (this._time = duration - this._time), this._time > duration ? this._time = duration : this._time < 0 && (this._time = 0)), this._easeType ? (r = this._time / duration, type = this._easeType, pow = this._easePower, (1 === type || 3 === type && r >= .5) && (r = 1 - r), 3 === type && (r *= 2), 1 === pow ? r *= r : 2 === pow ? r *= r * r : 3 === pow ? r *= r * r * r : 4 === pow && (r *= r * r * r * r), 1 === type ? this.ratio = 1 - r : 2 === type ? this.ratio = r : this._time / duration < .5 ? this.ratio = r / 2 : this.ratio = 1 - r / 2) : this.ratio = this._ease.getRatio(this._time / duration)), prevTime === this._time && !force && prevCycle === this._cycle) return void(prevTotalTime !== this._totalTime && this._onUpdate && (suppressEvents || this._callback("onUpdate")));
      if (!this._initted) {
        if (this._init(), !this._initted || this._gc) return;
        if (!force && this._firstPT && (this.vars.lazy !== !1 && this._duration || this.vars.lazy && !this._duration)) return this._time = prevTime, this._totalTime = prevTotalTime, this._rawPrevTime = prevRawPrevTime, this._cycle = prevCycle, TweenLiteInternals.lazyTweens.push(this), void(this._lazy = [time, suppressEvents]);
        this._time && !isComplete ? this.ratio = this._ease.getRatio(this._time / duration) : isComplete && this._ease._calcEnd && (this.ratio = this._ease.getRatio(0 === this._time ? 0 : 1))
      }
      for (this._lazy !== !1 && (this._lazy = !1), this._active || !this._paused && this._time !== prevTime && time >= 0 && (this._active = !0), 0 === prevTotalTime && (2 === this._initted && time > 0 && this._init(), this._startAt && (time >= 0 ? this._startAt.render(time, suppressEvents, force) : callback || (callback = "_dummyGS")), this.vars.onStart && (0 === this._totalTime && 0 !== duration || suppressEvents || this._callback("onStart"))), pt = this._firstPT; pt;) pt.f ? pt.t[pt.p](pt.c * this.ratio + pt.s) : pt.t[pt.p] = pt.c * this.ratio + pt.s, pt = pt._next;
      this._onUpdate && (time < 0 && this._startAt && this._startTime && this._startAt.render(time, suppressEvents, force), suppressEvents || (this._totalTime !== prevTotalTime || isComplete) && this._callback("onUpdate")), this._cycle !== prevCycle && (suppressEvents || this._gc || this.vars.onRepeat && this._callback("onRepeat")), callback && (this._gc && !force || (time < 0 && this._startAt && !this._onUpdate && this._startTime && this._startAt.render(time, suppressEvents, force), isComplete && (this._timeline.autoRemoveChildren && this._enabled(!1, !1), this._active = !1), !suppressEvents && this.vars[callback] && this._callback(callback), 0 === duration && this._rawPrevTime === _tinyNum && rawPrevTime !== _tinyNum && (this._rawPrevTime = 0)))
    }, TweenMax.to = function (target, duration, vars) {
      return new TweenMax(target, duration, vars)
    }, TweenMax.from = function (target, duration, vars) {
      return vars.runBackwards = !0, vars.immediateRender = 0 != vars.immediateRender, new TweenMax(target, duration, vars)
    }, TweenMax.fromTo = function (target, duration, fromVars, toVars) {
      return toVars.startAt = fromVars, toVars.immediateRender = 0 != toVars.immediateRender && 0 != fromVars.immediateRender, new TweenMax(target, duration, toVars)
    }, TweenMax.staggerTo = TweenMax.allTo = function (targets, duration, vars, stagger, onCompleteAll, onCompleteAllParams, onCompleteAllScope) {
      stagger = stagger || 0;
      var l, copy, i, p, delay = vars.delay || 0, a = [], finalComplete = function () {
        vars.onComplete && vars.onComplete.apply(vars.onCompleteScope || this, arguments), onCompleteAll.apply(onCompleteAllScope || vars.callbackScope || this, onCompleteAllParams || _blankArray)
      };
      for (_isArray(targets) || ("string" == typeof targets && (targets = TweenLite.selector(targets) || targets), _isSelector(targets) && (targets = _slice(targets))), targets = targets || [], stagger < 0 && (targets = _slice(targets), targets.reverse(), stagger *= -1), l = targets.length - 1, i = 0; i <= l; i++) {
        copy = {};
        for (p in vars) copy[p] = vars[p];
        copy.delay = delay, i === l && onCompleteAll && (copy.onComplete = finalComplete), a[i] = new TweenMax(targets[i], duration, copy), delay += stagger
      }
      return a
    }, TweenMax.staggerFrom = TweenMax.allFrom = function (targets, duration, vars, stagger, onCompleteAll, onCompleteAllParams, onCompleteAllScope) {
      return vars.runBackwards = !0, vars.immediateRender = 0 != vars.immediateRender, TweenMax.staggerTo(targets, duration, vars, stagger, onCompleteAll, onCompleteAllParams, onCompleteAllScope)
    }, TweenMax.staggerFromTo = TweenMax.allFromTo = function (targets, duration, fromVars, toVars, stagger, onCompleteAll, onCompleteAllParams, onCompleteAllScope) {
      return toVars.startAt = fromVars, toVars.immediateRender = 0 != toVars.immediateRender && 0 != fromVars.immediateRender, TweenMax.staggerTo(targets, duration, toVars, stagger, onCompleteAll, onCompleteAllParams, onCompleteAllScope)
    }, TweenMax.delayedCall = function (delay, callback, params, scope, useFrames) {
      return new TweenMax(callback, 0, {
        delay: delay,
        onComplete: callback,
        onCompleteParams: params,
        callbackScope: scope,
        onReverseComplete: callback,
        onReverseCompleteParams: params,
        immediateRender: !1,
        useFrames: useFrames,
        overwrite: 0
      })
    }, TweenMax.set = function (target, vars) {
      return new TweenMax(target, 0, vars)
    }, TweenMax.isTweening = function (target) {
      return TweenLite.getTweensOf(target, !0).length > 0
    };
    var _getChildrenOf = function (timeline, includeTimelines) {
      for (var a = [], cnt = 0, tween = timeline._first; tween;) tween instanceof TweenLite ? a[cnt++] = tween : (includeTimelines && (a[cnt++] = tween), a = a.concat(_getChildrenOf(tween, includeTimelines)), cnt = a.length), tween = tween._next;
      return a
    }, getAllTweens = TweenMax.getAllTweens = function (includeTimelines) {
      return _getChildrenOf(Animation._rootTimeline, includeTimelines).concat(_getChildrenOf(Animation._rootFramesTimeline, includeTimelines))
    };
    TweenMax.killAll = function (complete, tweens, delayedCalls, timelines) {
      null == tweens && (tweens = !0), null == delayedCalls && (delayedCalls = !0);
      var isDC, tween, i, a = getAllTweens(0 != timelines), l = a.length, allTrue = tweens && delayedCalls && timelines;
      for (i = 0; i < l; i++) tween = a[i], (allTrue || tween instanceof SimpleTimeline || (isDC = tween.target === tween.vars.onComplete) && delayedCalls || tweens && !isDC) && (complete ? tween.totalTime(tween._reversed ? 0 : tween.totalDuration()) : tween._enabled(!1, !1))
    }, TweenMax.killChildTweensOf = function (parent, complete) {
      if (null != parent) {
        var a, curParent, p, i, l, tl = TweenLiteInternals.tweenLookup;
        if ("string" == typeof parent && (parent = TweenLite.selector(parent) || parent), _isSelector(parent) && (parent = _slice(parent)), _isArray(parent)) for (i = parent.length; --i > -1;) TweenMax.killChildTweensOf(parent[i], complete); else {
          a = [];
          for (p in tl) for (curParent = tl[p].target.parentNode; curParent;) curParent === parent && (a = a.concat(tl[p].tweens)), curParent = curParent.parentNode;
          for (l = a.length, i = 0; i < l; i++) complete && a[i].totalTime(a[i].totalDuration()), a[i]._enabled(!1, !1)
        }
      }
    };
    var _changePause = function (pause, tweens, delayedCalls, timelines) {
      tweens = tweens !== !1, delayedCalls = delayedCalls !== !1, timelines = timelines !== !1;
      for (var isDC, tween, a = getAllTweens(timelines), allTrue = tweens && delayedCalls && timelines, i = a.length; --i > -1;) tween = a[i], (allTrue || tween instanceof SimpleTimeline || (isDC = tween.target === tween.vars.onComplete) && delayedCalls || tweens && !isDC) && tween.paused(pause)
    };
    return TweenMax.pauseAll = function (tweens, delayedCalls, timelines) {
      _changePause(!0, tweens, delayedCalls, timelines)
    }, TweenMax.resumeAll = function (tweens, delayedCalls, timelines) {
      _changePause(!1, tweens, delayedCalls, timelines)
    }, TweenMax.globalTimeScale = function (value) {
      var tl = Animation._rootTimeline, t = TweenLite.ticker.time;
      return arguments.length ? (value = value || _tinyNum,
        tl._startTime = t - (t - tl._startTime) * tl._timeScale / value, tl = Animation._rootFramesTimeline, t = TweenLite.ticker.frame, tl._startTime = t - (t - tl._startTime) * tl._timeScale / value, tl._timeScale = Animation._rootTimeline._timeScale = value, value) : tl._timeScale
    }, p.progress = function (value) {
      return arguments.length ? this.totalTime(this.duration() * (this._yoyo && 0 !== (1 & this._cycle) ? 1 - value : value) + this._cycle * (this._duration + this._repeatDelay), !1) : this._time / this.duration()
    }, p.totalProgress = function (value) {
      return arguments.length ? this.totalTime(this.totalDuration() * value, !1) : this._totalTime / this.totalDuration()
    }, p.time = function (value, suppressEvents) {
      return arguments.length ? (this._dirty && this.totalDuration(), value > this._duration && (value = this._duration), this._yoyo && 0 !== (1 & this._cycle) ? value = this._duration - value + this._cycle * (this._duration + this._repeatDelay) : 0 !== this._repeat && (value += this._cycle * (this._duration + this._repeatDelay)), this.totalTime(value, suppressEvents)) : this._time
    }, p.duration = function (value) {
      return arguments.length ? Animation.prototype.duration.call(this, value) : this._duration
    }, p.totalDuration = function (value) {
      return arguments.length ? this._repeat === -1 ? this : this.duration((value - this._repeat * this._repeatDelay) / (this._repeat + 1)) : (this._dirty && (this._totalDuration = this._repeat === -1 ? 999999999999 : this._duration * (this._repeat + 1) + this._repeatDelay * this._repeat, this._dirty = !1), this._totalDuration)
    }, p.repeat = function (value) {
      return arguments.length ? (this._repeat = value, this._uncache(!0)) : this._repeat
    }, p.repeatDelay = function (value) {
      return arguments.length ? (this._repeatDelay = value, this._uncache(!0)) : this._repeatDelay
    }, p.yoyo = function (value) {
      return arguments.length ? (this._yoyo = value, this) : this._yoyo
    }, TweenMax
  }, !0), _gsScope._gsDefine("TimelineLite", ["core.Animation", "core.SimpleTimeline", "TweenLite"], function (Animation, SimpleTimeline, TweenLite) {
    var TimelineLite = function (vars) {
        SimpleTimeline.call(this, vars), this._labels = {}, this.autoRemoveChildren = this.vars.autoRemoveChildren === !0, this.smoothChildTiming = this.vars.smoothChildTiming === !0, this._sortChildren = !0, this._onUpdate = this.vars.onUpdate;
        var val, p, v = this.vars;
        for (p in v) val = v[p], _isArray(val) && val.join("").indexOf("{self}") !== -1 && (v[p] = this._swapSelfInParams(val));
        _isArray(v.tweens) && this.add(v.tweens, 0, v.align, v.stagger)
      }, _tinyNum = 1e-10, TweenLiteInternals = TweenLite._internals, _internals = TimelineLite._internals = {},
      _isSelector = TweenLiteInternals.isSelector, _isArray = TweenLiteInternals.isArray,
      _lazyTweens = TweenLiteInternals.lazyTweens, _lazyRender = TweenLiteInternals.lazyRender, _blankArray = [],
      _globals = _gsScope._gsDefine.globals, _copy = function (vars) {
        var p, copy = {};
        for (p in vars) copy[p] = vars[p];
        return copy
      }, _pauseCallback = _internals.pauseCallback = function (tween, callback, params, scope) {
        var sibling, tl = tween._timeline, time = tl._totalTime, startTime = tween._startTime,
          reversed = tween._rawPrevTime < 0 || 0 === tween._rawPrevTime && tl._reversed, next = reversed ? 0 : _tinyNum,
          prev = reversed ? _tinyNum : 0;
        if (callback || !this._forcingPlayhead) {
          for (tl.pause(startTime), sibling = tween._prev; sibling && sibling._startTime === startTime;) sibling._rawPrevTime = prev, sibling = sibling._prev;
          for (sibling = tween._next; sibling && sibling._startTime === startTime;) sibling._rawPrevTime = next, sibling = sibling._next;
          callback && callback.apply(scope || tl.vars.callbackScope || tl, params || _blankArray), !this._forcingPlayhead && tl._paused || tl.seek(time)
        }
      }, _slice = function (a) {
        var i, b = [], l = a.length;
        for (i = 0; i !== l; b.push(a[i++])) ;
        return b
      }, p = TimelineLite.prototype = new SimpleTimeline;
    return TimelineLite.version = "1.17.0", p.constructor = TimelineLite, p.kill()._gc = p._forcingPlayhead = !1, p.to = function (target, duration, vars, position) {
      var Engine = vars.repeat && _globals.TweenMax || TweenLite;
      return duration ? this.add(new Engine(target, duration, vars), position) : this.set(target, vars, position)
    }, p.from = function (target, duration, vars, position) {
      return this.add((vars.repeat && _globals.TweenMax || TweenLite).from(target, duration, vars), position)
    }, p.fromTo = function (target, duration, fromVars, toVars, position) {
      var Engine = toVars.repeat && _globals.TweenMax || TweenLite;
      return duration ? this.add(Engine.fromTo(target, duration, fromVars, toVars), position) : this.set(target, toVars, position)
    }, p.staggerTo = function (targets, duration, vars, stagger, position, onCompleteAll, onCompleteAllParams, onCompleteAllScope) {
      var i, tl = new TimelineLite({
        onComplete: onCompleteAll,
        onCompleteParams: onCompleteAllParams,
        callbackScope: onCompleteAllScope,
        smoothChildTiming: this.smoothChildTiming
      });
      for ("string" == typeof targets && (targets = TweenLite.selector(targets) || targets), targets = targets || [], _isSelector(targets) && (targets = _slice(targets)), stagger = stagger || 0, stagger < 0 && (targets = _slice(targets), targets.reverse(), stagger *= -1), i = 0; i < targets.length; i++) vars.startAt && (vars.startAt = _copy(vars.startAt)), tl.to(targets[i], duration, _copy(vars), i * stagger);
      return this.add(tl, position)
    }, p.staggerFrom = function (targets, duration, vars, stagger, position, onCompleteAll, onCompleteAllParams, onCompleteAllScope) {
      return vars.immediateRender = 0 != vars.immediateRender, vars.runBackwards = !0, this.staggerTo(targets, duration, vars, stagger, position, onCompleteAll, onCompleteAllParams, onCompleteAllScope)
    }, p.staggerFromTo = function (targets, duration, fromVars, toVars, stagger, position, onCompleteAll, onCompleteAllParams, onCompleteAllScope) {
      return toVars.startAt = fromVars, toVars.immediateRender = 0 != toVars.immediateRender && 0 != fromVars.immediateRender, this.staggerTo(targets, duration, toVars, stagger, position, onCompleteAll, onCompleteAllParams, onCompleteAllScope)
    }, p.call = function (callback, params, scope, position) {
      return this.add(TweenLite.delayedCall(0, callback, params, scope), position)
    }, p.set = function (target, vars, position) {
      return position = this._parseTimeOrLabel(position, 0, !0), null == vars.immediateRender && (vars.immediateRender = position === this._time && !this._paused), this.add(new TweenLite(target, 0, vars), position)
    }, TimelineLite.exportRoot = function (vars, ignoreDelayedCalls) {
      vars = vars || {}, null == vars.smoothChildTiming && (vars.smoothChildTiming = !0);
      var tween, next, tl = new TimelineLite(vars), root = tl._timeline;
      for (null == ignoreDelayedCalls && (ignoreDelayedCalls = !0), root._remove(tl, !0), tl._startTime = 0, tl._rawPrevTime = tl._time = tl._totalTime = root._time, tween = root._first; tween;) next = tween._next, ignoreDelayedCalls && tween instanceof TweenLite && tween.target === tween.vars.onComplete || tl.add(tween, tween._startTime - tween._delay), tween = next;
      return root.add(tl, 0), tl
    }, p.add = function (value, position, align, stagger) {
      var curTime, l, i, child, tl, beforeRawTime;
      if ("number" != typeof position && (position = this._parseTimeOrLabel(position, 0, !0, value)), !(value instanceof Animation)) {
        if (value instanceof Array || value && value.push && _isArray(value)) {
          for (align = align || "normal", stagger = stagger || 0, curTime = position, l = value.length, i = 0; i < l; i++) _isArray(child = value[i]) && (child = new TimelineLite({tweens: child})), this.add(child, curTime), "string" != typeof child && "function" != typeof child && ("sequence" === align ? curTime = child._startTime + child.totalDuration() / child._timeScale : "start" === align && (child._startTime -= child.delay())), curTime += stagger;
          return this._uncache(!0)
        }
        if ("string" == typeof value) return this.addLabel(value, position);
        if ("function" != typeof value) throw"Cannot add " + value + " into the timeline; it is not a tween, timeline, function, or string.";
        value = TweenLite.delayedCall(0, value)
      }
      if (SimpleTimeline.prototype.add.call(this, value, position), (this._gc || this._time === this._duration) && !this._paused && this._duration < this.duration()) for (tl = this, beforeRawTime = tl.rawTime() > value._startTime; tl._timeline;) beforeRawTime && tl._timeline.smoothChildTiming ? tl.totalTime(tl._totalTime, !0) : tl._gc && tl._enabled(!0, !1), tl = tl._timeline;
      return this
    }, p.remove = function (value) {
      if (value instanceof Animation) return this._remove(value, !1);
      if (value instanceof Array || value && value.push && _isArray(value)) {
        for (var i = value.length; --i > -1;) this.remove(value[i]);
        return this
      }
      return "string" == typeof value ? this.removeLabel(value) : this.kill(null, value)
    }, p._remove = function (tween, skipDisable) {
      SimpleTimeline.prototype._remove.call(this, tween, skipDisable);
      var last = this._last;
      return last ? this._time > last._startTime + last._totalDuration / last._timeScale && (this._time = this.duration(), this._totalTime = this._totalDuration) : this._time = this._totalTime = this._duration = this._totalDuration = 0, this
    }, p.append = function (value, offsetOrLabel) {
      return this.add(value, this._parseTimeOrLabel(null, offsetOrLabel, !0, value))
    }, p.insert = p.insertMultiple = function (value, position, align, stagger) {
      return this.add(value, position || 0, align, stagger)
    }, p.appendMultiple = function (tweens, offsetOrLabel, align, stagger) {
      return this.add(tweens, this._parseTimeOrLabel(null, offsetOrLabel, !0, tweens), align, stagger)
    }, p.addLabel = function (label, position) {
      return this._labels[label] = this._parseTimeOrLabel(position), this
    }, p.addPause = function (position, callback, params, scope) {
      var t = TweenLite.delayedCall(0, _pauseCallback, ["{self}", callback, params, scope], this);
      return t.data = "isPause", this.add(t, position)
    }, p.removeLabel = function (label) {
      return delete this._labels[label], this
    }, p.getLabelTime = function (label) {
      return null != this._labels[label] ? this._labels[label] : -1
    }, p._parseTimeOrLabel = function (timeOrLabel, offsetOrLabel, appendIfAbsent, ignore) {
      var i;
      if (ignore instanceof Animation && ignore.timeline === this) this.remove(ignore); else if (ignore && (ignore instanceof Array || ignore.push && _isArray(ignore))) for (i = ignore.length; --i > -1;) ignore[i] instanceof Animation && ignore[i].timeline === this && this.remove(ignore[i]);
      if ("string" == typeof offsetOrLabel) return this._parseTimeOrLabel(offsetOrLabel, appendIfAbsent && "number" == typeof timeOrLabel && null == this._labels[offsetOrLabel] ? timeOrLabel - this.duration() : 0, appendIfAbsent);
      if (offsetOrLabel = offsetOrLabel || 0, "string" != typeof timeOrLabel || !isNaN(timeOrLabel) && null == this._labels[timeOrLabel]) null == timeOrLabel && (timeOrLabel = this.duration()); else {
        if (i = timeOrLabel.indexOf("="), i === -1) return null == this._labels[timeOrLabel] ? appendIfAbsent ? this._labels[timeOrLabel] = this.duration() + offsetOrLabel : offsetOrLabel : this._labels[timeOrLabel] + offsetOrLabel;
        offsetOrLabel = parseInt(timeOrLabel.charAt(i - 1) + "1", 10) * Number(timeOrLabel.substr(i + 1)), timeOrLabel = i > 1 ? this._parseTimeOrLabel(timeOrLabel.substr(0, i - 1), 0, appendIfAbsent) : this.duration()
      }
      return Number(timeOrLabel) + offsetOrLabel
    }, p.seek = function (position, suppressEvents) {
      return this.totalTime("number" == typeof position ? position : this._parseTimeOrLabel(position), suppressEvents !== !1)
    }, p.stop = function () {
      return this.paused(!0)
    }, p.gotoAndPlay = function (position, suppressEvents) {
      return this.play(position, suppressEvents)
    }, p.gotoAndStop = function (position, suppressEvents) {
      return this.pause(position, suppressEvents)
    }, p.render = function (time, suppressEvents, force) {
      this._gc && this._enabled(!0, !1);
      var tween, isComplete, next, callback, internalForce,
        totalDur = this._dirty ? this.totalDuration() : this._totalDuration, prevTime = this._time,
        prevStart = this._startTime, prevTimeScale = this._timeScale, prevPaused = this._paused;
      if (time >= totalDur) this._totalTime = this._time = totalDur, this._reversed || this._hasPausedChild() || (isComplete = !0, callback = "onComplete", internalForce = !!this._timeline.autoRemoveChildren, 0 === this._duration && (0 === time || this._rawPrevTime < 0 || this._rawPrevTime === _tinyNum) && this._rawPrevTime !== time && this._first && (internalForce = !0, this._rawPrevTime > _tinyNum && (callback = "onReverseComplete"))), this._rawPrevTime = this._duration || !suppressEvents || time || this._rawPrevTime === time ? time : _tinyNum, time = totalDur + 1e-4; else if (time < 1e-7) if (this._totalTime = this._time = 0, (0 !== prevTime || 0 === this._duration && this._rawPrevTime !== _tinyNum && (this._rawPrevTime > 0 || time < 0 && this._rawPrevTime >= 0)) && (callback = "onReverseComplete", isComplete = this._reversed), time < 0) this._active = !1, this._timeline.autoRemoveChildren && this._reversed ? (internalForce = isComplete = !0, callback = "onReverseComplete") : this._rawPrevTime >= 0 && this._first && (internalForce = !0), this._rawPrevTime = time; else {
        if (this._rawPrevTime = this._duration || !suppressEvents || time || this._rawPrevTime === time ? time : _tinyNum, 0 === time && isComplete) for (tween = this._first; tween && 0 === tween._startTime;) tween._duration || (isComplete = !1), tween = tween._next;
        time = 0, this._initted || (internalForce = !0)
      } else this._totalTime = this._time = this._rawPrevTime = time;
      if (this._time !== prevTime && this._first || force || internalForce) {
        if (this._initted || (this._initted = !0), this._active || !this._paused && this._time !== prevTime && time > 0 && (this._active = !0), 0 === prevTime && this.vars.onStart && 0 !== this._time && (suppressEvents || this._callback("onStart")), this._time >= prevTime) for (tween = this._first; tween && (next = tween._next, !this._paused || prevPaused);) (tween._active || tween._startTime <= this._time && !tween._paused && !tween._gc) && (tween._reversed ? tween.render((tween._dirty ? tween.totalDuration() : tween._totalDuration) - (time - tween._startTime) * tween._timeScale, suppressEvents, force) : tween.render((time - tween._startTime) * tween._timeScale, suppressEvents, force)), tween = next; else for (tween = this._last; tween && (next = tween._prev, !this._paused || prevPaused);) (tween._active || tween._startTime <= prevTime && !tween._paused && !tween._gc) && (tween._reversed ? tween.render((tween._dirty ? tween.totalDuration() : tween._totalDuration) - (time - tween._startTime) * tween._timeScale, suppressEvents, force) : tween.render((time - tween._startTime) * tween._timeScale, suppressEvents, force)), tween = next;
        this._onUpdate && (suppressEvents || (_lazyTweens.length && _lazyRender(), this._callback("onUpdate"))), callback && (this._gc || prevStart !== this._startTime && prevTimeScale === this._timeScale || (0 === this._time || totalDur >= this.totalDuration()) && (isComplete && (_lazyTweens.length && _lazyRender(), this._timeline.autoRemoveChildren && this._enabled(!1, !1), this._active = !1), !suppressEvents && this.vars[callback] && this._callback(callback)))
      }
    }, p._hasPausedChild = function () {
      for (var tween = this._first; tween;) {
        if (tween._paused || tween instanceof TimelineLite && tween._hasPausedChild()) return !0;
        tween = tween._next
      }
      return !1
    }, p.getChildren = function (nested, tweens, timelines, ignoreBeforeTime) {
      ignoreBeforeTime = ignoreBeforeTime || -9999999999;
      for (var a = [], tween = this._first, cnt = 0; tween;) tween._startTime < ignoreBeforeTime || (tween instanceof TweenLite ? tweens !== !1 && (a[cnt++] = tween) : (timelines !== !1 && (a[cnt++] = tween), nested !== !1 && (a = a.concat(tween.getChildren(!0, tweens, timelines)), cnt = a.length))), tween = tween._next;
      return a
    }, p.getTweensOf = function (target, nested) {
      var tweens, i, disabled = this._gc, a = [], cnt = 0;
      for (disabled && this._enabled(!0, !0), tweens = TweenLite.getTweensOf(target), i = tweens.length; --i > -1;) (tweens[i].timeline === this || nested && this._contains(tweens[i])) && (a[cnt++] = tweens[i]);
      return disabled && this._enabled(!1, !0), a
    }, p.recent = function () {
      return this._recent
    }, p._contains = function (tween) {
      for (var tl = tween.timeline; tl;) {
        if (tl === this) return !0;
        tl = tl.timeline
      }
      return !1
    }, p.shiftChildren = function (amount, adjustLabels, ignoreBeforeTime) {
      ignoreBeforeTime = ignoreBeforeTime || 0;
      for (var p, tween = this._first, labels = this._labels; tween;) tween._startTime >= ignoreBeforeTime && (tween._startTime += amount), tween = tween._next;
      if (adjustLabels) for (p in labels) labels[p] >= ignoreBeforeTime && (labels[p] += amount);
      return this._uncache(!0)
    }, p._kill = function (vars, target) {
      if (!vars && !target) return this._enabled(!1, !1);
      for (var tweens = target ? this.getTweensOf(target) : this.getChildren(!0, !0, !1), i = tweens.length, changed = !1; --i > -1;) tweens[i]._kill(vars, target) && (changed = !0);
      return changed
    }, p.clear = function (labels) {
      var tweens = this.getChildren(!1, !0, !0), i = tweens.length;
      for (this._time = this._totalTime = 0; --i > -1;) tweens[i]._enabled(!1, !1);
      return labels !== !1 && (this._labels = {}), this._uncache(!0)
    }, p.invalidate = function () {
      for (var tween = this._first; tween;) tween.invalidate(), tween = tween._next;
      return Animation.prototype.invalidate.call(this)
    }, p._enabled = function (enabled, ignoreTimeline) {
      if (enabled === this._gc) for (var tween = this._first; tween;) tween._enabled(enabled, !0), tween = tween._next;
      return SimpleTimeline.prototype._enabled.call(this, enabled, ignoreTimeline)
    }, p.totalTime = function (time, suppressEvents, uncapped) {
      this._forcingPlayhead = !0;
      var val = Animation.prototype.totalTime.apply(this, arguments);
      return this._forcingPlayhead = !1, val
    }, p.duration = function (value) {
      return arguments.length ? (0 !== this.duration() && 0 !== value && this.timeScale(this._duration / value), this) : (this._dirty && this.totalDuration(), this._duration)
    }, p.totalDuration = function (value) {
      if (!arguments.length) {
        if (this._dirty) {
          for (var prev, end, max = 0, tween = this._last, prevStart = 999999999999; tween;) prev = tween._prev, tween._dirty && tween.totalDuration(), tween._startTime > prevStart && this._sortChildren && !tween._paused ? this.add(tween, tween._startTime - tween._delay) : prevStart = tween._startTime, tween._startTime < 0 && !tween._paused && (max -= tween._startTime, this._timeline.smoothChildTiming && (this._startTime += tween._startTime / this._timeScale), this.shiftChildren(-tween._startTime, !1, -9999999999), prevStart = 0), end = tween._startTime + tween._totalDuration / tween._timeScale, end > max && (max = end), tween = prev;
          this._duration = this._totalDuration = max, this._dirty = !1
        }
        return this._totalDuration
      }
      return 0 !== this.totalDuration() && 0 !== value && this.timeScale(this._totalDuration / value), this
    }, p.paused = function (value) {
      if (!value) for (var tween = this._first, time = this._time; tween;) tween._startTime === time && "isPause" === tween.data && (tween._rawPrevTime = 0), tween = tween._next;
      return Animation.prototype.paused.apply(this, arguments)
    }, p.usesFrames = function () {
      for (var tl = this._timeline; tl._timeline;) tl = tl._timeline;
      return tl === Animation._rootFramesTimeline
    }, p.rawTime = function () {
      return this._paused ? this._totalTime : (this._timeline.rawTime() - this._startTime) * this._timeScale
    }, TimelineLite
  }, !0), _gsScope._gsDefine("TimelineMax", ["TimelineLite", "TweenLite", "easing.Ease"], function (TimelineLite, TweenLite, Ease) {
    var TimelineMax = function (vars) {
        TimelineLite.call(this, vars), this._repeat = this.vars.repeat || 0, this._repeatDelay = this.vars.repeatDelay || 0, this._cycle = 0, this._yoyo = this.vars.yoyo === !0, this._dirty = !0
      }, _tinyNum = 1e-10, TweenLiteInternals = TweenLite._internals, _lazyTweens = TweenLiteInternals.lazyTweens,
      _lazyRender = TweenLiteInternals.lazyRender, _easeNone = new Ease(null, null, 1, 0),
      p = TimelineMax.prototype = new TimelineLite;
    return p.constructor = TimelineMax, p.kill()._gc = !1, TimelineMax.version = "1.17.0", p.invalidate = function () {
      return this._yoyo = this.vars.yoyo === !0, this._repeat = this.vars.repeat || 0, this._repeatDelay = this.vars.repeatDelay || 0, this._uncache(!0), TimelineLite.prototype.invalidate.call(this)
    }, p.addCallback = function (callback, position, params, scope) {
      return this.add(TweenLite.delayedCall(0, callback, params, scope), position)
    }, p.removeCallback = function (callback, position) {
      if (callback) if (null == position) this._kill(null, callback); else for (var a = this.getTweensOf(callback, !1), i = a.length, time = this._parseTimeOrLabel(position); --i > -1;) a[i]._startTime === time && a[i]._enabled(!1, !1);
      return this
    }, p.removePause = function (position) {
      return this.removeCallback(TimelineLite._internals.pauseCallback, position)
    }, p.tweenTo = function (position, vars) {
      vars = vars || {};
      var duration, p, t, copy = {ease: _easeNone, useFrames: this.usesFrames(), immediateRender: !1};
      for (p in vars) copy[p] = vars[p];
      return copy.time = this._parseTimeOrLabel(position), duration = Math.abs(Number(copy.time) - this._time) / this._timeScale || .001, t = new TweenLite(this, duration, copy), copy.onStart = function () {
        t.target.paused(!0), t.vars.time !== t.target.time() && duration === t.duration() && t.duration(Math.abs(t.vars.time - t.target.time()) / t.target._timeScale), vars.onStart && t._callback("onStart")
      }, t
    }, p.tweenFromTo = function (fromPosition, toPosition, vars) {
      vars = vars || {}, fromPosition = this._parseTimeOrLabel(fromPosition), vars.startAt = {
        onComplete: this.seek,
        onCompleteParams: [fromPosition],
        callbackScope: this
      }, vars.immediateRender = vars.immediateRender !== !1;
      var t = this.tweenTo(toPosition, vars);
      return t.duration(Math.abs(t.vars.time - fromPosition) / this._timeScale || .001)
    }, p.render = function (time, suppressEvents, force) {
      this._gc && this._enabled(!0, !1);
      var tween, isComplete, next, callback, internalForce, cycleDuration,
        totalDur = this._dirty ? this.totalDuration() : this._totalDuration, dur = this._duration,
        prevTime = this._time, prevTotalTime = this._totalTime, prevStart = this._startTime,
        prevTimeScale = this._timeScale, prevRawPrevTime = this._rawPrevTime, prevPaused = this._paused,
        prevCycle = this._cycle;
      if (time >= totalDur) this._locked || (this._totalTime = totalDur, this._cycle = this._repeat), this._reversed || this._hasPausedChild() || (isComplete = !0, callback = "onComplete", internalForce = !!this._timeline.autoRemoveChildren, 0 === this._duration && (0 === time || prevRawPrevTime < 0 || prevRawPrevTime === _tinyNum) && prevRawPrevTime !== time && this._first && (internalForce = !0, prevRawPrevTime > _tinyNum && (callback = "onReverseComplete"))), this._rawPrevTime = this._duration || !suppressEvents || time || this._rawPrevTime === time ? time : _tinyNum, this._yoyo && 0 !== (1 & this._cycle) ? this._time = time = 0 : (this._time = dur, time = dur + 1e-4); else if (time < 1e-7) if (this._locked || (this._totalTime = this._cycle = 0), this._time = 0, (0 !== prevTime || 0 === dur && prevRawPrevTime !== _tinyNum && (prevRawPrevTime > 0 || time < 0 && prevRawPrevTime >= 0) && !this._locked) && (callback = "onReverseComplete", isComplete = this._reversed), time < 0) this._active = !1, this._timeline.autoRemoveChildren && this._reversed ? (internalForce = isComplete = !0, callback = "onReverseComplete") : prevRawPrevTime >= 0 && this._first && (internalForce = !0), this._rawPrevTime = time; else {
        if (this._rawPrevTime = dur || !suppressEvents || time || this._rawPrevTime === time ? time : _tinyNum, 0 === time && isComplete) for (tween = this._first; tween && 0 === tween._startTime;) tween._duration || (isComplete = !1), tween = tween._next;
        time = 0, this._initted || (internalForce = !0)
      } else 0 === dur && prevRawPrevTime < 0 && (internalForce = !0), this._time = this._rawPrevTime = time, this._locked || (this._totalTime = time, 0 !== this._repeat && (cycleDuration = dur + this._repeatDelay, this._cycle = this._totalTime / cycleDuration >> 0, 0 !== this._cycle && this._cycle === this._totalTime / cycleDuration && this._cycle--, this._time = this._totalTime - this._cycle * cycleDuration, this._yoyo && 0 !== (1 & this._cycle) && (this._time = dur - this._time), this._time > dur ? (this._time = dur, time = dur + 1e-4) : this._time < 0 ? this._time = time = 0 : time = this._time));
      if (this._cycle !== prevCycle && !this._locked) {
        var backwards = this._yoyo && 0 !== (1 & prevCycle),
          wrap = backwards === (this._yoyo && 0 !== (1 & this._cycle)), recTotalTime = this._totalTime,
          recCycle = this._cycle, recRawPrevTime = this._rawPrevTime, recTime = this._time;
        if (this._totalTime = prevCycle * dur, this._cycle < prevCycle ? backwards = !backwards : this._totalTime += dur, this._time = prevTime, this._rawPrevTime = 0 === dur ? prevRawPrevTime - 1e-4 : prevRawPrevTime, this._cycle = prevCycle, this._locked = !0, prevTime = backwards ? 0 : dur, this.render(prevTime, suppressEvents, 0 === dur), suppressEvents || this._gc || this.vars.onRepeat && this._callback("onRepeat"), wrap && (prevTime = backwards ? dur + 1e-4 : -1e-4, this.render(prevTime, !0, !1)), this._locked = !1, this._paused && !prevPaused) return;
        this._time = recTime, this._totalTime = recTotalTime, this._cycle = recCycle, this._rawPrevTime = recRawPrevTime
      }
      if (!(this._time !== prevTime && this._first || force || internalForce)) return void(prevTotalTime !== this._totalTime && this._onUpdate && (suppressEvents || this._callback("onUpdate")));
      if (this._initted || (this._initted = !0), this._active || !this._paused && this._totalTime !== prevTotalTime && time > 0 && (this._active = !0), 0 === prevTotalTime && this.vars.onStart && 0 !== this._totalTime && (suppressEvents || this._callback("onStart")), this._time >= prevTime) for (tween = this._first; tween && (next = tween._next, !this._paused || prevPaused);) (tween._active || tween._startTime <= this._time && !tween._paused && !tween._gc) && (tween._reversed ? tween.render((tween._dirty ? tween.totalDuration() : tween._totalDuration) - (time - tween._startTime) * tween._timeScale, suppressEvents, force) : tween.render((time - tween._startTime) * tween._timeScale, suppressEvents, force)), tween = next; else for (tween = this._last; tween && (next = tween._prev, !this._paused || prevPaused);) (tween._active || tween._startTime <= prevTime && !tween._paused && !tween._gc) && (tween._reversed ? tween.render((tween._dirty ? tween.totalDuration() : tween._totalDuration) - (time - tween._startTime) * tween._timeScale, suppressEvents, force) : tween.render((time - tween._startTime) * tween._timeScale, suppressEvents, force)), tween = next;
      this._onUpdate && (suppressEvents || (_lazyTweens.length && _lazyRender(), this._callback("onUpdate"))), callback && (this._locked || this._gc || prevStart !== this._startTime && prevTimeScale === this._timeScale || (0 === this._time || totalDur >= this.totalDuration()) && (isComplete && (_lazyTweens.length && _lazyRender(), this._timeline.autoRemoveChildren && this._enabled(!1, !1), this._active = !1), !suppressEvents && this.vars[callback] && this._callback(callback)))
    }, p.getActive = function (nested, tweens, timelines) {
      null == nested && (nested = !0), null == tweens && (tweens = !0), null == timelines && (timelines = !1);
      var i, tween, a = [], all = this.getChildren(nested, tweens, timelines), cnt = 0, l = all.length;
      for (i = 0; i < l; i++) tween = all[i], tween.isActive() && (a[cnt++] = tween);
      return a
    }, p.getLabelAfter = function (time) {
      time || 0 !== time && (time = this._time);
      var i, labels = this.getLabelsArray(), l = labels.length;
      for (i = 0; i < l; i++) if (labels[i].time > time) return labels[i].name;
      return null
    }, p.getLabelBefore = function (time) {
      null == time && (time = this._time);
      for (var labels = this.getLabelsArray(), i = labels.length; --i > -1;) if (labels[i].time < time) return labels[i].name;
      return null
    }, p.getLabelsArray = function () {
      var p, a = [], cnt = 0;
      for (p in this._labels) a[cnt++] = {time: this._labels[p], name: p};
      return a.sort(function (a, b) {
        return a.time - b.time
      }), a
    }, p.progress = function (value, suppressEvents) {
      return arguments.length ? this.totalTime(this.duration() * (this._yoyo && 0 !== (1 & this._cycle) ? 1 - value : value) + this._cycle * (this._duration + this._repeatDelay), suppressEvents) : this._time / this.duration()
    }, p.totalProgress = function (value, suppressEvents) {
      return arguments.length ? this.totalTime(this.totalDuration() * value, suppressEvents) : this._totalTime / this.totalDuration()
    }, p.totalDuration = function (value) {
      return arguments.length ? this._repeat === -1 ? this : this.duration((value - this._repeat * this._repeatDelay) / (this._repeat + 1)) : (this._dirty && (TimelineLite.prototype.totalDuration.call(this), this._totalDuration = this._repeat === -1 ? 999999999999 : this._duration * (this._repeat + 1) + this._repeatDelay * this._repeat), this._totalDuration)
    }, p.time = function (value, suppressEvents) {
      return arguments.length ? (this._dirty && this.totalDuration(), value > this._duration && (value = this._duration), this._yoyo && 0 !== (1 & this._cycle) ? value = this._duration - value + this._cycle * (this._duration + this._repeatDelay) : 0 !== this._repeat && (value += this._cycle * (this._duration + this._repeatDelay)), this.totalTime(value, suppressEvents)) : this._time
    }, p.repeat = function (value) {
      return arguments.length ? (this._repeat = value, this._uncache(!0)) : this._repeat
    }, p.repeatDelay = function (value) {
      return arguments.length ? (this._repeatDelay = value, this._uncache(!0)) : this._repeatDelay
    }, p.yoyo = function (value) {
      return arguments.length ? (this._yoyo = value, this) : this._yoyo
    }, p.currentLabel = function (value) {
      return arguments.length ? this.seek(value, !0) : this.getLabelBefore(this._time + 1e-8)
    }, TimelineMax
  }, !0), function () {
    var _RAD2DEG = 180 / Math.PI, _r1 = [], _r2 = [], _r3 = [], _corProps = {}, _globals = _gsScope._gsDefine.globals,
      Segment = function (a, b, c, d) {
        this.a = a, this.b = b, this.c = c, this.d = d, this.da = d - a, this.ca = c - a, this.ba = b - a
      },
      _correlate = ",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",
      cubicToQuadratic = function (a, b, c, d) {
        var q1 = {a: a}, q2 = {}, q3 = {}, q4 = {c: d}, mab = (a + b) / 2, mbc = (b + c) / 2, mcd = (c + d) / 2,
          mabc = (mab + mbc) / 2, mbcd = (mbc + mcd) / 2, m8 = (mbcd - mabc) / 8;
        return q1.b = mab + (a - mab) / 4, q2.b = mabc + m8, q1.c = q2.a = (q1.b + q2.b) / 2, q2.c = q3.a = (mabc + mbcd) / 2, q3.b = mbcd - m8, q4.b = mcd + (d - mcd) / 4, q3.c = q4.a = (q3.b + q4.b) / 2, [q1, q2, q3, q4]
      }, _calculateControlPoints = function (a, curviness, quad, basic, correlate) {
        var i, p1, p2, p3, seg, m1, m2, mm, cp2, qb, r1, r2, tl, l = a.length - 1, ii = 0, cp1 = a[0].a;
        for (i = 0; i < l; i++) seg = a[ii], p1 = seg.a, p2 = seg.d, p3 = a[ii + 1].d, correlate ? (r1 = _r1[i], r2 = _r2[i], tl = (r2 + r1) * curviness * .25 / (basic ? .5 : _r3[i] || .5), m1 = p2 - (p2 - p1) * (basic ? .5 * curviness : 0 !== r1 ? tl / r1 : 0), m2 = p2 + (p3 - p2) * (basic ? .5 * curviness : 0 !== r2 ? tl / r2 : 0), mm = p2 - (m1 + ((m2 - m1) * (3 * r1 / (r1 + r2) + .5) / 4 || 0))) : (m1 = p2 - (p2 - p1) * curviness * .5, m2 = p2 + (p3 - p2) * curviness * .5, mm = p2 - (m1 + m2) / 2), m1 += mm, m2 += mm, seg.c = cp2 = m1, 0 !== i ? seg.b = cp1 : seg.b = cp1 = seg.a + .6 * (seg.c - seg.a), seg.da = p2 - p1, seg.ca = cp2 - p1, seg.ba = cp1 - p1, quad ? (qb = cubicToQuadratic(p1, cp1, cp2, p2), a.splice(ii, 1, qb[0], qb[1], qb[2], qb[3]), ii += 4) : ii++, cp1 = m2;
        seg = a[ii], seg.b = cp1, seg.c = cp1 + .4 * (seg.d - cp1), seg.da = seg.d - seg.a, seg.ca = seg.c - seg.a, seg.ba = cp1 - seg.a, quad && (qb = cubicToQuadratic(seg.a, cp1, seg.c, seg.d), a.splice(ii, 1, qb[0], qb[1], qb[2], qb[3]))
      }, _parseAnchors = function (values, p, correlate, prepend) {
        var l, i, p1, p2, p3, tmp, a = [];
        if (prepend) for (values = [prepend].concat(values), i = values.length; --i > -1;) "string" == typeof(tmp = values[i][p]) && "=" === tmp.charAt(1) && (values[i][p] = prepend[p] + Number(tmp.charAt(0) + tmp.substr(2)));
        if (l = values.length - 2, l < 0) return a[0] = new Segment(values[0][p], 0, 0, values[l < -1 ? 0 : 1][p]), a;
        for (i = 0; i < l; i++) p1 = values[i][p], p2 = values[i + 1][p], a[i] = new Segment(p1, 0, 0, p2), correlate && (p3 = values[i + 2][p], _r1[i] = (_r1[i] || 0) + (p2 - p1) * (p2 - p1), _r2[i] = (_r2[i] || 0) + (p3 - p2) * (p3 - p2));
        return a[i] = new Segment(values[i][p], 0, 0, values[i + 1][p]), a
      }, bezierThrough = function (values, curviness, quadratic, basic, correlate, prepend) {
        var i, p, a, j, r, l, seamless, last, obj = {}, props = [], first = prepend || values[0];
        correlate = "string" == typeof correlate ? "," + correlate + "," : _correlate, null == curviness && (curviness = 1);
        for (p in values[0]) props.push(p);
        if (values.length > 1) {
          for (last = values[values.length - 1], seamless = !0, i = props.length; --i > -1;) if (p = props[i], Math.abs(first[p] - last[p]) > .05) {
            seamless = !1;
            break
          }
          seamless && (values = values.concat(), prepend && values.unshift(prepend), values.push(values[1]), prepend = values[values.length - 3])
        }
        for (_r1.length = _r2.length = _r3.length = 0, i = props.length; --i > -1;) p = props[i], _corProps[p] = correlate.indexOf("," + p + ",") !== -1, obj[p] = _parseAnchors(values, p, _corProps[p], prepend);
        for (i = _r1.length; --i > -1;) _r1[i] = Math.sqrt(_r1[i]), _r2[i] = Math.sqrt(_r2[i]);
        if (!basic) {
          for (i = props.length; --i > -1;) if (_corProps[p]) for (a = obj[props[i]], l = a.length - 1, j = 0; j < l; j++) r = a[j + 1].da / _r2[j] + a[j].da / _r1[j], _r3[j] = (_r3[j] || 0) + r * r;
          for (i = _r3.length; --i > -1;) _r3[i] = Math.sqrt(_r3[i])
        }
        for (i = props.length, j = quadratic ? 4 : 1; --i > -1;) p = props[i], a = obj[p], _calculateControlPoints(a, curviness, quadratic, basic, _corProps[p]), seamless && (a.splice(0, j), a.splice(a.length - j, j));
        return obj
      }, _parseBezierData = function (values, type, prepend) {
        type = type || "soft";
        var a, b, c, d, cur, i, j, l, p, cnt, tmp, obj = {}, inc = "cubic" === type ? 3 : 2, soft = "soft" === type,
          props = [];
        if (soft && prepend && (values = [prepend].concat(values)), null == values || values.length < inc + 1) throw"invalid Bezier data";
        for (p in values[0]) props.push(p);
        for (i = props.length; --i > -1;) {
          for (p = props[i], obj[p] = cur = [], cnt = 0, l = values.length, j = 0; j < l; j++) a = null == prepend ? values[j][p] : "string" == typeof(tmp = values[j][p]) && "=" === tmp.charAt(1) ? prepend[p] + Number(tmp.charAt(0) + tmp.substr(2)) : Number(tmp), soft && j > 1 && j < l - 1 && (cur[cnt++] = (a + cur[cnt - 2]) / 2), cur[cnt++] = a;
          for (l = cnt - inc + 1, cnt = 0, j = 0; j < l; j += inc) a = cur[j], b = cur[j + 1], c = cur[j + 2], d = 2 === inc ? 0 : cur[j + 3], cur[cnt++] = tmp = 3 === inc ? new Segment(a, b, c, d) : new Segment(a, (2 * b + a) / 3, (2 * b + c) / 3, c);
          cur.length = cnt
        }
        return obj
      }, _addCubicLengths = function (a, steps, resolution) {
        for (var d, d1, s, da, ca, ba, p, i, inv, bez, index, inc = 1 / resolution, j = a.length; --j > -1;) for (bez = a[j], s = bez.a, da = bez.d - s, ca = bez.c - s, ba = bez.b - s, d = d1 = 0, i = 1; i <= resolution; i++) p = inc * i, inv = 1 - p, d = d1 - (d1 = (p * p * da + 3 * inv * (p * ca + inv * ba)) * p), index = j * resolution + i - 1, steps[index] = (steps[index] || 0) + d * d
      }, _parseLengthData = function (obj, resolution) {
        resolution = resolution >> 0 || 6;
        var p, i, l, index, a = [], lengths = [], d = 0, total = 0, threshold = resolution - 1, segments = [], curLS = [];
        for (p in obj) _addCubicLengths(obj[p], a, resolution);
        for (l = a.length, i = 0; i < l; i++) d += Math.sqrt(a[i]), index = i % resolution, curLS[index] = d, index === threshold && (total += d, index = i / resolution >> 0, segments[index] = curLS, lengths[index] = total, d = 0, curLS = []);
        return {length: total, lengths: lengths, segments: segments}
      }, BezierPlugin = _gsScope._gsDefine.plugin({
        propName: "bezier", priority: -1, version: "1.3.4", API: 2, global: !0, init: function (target, vars, tween) {
          this._target = target, vars instanceof Array && (vars = {values: vars}), this._func = {}, this._round = {}, this._props = [], this._timeRes = null == vars.timeResolution ? 6 : parseInt(vars.timeResolution, 10);
          var p, isFunc, i, j, prepend, values = vars.values || [], first = {}, second = values[0],
            autoRotate = vars.autoRotate || tween.vars.orientToBezier;
          this._autoRotate = autoRotate ? autoRotate instanceof Array ? autoRotate : [["x", "y", "rotation", autoRotate === !0 ? 0 : Number(autoRotate) || 0]] : null;
          for (p in second) this._props.push(p);
          for (i = this._props.length; --i > -1;) p = this._props[i], this._overwriteProps.push(p), isFunc = this._func[p] = "function" == typeof target[p], first[p] = isFunc ? target[p.indexOf("set") || "function" != typeof target["get" + p.substr(3)] ? p : "get" + p.substr(3)]() : parseFloat(target[p]), prepend || first[p] !== values[0][p] && (prepend = first);
          if (this._beziers = "cubic" !== vars.type && "quadratic" !== vars.type && "soft" !== vars.type ? bezierThrough(values, isNaN(vars.curviness) ? 1 : vars.curviness, !1, "thruBasic" === vars.type, vars.correlate, prepend) : _parseBezierData(values, vars.type, first), this._segCount = this._beziers[p].length, this._timeRes) {
            var ld = _parseLengthData(this._beziers, this._timeRes);
            this._length = ld.length, this._lengths = ld.lengths, this._segments = ld.segments, this._l1 = this._li = this._s1 = this._si = 0, this._l2 = this._lengths[0], this._curSeg = this._segments[0], this._s2 = this._curSeg[0], this._prec = 1 / this._curSeg.length
          }
          if (autoRotate = this._autoRotate) for (this._initialRotations = [], autoRotate[0] instanceof Array || (this._autoRotate = autoRotate = [autoRotate]), i = autoRotate.length; --i > -1;) {
            for (j = 0; j < 3; j++) p = autoRotate[i][j], this._func[p] = "function" == typeof target[p] && target[p.indexOf("set") || "function" != typeof target["get" + p.substr(3)] ? p : "get" + p.substr(3)];
            p = autoRotate[i][2], this._initialRotations[i] = this._func[p] ? this._func[p].call(this._target) : this._target[p]
          }
          return this._startRatio = tween.vars.runBackwards ? 1 : 0, !0
        }, set: function (v) {
          var curIndex, inv, i, p, b, t, val, l, lengths, curSeg, segments = this._segCount, func = this._func,
            target = this._target, notStart = v !== this._startRatio;
          if (this._timeRes) {
            if (lengths = this._lengths, curSeg = this._curSeg, v *= this._length, i = this._li, v > this._l2 && i < segments - 1) {
              for (l = segments - 1; i < l && (this._l2 = lengths[++i]) <= v;) ;
              this._l1 = lengths[i - 1], this._li = i, this._curSeg = curSeg = this._segments[i], this._s2 = curSeg[this._s1 = this._si = 0]
            } else if (v < this._l1 && i > 0) {
              for (; i > 0 && (this._l1 = lengths[--i]) >= v;) ;
              0 === i && v < this._l1 ? this._l1 = 0 : i++, this._l2 = lengths[i], this._li = i, this._curSeg = curSeg = this._segments[i], this._s1 = curSeg[(this._si = curSeg.length - 1) - 1] || 0, this._s2 = curSeg[this._si]
            }
            if (curIndex = i, v -= this._l1, i = this._si, v > this._s2 && i < curSeg.length - 1) {
              for (l = curSeg.length - 1; i < l && (this._s2 = curSeg[++i]) <= v;) ;
              this._s1 = curSeg[i - 1], this._si = i
            } else if (v < this._s1 && i > 0) {
              for (; i > 0 && (this._s1 = curSeg[--i]) >= v;) ;
              0 === i && v < this._s1 ? this._s1 = 0 : i++, this._s2 = curSeg[i], this._si = i
            }
            t = (i + (v - this._s1) / (this._s2 - this._s1)) * this._prec
          } else curIndex = v < 0 ? 0 : v >= 1 ? segments - 1 : segments * v >> 0, t = (v - curIndex * (1 / segments)) * segments;
          for (inv = 1 - t, i = this._props.length; --i > -1;) p = this._props[i], b = this._beziers[p][curIndex], val = (t * t * b.da + 3 * inv * (t * b.ca + inv * b.ba)) * t + b.a, this._round[p] && (val = Math.round(val)), func[p] ? target[p](val) : target[p] = val;
          if (this._autoRotate) {
            var b2, x1, y1, x2, y2, add, conv, ar = this._autoRotate;
            for (i = ar.length; --i > -1;) p = ar[i][2], add = ar[i][3] || 0, conv = ar[i][4] === !0 ? 1 : _RAD2DEG, b = this._beziers[ar[i][0]], b2 = this._beziers[ar[i][1]], b && b2 && (b = b[curIndex], b2 = b2[curIndex], x1 = b.a + (b.b - b.a) * t, x2 = b.b + (b.c - b.b) * t, x1 += (x2 - x1) * t, x2 += (b.c + (b.d - b.c) * t - x2) * t, y1 = b2.a + (b2.b - b2.a) * t, y2 = b2.b + (b2.c - b2.b) * t, y1 += (y2 - y1) * t, y2 += (b2.c + (b2.d - b2.c) * t - y2) * t, val = notStart ? Math.atan2(y2 - y1, x2 - x1) * conv + add : this._initialRotations[i], func[p] ? target[p](val) : target[p] = val)
          }
        }
      }), p = BezierPlugin.prototype;
    BezierPlugin.bezierThrough = bezierThrough, BezierPlugin.cubicToQuadratic = cubicToQuadratic, BezierPlugin._autoCSS = !0, BezierPlugin.quadraticToCubic = function (a, b, c) {
      return new Segment(a, (2 * b + a) / 3, (2 * b + c) / 3, c)
    }, BezierPlugin._cssRegister = function () {
      var CSSPlugin = _globals.CSSPlugin;
      if (CSSPlugin) {
        var _internals = CSSPlugin._internals, _parseToProxy = _internals._parseToProxy,
          _setPluginRatio = _internals._setPluginRatio, CSSPropTween = _internals.CSSPropTween;
        _internals._registerComplexSpecialProp("bezier", {
          parser: function (t, e, prop, cssp, pt, plugin) {
            e instanceof Array && (e = {values: e}), plugin = new BezierPlugin;
            var i, p, data, values = e.values, l = values.length - 1, pluginValues = [], v = {};
            if (l < 0) return pt;
            for (i = 0; i <= l; i++) data = _parseToProxy(t, values[i], cssp, pt, plugin, l !== i), pluginValues[i] = data.end;
            for (p in e) v[p] = e[p];
            return v.values = pluginValues, pt = new CSSPropTween(t, "bezier", 0, 0, data.pt, 2), pt.data = data, pt.plugin = plugin, pt.setRatio = _setPluginRatio, 0 === v.autoRotate && (v.autoRotate = !0), !v.autoRotate || v.autoRotate instanceof Array || (i = v.autoRotate === !0 ? 0 : Number(v.autoRotate), v.autoRotate = null != data.end.left ? [["left", "top", "rotation", i, !1]] : null != data.end.x && [["x", "y", "rotation", i, !1]]), v.autoRotate && (cssp._transform || cssp._enableTransforms(!1), data.autoRotate = cssp._target._gsTransform), plugin._onInitTween(data.proxy, v, cssp._tween), pt
          }
        })
      }
    }, p._roundProps = function (lookup, value) {
      for (var op = this._overwriteProps, i = op.length; --i > -1;) (lookup[op[i]] || lookup.bezier || lookup.bezierThrough) && (this._round[op[i]] = value)
    }, p._kill = function (lookup) {
      var p, i, a = this._props;
      for (p in this._beziers) if (p in lookup) for (delete this._beziers[p], delete this._func[p], i = a.length; --i > -1;) a[i] === p && a.splice(i, 1);
      return this._super._kill.call(this, lookup)
    }
  }(), _gsScope._gsDefine("plugins.CSSPlugin", ["plugins.TweenPlugin", "TweenLite"], function (TweenPlugin, TweenLite) {
    var _hasPriority, _suffixMap, _cs, _overwriteProps, CSSPlugin = function () {
      TweenPlugin.call(this, "css"), this._overwriteProps.length = 0, this.setRatio = CSSPlugin.prototype.setRatio
    }, _globals = _gsScope._gsDefine.globals, _specialProps = {}, p = CSSPlugin.prototype = new TweenPlugin("css");
    p.constructor = CSSPlugin, CSSPlugin.version = "1.17.0", CSSPlugin.API = 2, CSSPlugin.defaultTransformPerspective = 0, CSSPlugin.defaultSkewType = "compensated", CSSPlugin.defaultSmoothOrigin = !0, p = "px", CSSPlugin.suffixMap = {
      top: p,
      right: p,
      bottom: p,
      left: p,
      width: p,
      height: p,
      fontSize: p,
      padding: p,
      margin: p,
      perspective: p,
      lineHeight: ""
    };
    var _autoRound, _reqSafariFix, _isSafari, _isFirefox, _isSafariLT6, _ieVers, _numExp = /(?:\d|\-\d|\.\d|\-\.\d)+/g,
      _relNumExp = /(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,
      _valuesExp = /(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,
      _NaNExp = /(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g, _suffixExp = /(?:\d|\-|\+|=|#|\.)*/g,
      _opacityExp = /opacity *= *([^)]*)/i, _opacityValExp = /opacity:([^;]*)/i,
      _alphaFilterExp = /alpha\(opacity *=.+?\)/i, _rgbhslExp = /^(rgb|hsl)/, _capsExp = /([A-Z])/g,
      _camelExp = /-([a-z])/gi, _urlExp = /(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi, _camelFunc = function (s, g) {
        return g.toUpperCase()
      }, _horizExp = /(?:Left|Right|Width)/i, _ieGetMatrixExp = /(M11|M12|M21|M22)=[\d\-\.e]+/gi,
      _ieSetMatrixExp = /progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,
      _commasOutsideParenExp = /,(?=[^\)]*(?:\(|$))/gi, _DEG2RAD = Math.PI / 180, _RAD2DEG = 180 / Math.PI,
      _forcePT = {}, _doc = document, _createElement = function (type) {
        return _doc.createElementNS ? _doc.createElementNS("http://www.w3.org/1999/xhtml", type) : _doc.createElement(type)
      }, _tempDiv = _createElement("div"), _tempImg = _createElement("img"),
      _internals = CSSPlugin._internals = {_specialProps: _specialProps}, _agent = navigator.userAgent,
      _supportsOpacity = function () {
        var i = _agent.indexOf("Android"), a = _createElement("a");
        return _isSafari = _agent.indexOf("Safari") !== -1 && _agent.indexOf("Chrome") === -1 && (i === -1 || Number(_agent.substr(i + 8, 1)) > 3), _isSafariLT6 = _isSafari && Number(_agent.substr(_agent.indexOf("Version/") + 8, 1)) < 6, _isFirefox = _agent.indexOf("Firefox") !== -1, (/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(_agent) || /Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(_agent)) && (_ieVers = parseFloat(RegExp.$1)), !!a && (a.style.cssText = "top:1px;opacity:.55;", /^0.55/.test(a.style.opacity))
      }(), _getIEOpacity = function (v) {
        return _opacityExp.test("string" == typeof v ? v : (v.currentStyle ? v.currentStyle.filter : v.style.filter) || "") ? parseFloat(RegExp.$1) / 100 : 1
      }, _log = function (s) {
        window.console
      }, _prefixCSS = "", _prefix = "", _checkPropPrefix = function (p, e) {
        e = e || _tempDiv;
        var a, i, s = e.style;
        if (void 0 !== s[p]) return p;
        for (p = p.charAt(0).toUpperCase() + p.substr(1), a = ["O", "Moz", "ms", "Ms", "Webkit"], i = 5; --i > -1 && void 0 === s[a[i] + p];) ;
        return i >= 0 ? (_prefix = 3 === i ? "ms" : a[i], _prefixCSS = "-" + _prefix.toLowerCase() + "-", _prefix + p) : null
      }, _getComputedStyle = _doc.defaultView ? _doc.defaultView.getComputedStyle : function () {
      }, _getStyle = CSSPlugin.getStyle = function (t, p, cs, calc, dflt) {
        var rv;
        return _supportsOpacity || "opacity" !== p ? (!calc && t.style[p] ? rv = t.style[p] : (cs = cs || _getComputedStyle(t)) ? rv = cs[p] || cs.getPropertyValue(p) || cs.getPropertyValue(p.replace(_capsExp, "-$1").toLowerCase()) : t.currentStyle && (rv = t.currentStyle[p]), null == dflt || rv && "none" !== rv && "auto" !== rv && "auto auto" !== rv ? rv : dflt) : _getIEOpacity(t)
      }, _convertToPixels = _internals.convertToPixels = function (t, p, v, sfx, recurse) {
        if ("px" === sfx || !sfx) return v;
        if ("auto" === sfx || !v) return 0;
        var pix, cache, time, horiz = _horizExp.test(p), node = t, style = _tempDiv.style, neg = v < 0;
        if (neg && (v = -v), "%" === sfx && p.indexOf("border") !== -1) pix = v / 100 * (horiz ? t.clientWidth : t.clientHeight); else {
          if (style.cssText = "border:0 solid red;position:" + _getStyle(t, "position") + ";line-height:0;", "%" !== sfx && node.appendChild) style[horiz ? "borderLeftWidth" : "borderTopWidth"] = v + sfx; else {
            if (node = t.parentNode || _doc.body, cache = node._gsCache, time = TweenLite.ticker.frame, cache && horiz && cache.time === time) return cache.width * v / 100;
            style[horiz ? "width" : "height"] = v + sfx
          }
          node.appendChild(_tempDiv), pix = parseFloat(_tempDiv[horiz ? "offsetWidth" : "offsetHeight"]), node.removeChild(_tempDiv), horiz && "%" === sfx && CSSPlugin.cacheWidths !== !1 && (cache = node._gsCache = node._gsCache || {}, cache.time = time, cache.width = pix / v * 100), 0 !== pix || recurse || (pix = _convertToPixels(t, p, v, sfx, !0))
        }
        return neg ? -pix : pix
      }, _calculateOffset = _internals.calculateOffset = function (t, p, cs) {
        if ("absolute" !== _getStyle(t, "position", cs)) return 0;
        var dim = "left" === p ? "Left" : "Top", v = _getStyle(t, "margin" + dim, cs);
        return t["offset" + dim] - (_convertToPixels(t, p, parseFloat(v), v.replace(_suffixExp, "")) || 0)
      }, _getAllStyles = function (t, cs) {
        var i, tr, p, s = {};
        if (cs = cs || _getComputedStyle(t, null)) if (i = cs.length) for (; --i > -1;) p = cs[i], p.indexOf("-transform") !== -1 && _transformPropCSS !== p || (s[p.replace(_camelExp, _camelFunc)] = cs.getPropertyValue(p)); else for (i in cs) i.indexOf("Transform") !== -1 && _transformProp !== i || (s[i] = cs[i]); else if (cs = t.currentStyle || t.style) for (i in cs) "string" == typeof i && void 0 === s[i] && (s[i.replace(_camelExp, _camelFunc)] = cs[i]);
        return _supportsOpacity || (s.opacity = _getIEOpacity(t)), tr = _getTransform(t, cs, !1), s.rotation = tr.rotation, s.skewX = tr.skewX, s.scaleX = tr.scaleX, s.scaleY = tr.scaleY, s.x = tr.x, s.y = tr.y, _supports3D && (s.z = tr.z, s.rotationX = tr.rotationX, s.rotationY = tr.rotationY, s.scaleZ = tr.scaleZ), s.filters && delete s.filters, s
      }, _cssDif = function (t, s1, s2, vars, forceLookup) {
        var val, p, mpt, difs = {}, style = t.style;
        for (p in s2) "cssText" !== p && "length" !== p && isNaN(p) && (s1[p] !== (val = s2[p]) || forceLookup && forceLookup[p]) && p.indexOf("Origin") === -1 && ("number" != typeof val && "string" != typeof val || (difs[p] = "auto" !== val || "left" !== p && "top" !== p ? "" !== val && "auto" !== val && "none" !== val || "string" != typeof s1[p] || "" === s1[p].replace(_NaNExp, "") ? val : 0 : _calculateOffset(t, p), void 0 !== style[p] && (mpt = new MiniPropTween(style, p, style[p], mpt))));
        if (vars) for (p in vars) "className" !== p && (difs[p] = vars[p]);
        return {difs: difs, firstMPT: mpt}
      }, _dimensions = {width: ["Left", "Right"], height: ["Top", "Bottom"]},
      _margins = ["marginLeft", "marginRight", "marginTop", "marginBottom"], _getDimension = function (t, p, cs) {
        var v = parseFloat("width" === p ? t.offsetWidth : t.offsetHeight), a = _dimensions[p], i = a.length;
        for (cs = cs || _getComputedStyle(t, null); --i > -1;) v -= parseFloat(_getStyle(t, "padding" + a[i], cs, !0)) || 0, v -= parseFloat(_getStyle(t, "border" + a[i] + "Width", cs, !0)) || 0;
        return v
      }, _parsePosition = function (v, recObj) {
        null != v && "" !== v && "auto" !== v && "auto auto" !== v || (v = "0 0");
        var a = v.split(" "), x = v.indexOf("left") !== -1 ? "0%" : v.indexOf("right") !== -1 ? "100%" : a[0],
          y = v.indexOf("top") !== -1 ? "0%" : v.indexOf("bottom") !== -1 ? "100%" : a[1];
        return null == y ? y = "center" === x ? "50%" : "0" : "center" === y && (y = "50%"), ("center" === x || isNaN(parseFloat(x)) && (x + "").indexOf("=") === -1) && (x = "50%"), v = x + " " + y + (a.length > 2 ? " " + a[2] : ""), recObj && (recObj.oxp = x.indexOf("%") !== -1, recObj.oyp = y.indexOf("%") !== -1, recObj.oxr = "=" === x.charAt(1), recObj.oyr = "=" === y.charAt(1), recObj.ox = parseFloat(x.replace(_NaNExp, "")), recObj.oy = parseFloat(y.replace(_NaNExp, "")), recObj.v = v), recObj || v
      }, _parseChange = function (e, b) {
        return "string" == typeof e && "=" === e.charAt(1) ? parseInt(e.charAt(0) + "1", 10) * parseFloat(e.substr(2)) : parseFloat(e) - parseFloat(b)
      }, _parseVal = function (v, d) {
        return null == v ? d : "string" == typeof v && "=" === v.charAt(1) ? parseInt(v.charAt(0) + "1", 10) * parseFloat(v.substr(2)) + d : parseFloat(v)
      }, _parseAngle = function (v, d, p, directionalEnd) {
        var cap, split, dif, result, isRelative, min = 1e-6;
        return null == v ? result = d : "number" == typeof v ? result = v : (cap = 360, split = v.split("_"), isRelative = "=" === v.charAt(1), dif = (isRelative ? parseInt(v.charAt(0) + "1", 10) * parseFloat(split[0].substr(2)) : parseFloat(split[0])) * (v.indexOf("rad") === -1 ? 1 : _RAD2DEG) - (isRelative ? 0 : d), split.length && (directionalEnd && (directionalEnd[p] = d + dif), v.indexOf("short") !== -1 && (dif %= cap, dif !== dif % (cap / 2) && (dif = dif < 0 ? dif + cap : dif - cap)), v.indexOf("_cw") !== -1 && dif < 0 ? dif = (dif + 9999999999 * cap) % cap - (dif / cap | 0) * cap : v.indexOf("ccw") !== -1 && dif > 0 && (dif = (dif - 9999999999 * cap) % cap - (dif / cap | 0) * cap)), result = d + dif), result < min && result > -min && (result = 0), result
      }, _colorLookup = {
        aqua: [0, 255, 255],
        lime: [0, 255, 0],
        silver: [192, 192, 192],
        black: [0, 0, 0],
        maroon: [128, 0, 0],
        teal: [0, 128, 128],
        blue: [0, 0, 255],
        navy: [0, 0, 128],
        white: [255, 255, 255],
        fuchsia: [255, 0, 255],
        olive: [128, 128, 0],
        yellow: [255, 255, 0],
        orange: [255, 165, 0],
        gray: [128, 128, 128],
        purple: [128, 0, 128],
        green: [0, 128, 0],
        red: [255, 0, 0],
        pink: [255, 192, 203],
        cyan: [0, 255, 255],
        transparent: [255, 255, 255, 0]
      }, _hue = function (h, m1, m2) {
        return h = h < 0 ? h + 1 : h > 1 ? h - 1 : h, 255 * (6 * h < 1 ? m1 + (m2 - m1) * h * 6 : h < .5 ? m2 : 3 * h < 2 ? m1 + (m2 - m1) * (2 / 3 - h) * 6 : m1) + .5 | 0
      }, _parseColor = CSSPlugin.parseColor = function (v) {
        var c1, c2, c3, h, s, l;
        return v && "" !== v ? "number" == typeof v ? [v >> 16, v >> 8 & 255, 255 & v] : ("," === v.charAt(v.length - 1) && (v = v.substr(0, v.length - 1)), _colorLookup[v] ? _colorLookup[v] : "#" === v.charAt(0) ? (4 === v.length && (c1 = v.charAt(1), c2 = v.charAt(2), c3 = v.charAt(3), v = "#" + c1 + c1 + c2 + c2 + c3 + c3), v = parseInt(v.substr(1), 16), [v >> 16, v >> 8 & 255, 255 & v]) : "hsl" === v.substr(0, 3) ? (v = v.match(_numExp), h = Number(v[0]) % 360 / 360, s = Number(v[1]) / 100, l = Number(v[2]) / 100, c2 = l <= .5 ? l * (s + 1) : l + s - l * s, c1 = 2 * l - c2, v.length > 3 && (v[3] = Number(v[3])), v[0] = _hue(h + 1 / 3, c1, c2), v[1] = _hue(h, c1, c2), v[2] = _hue(h - 1 / 3, c1, c2), v) : (v = v.match(_numExp) || _colorLookup.transparent, v[0] = Number(v[0]), v[1] = Number(v[1]), v[2] = Number(v[2]), v.length > 3 && (v[3] = Number(v[3])), v)) : _colorLookup.black
      }, _colorExp = "(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#.+?\\b";
    for (p in _colorLookup) _colorExp += "|" + p + "\\b";
    _colorExp = new RegExp(_colorExp + ")", "gi");
    var _getFormatter = function (dflt, clr, collapsible, multi) {
      if (null == dflt) return function (v) {
        return v
      };
      var formatter, dColor = clr ? (dflt.match(_colorExp) || [""])[0] : "",
        dVals = dflt.split(dColor).join("").match(_valuesExp) || [], pfx = dflt.substr(0, dflt.indexOf(dVals[0])),
        sfx = ")" === dflt.charAt(dflt.length - 1) ? ")" : "", delim = dflt.indexOf(" ") !== -1 ? " " : ",",
        numVals = dVals.length, dSfx = numVals > 0 ? dVals[0].replace(_numExp, "") : "";
      return numVals ? formatter = clr ? function (v) {
        var color, vals, i, a;
        if ("number" == typeof v) v += dSfx; else if (multi && _commasOutsideParenExp.test(v)) {
          for (a = v.replace(_commasOutsideParenExp, "|").split("|"), i = 0; i < a.length; i++) a[i] = formatter(a[i]);
          return a.join(",")
        }
        if (color = (v.match(_colorExp) || [dColor])[0], vals = v.split(color).join("").match(_valuesExp) || [], i = vals.length, numVals > i--) for (; ++i < numVals;) vals[i] = collapsible ? vals[(i - 1) / 2 | 0] : dVals[i];
        return pfx + vals.join(delim) + delim + color + sfx + (v.indexOf("inset") !== -1 ? " inset" : "")
      } : function (v) {
        var vals, a, i;
        if ("number" == typeof v) v += dSfx; else if (multi && _commasOutsideParenExp.test(v)) {
          for (a = v.replace(_commasOutsideParenExp, "|").split("|"), i = 0; i < a.length; i++) a[i] = formatter(a[i]);
          return a.join(",")
        }
        if (vals = v.match(_valuesExp) || [], i = vals.length, numVals > i--) for (; ++i < numVals;) vals[i] = collapsible ? vals[(i - 1) / 2 | 0] : dVals[i];
        return pfx + vals.join(delim) + sfx
      } : function (v) {
        return v
      }
    }, _getEdgeParser = function (props) {
      return props = props.split(","), function (t, e, p, cssp, pt, plugin, vars) {
        var i, a = (e + "").split(" ");
        for (vars = {}, i = 0; i < 4; i++) vars[props[i]] = a[i] = a[i] || a[(i - 1) / 2 >> 0];
        return cssp.parse(t, vars, pt, plugin)
      }
    }, MiniPropTween = (_internals._setPluginRatio = function (v) {
      this.plugin.setRatio(v);
      for (var val, pt, i, str, d = this.data, proxy = d.proxy, mpt = d.firstMPT, min = 1e-6; mpt;) val = proxy[mpt.v], mpt.r ? val = Math.round(val) : val < min && val > -min && (val = 0), mpt.t[mpt.p] = val, mpt = mpt._next;
      if (d.autoRotate && (d.autoRotate.rotation = proxy.rotation), 1 === v) for (mpt = d.firstMPT; mpt;) {
        if (pt = mpt.t, pt.type) {
          if (1 === pt.type) {
            for (str = pt.xs0 + pt.s + pt.xs1, i = 1; i < pt.l; i++) str += pt["xn" + i] + pt["xs" + (i + 1)];
            pt.e = str
          }
        } else pt.e = pt.s + pt.xs0;
        mpt = mpt._next
      }
    }, function (t, p, v, next, r) {
      this.t = t, this.p = p, this.v = v, this.r = r, next && (next._prev = this, this._next = next)
    }), CSSPropTween = (_internals._parseToProxy = function (t, vars, cssp, pt, plugin, shallow) {
      var i, p, xp, mpt, firstPT, bpt = pt, start = {}, end = {}, transform = cssp._transform, oldForce = _forcePT;
      for (cssp._transform = null, _forcePT = vars, pt = firstPT = cssp.parse(t, vars, pt, plugin), _forcePT = oldForce, shallow && (cssp._transform = transform, bpt && (bpt._prev = null, bpt._prev && (bpt._prev._next = null))); pt && pt !== bpt;) {
        if (pt.type <= 1 && (p = pt.p, end[p] = pt.s + pt.c, start[p] = pt.s, shallow || (mpt = new MiniPropTween(pt, "s", p, mpt, pt.r), pt.c = 0), 1 === pt.type)) for (i = pt.l; --i > 0;) xp = "xn" + i, p = pt.p + "_" + xp, end[p] = pt.data[xp], start[p] = pt[xp], shallow || (mpt = new MiniPropTween(pt, xp, p, mpt, pt.rxp[xp]));
        pt = pt._next
      }
      return {proxy: start, end: end, firstMPT: mpt, pt: firstPT}
    }, _internals.CSSPropTween = function (t, p, s, c, next, type, n, r, pr, b, e) {
      this.t = t, this.p = p, this.s = s, this.c = c, this.n = n || p, t instanceof CSSPropTween || _overwriteProps.push(this.n), this.r = r, this.type = type || 0, pr && (this.pr = pr, _hasPriority = !0), this.b = void 0 === b ? s : b, this.e = void 0 === e ? s + c : e, next && (this._next = next, next._prev = this)
    }), _addNonTweeningNumericPT = function (target, prop, start, end, next, overwriteProp) {
      var pt = new CSSPropTween(target, prop, start, end - start, next, -1, overwriteProp);
      return pt.b = start, pt.e = pt.xs0 = end, pt
    }, _parseComplex = CSSPlugin.parseComplex = function (t, p, b, e, clrs, dflt, pt, pr, plugin, setRatio) {
      b = b || dflt || "", pt = new CSSPropTween(t, p, 0, 0, pt, setRatio ? 2 : 1, null, !1, pr, b, e), e += "";
      var i, xi, ni, bv, ev, bnums, enums, bn, rgba, temp, cv, str, ba = b.split(", ").join(",").split(" "),
        ea = e.split(", ").join(",").split(" "), l = ba.length, autoRound = _autoRound !== !1;
      for (e.indexOf(",") === -1 && b.indexOf(",") === -1 || (ba = ba.join(" ").replace(_commasOutsideParenExp, ", ").split(" "), ea = ea.join(" ").replace(_commasOutsideParenExp, ", ").split(" "), l = ba.length), l !== ea.length && (ba = (dflt || "").split(" "), l = ba.length), pt.plugin = plugin, pt.setRatio = setRatio, i = 0; i < l; i++) if (bv = ba[i], ev = ea[i], bn = parseFloat(bv), bn || 0 === bn) pt.appendXtra("", bn, _parseChange(ev, bn), ev.replace(_relNumExp, ""), autoRound && ev.indexOf("px") !== -1, !0); else if (clrs && ("#" === bv.charAt(0) || _colorLookup[bv] || _rgbhslExp.test(bv))) str = "," === ev.charAt(ev.length - 1) ? ")," : ")", bv = _parseColor(bv), ev = _parseColor(ev), rgba = bv.length + ev.length > 6, rgba && !_supportsOpacity && 0 === ev[3] ? (pt["xs" + pt.l] += pt.l ? " transparent" : "transparent", pt.e = pt.e.split(ea[i]).join("transparent")) : (_supportsOpacity || (rgba = !1), pt.appendXtra(rgba ? "rgba(" : "rgb(", bv[0], ev[0] - bv[0], ",", !0, !0).appendXtra("", bv[1], ev[1] - bv[1], ",", !0).appendXtra("", bv[2], ev[2] - bv[2], rgba ? "," : str, !0), rgba && (bv = bv.length < 4 ? 1 : bv[3], pt.appendXtra("", bv, (ev.length < 4 ? 1 : ev[3]) - bv, str, !1))); else if (bnums = bv.match(_numExp)) {
        if (enums = ev.match(_relNumExp), !enums || enums.length !== bnums.length) return pt;
        for (ni = 0, xi = 0; xi < bnums.length; xi++) cv = bnums[xi], temp = bv.indexOf(cv, ni), pt.appendXtra(bv.substr(ni, temp - ni), Number(cv), _parseChange(enums[xi], cv), "", autoRound && "px" === bv.substr(temp + cv.length, 2), 0 === xi), ni = temp + cv.length;
        pt["xs" + pt.l] += bv.substr(ni)
      } else pt["xs" + pt.l] += pt.l ? " " + bv : bv;
      if (e.indexOf("=") !== -1 && pt.data) {
        for (str = pt.xs0 + pt.data.s, i = 1; i < pt.l; i++) str += pt["xs" + i] + pt.data["xn" + i];
        pt.e = str + pt["xs" + i]
      }
      return pt.l || (pt.type = -1, pt.xs0 = pt.e), pt.xfirst || pt
    }, i = 9;
    for (p = CSSPropTween.prototype, p.l = p.pr = 0; --i > 0;) p["xn" + i] = 0, p["xs" + i] = "";
    p.xs0 = "", p._next = p._prev = p.xfirst = p.data = p.plugin = p.setRatio = p.rxp = null, p.appendXtra = function (pfx, s, c, sfx, r, pad) {
      var pt = this, l = pt.l;
      return pt["xs" + l] += pad && l ? " " + pfx : pfx || "", c || 0 === l || pt.plugin ? (pt.l++, pt.type = pt.setRatio ? 2 : 1, pt["xs" + pt.l] = sfx || "", l > 0 ? (pt.data["xn" + l] = s + c, pt.rxp["xn" + l] = r, pt["xn" + l] = s, pt.plugin || (pt.xfirst = new CSSPropTween(pt, "xn" + l, s, c, pt.xfirst || pt, 0, pt.n, r, pt.pr), pt.xfirst.xs0 = 0), pt) : (pt.data = {s: s + c}, pt.rxp = {}, pt.s = s, pt.c = c, pt.r = r, pt)) : (pt["xs" + l] += s + (sfx || ""), pt)
    };
    var SpecialProp = function (p, options) {
      options = options || {}, this.p = options.prefix ? _checkPropPrefix(p) || p : p, _specialProps[p] = _specialProps[this.p] = this, this.format = options.formatter || _getFormatter(options.defaultValue, options.color, options.collapsible, options.multi), options.parser && (this.parse = options.parser), this.clrs = options.color, this.multi = options.multi, this.keyword = options.keyword, this.dflt = options.defaultValue, this.pr = options.priority || 0
    }, _registerComplexSpecialProp = _internals._registerComplexSpecialProp = function (p, options, defaults) {
      "object" != typeof options && (options = {parser: defaults});
      var i, temp, a = p.split(","), d = options.defaultValue;
      for (defaults = defaults || [d], i = 0; i < a.length; i++) options.prefix = 0 === i && options.prefix, options.defaultValue = defaults[i] || d, temp = new SpecialProp(a[i], options)
    }, _registerPluginProp = function (p) {
      if (!_specialProps[p]) {
        var pluginName = p.charAt(0).toUpperCase() + p.substr(1) + "Plugin";
        _registerComplexSpecialProp(p, {
          parser: function (t, e, p, cssp, pt, plugin, vars) {
            var pluginClass = _globals.com.greensock.plugins[pluginName];
            return pluginClass ? (pluginClass._cssRegister(), _specialProps[p].parse(t, e, p, cssp, pt, plugin, vars)) : (_log("Error: " + pluginName + " js file not loaded."), pt)
          }
        })
      }
    };
    p = SpecialProp.prototype, p.parseComplex = function (t, b, e, pt, plugin, setRatio) {
      var i, ba, ea, l, bi, ei, kwd = this.keyword;
      if (this.multi && (_commasOutsideParenExp.test(e) || _commasOutsideParenExp.test(b) ? (ba = b.replace(_commasOutsideParenExp, "|").split("|"), ea = e.replace(_commasOutsideParenExp, "|").split("|")) : kwd && (ba = [b], ea = [e])), ea) {
        for (l = ea.length > ba.length ? ea.length : ba.length, i = 0; i < l; i++) b = ba[i] = ba[i] || this.dflt, e = ea[i] = ea[i] || this.dflt, kwd && (bi = b.indexOf(kwd), ei = e.indexOf(kwd), bi !== ei && (ei === -1 ? ba[i] = ba[i].split(kwd).join("") : bi === -1 && (ba[i] += " " + kwd)));
        b = ba.join(", "), e = ea.join(", ")
      }
      return _parseComplex(t, this.p, b, e, this.clrs, this.dflt, pt, this.pr, plugin, setRatio)
    }, p.parse = function (t, e, p, cssp, pt, plugin, vars) {
      return this.parseComplex(t.style, this.format(_getStyle(t, this.p, _cs, !1, this.dflt)), this.format(e), pt, plugin)
    }, CSSPlugin.registerSpecialProp = function (name, onInitTween, priority) {
      _registerComplexSpecialProp(name, {
        parser: function (t, e, p, cssp, pt, plugin, vars) {
          var rv = new CSSPropTween(t, p, 0, 0, pt, 2, p, !1, priority);
          return rv.plugin = plugin, rv.setRatio = onInitTween(t, e, cssp._tween, p), rv
        }, priority: priority
      })
    }, CSSPlugin.useSVGTransformAttr = _isSafari || _isFirefox;
    var _useSVGTransformAttr,
      _transformProps = "scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),
      _transformProp = _checkPropPrefix("transform"), _transformPropCSS = _prefixCSS + "transform",
      _transformOriginProp = _checkPropPrefix("transformOrigin"),
      _supports3D = null !== _checkPropPrefix("perspective"), Transform = _internals.Transform = function () {
        this.perspective = parseFloat(CSSPlugin.defaultTransformPerspective) || 0, this.force3D = !(CSSPlugin.defaultForce3D === !1 || !_supports3D) && (CSSPlugin.defaultForce3D || "auto")
      }, _SVGElement = window.SVGElement, _createSVG = function (type, container, attributes) {
        var p, element = _doc.createElementNS("http://www.w3.org/2000/svg", type), reg = /([a-z])([A-Z])/g;
        for (p in attributes) element.setAttributeNS(null, p.replace(reg, "$1-$2").toLowerCase(), attributes[p]);
        return container.appendChild(element), element
      }, _docElement = _doc.documentElement, _forceSVGTransformAttr = function () {
        var svg, rect, width, force = _ieVers || /Android/i.test(_agent) && !window.chrome;
        return _doc.createElementNS && !force && (svg = _createSVG("svg", _docElement), rect = _createSVG("rect", svg, {
          width: 100,
          height: 50,
          x: 100
        }), width = rect.getBoundingClientRect().width, rect.style[_transformOriginProp] = "50% 50%", rect.style[_transformProp] = "scaleX(0.5)", force = width === rect.getBoundingClientRect().width && !(_isFirefox && _supports3D), _docElement.removeChild(svg)), force
      }(), _parseSVGOrigin = function (e, local, decoratee, absolute, smoothOrigin) {
        var v, x, y, xOrigin, yOrigin, a, b, c, d, tx, ty, determinant, xOriginOld, yOriginOld, tm = e._gsTransform,
          m = _getMatrix(e, !0);
        tm && (xOriginOld = tm.xOrigin, yOriginOld = tm.yOrigin), (!absolute || (v = absolute.split(" ")).length < 2) && (b = e.getBBox(), local = _parsePosition(local).split(" "), v = [(local[0].indexOf("%") !== -1 ? parseFloat(local[0]) / 100 * b.width : parseFloat(local[0])) + b.x, (local[1].indexOf("%") !== -1 ? parseFloat(local[1]) / 100 * b.height : parseFloat(local[1])) + b.y]), decoratee.xOrigin = xOrigin = parseFloat(v[0]), decoratee.yOrigin = yOrigin = parseFloat(v[1]), absolute && m !== _identity2DMatrix && (a = m[0], b = m[1], c = m[2], d = m[3], tx = m[4], ty = m[5], determinant = a * d - b * c, x = xOrigin * (d / determinant) + yOrigin * (-c / determinant) + (c * ty - d * tx) / determinant, y = xOrigin * (-b / determinant) + yOrigin * (a / determinant) - (a * ty - b * tx) / determinant, xOrigin = decoratee.xOrigin = v[0] = x, yOrigin = decoratee.yOrigin = v[1] = y), tm && (smoothOrigin || smoothOrigin !== !1 && CSSPlugin.defaultSmoothOrigin !== !1 ? (x = xOrigin - xOriginOld, y = yOrigin - yOriginOld, tm.xOffset += x * m[0] + y * m[2] - x, tm.yOffset += x * m[1] + y * m[3] - y) : tm.xOffset = tm.yOffset = 0), e.setAttribute("data-svg-origin", v.join(" "))
      }, _isSVG = function (e) {
        return !!(_SVGElement && "function" == typeof e.getBBox && e.getCTM && (!e.parentNode || e.parentNode.getBBox && e.parentNode.getCTM))
      }, _identity2DMatrix = [1, 0, 0, 1, 0, 0], _getMatrix = function (e, force2D) {
        var isDefault, s, m, n, dec, tm = e._gsTransform || new Transform, rnd = 1e5;
        if (_transformProp ? s = _getStyle(e, _transformPropCSS, null, !0) : e.currentStyle && (s = e.currentStyle.filter.match(_ieGetMatrixExp), s = s && 4 === s.length ? [s[0].substr(4), Number(s[2].substr(4)), Number(s[1].substr(4)), s[3].substr(4), tm.x || 0, tm.y || 0].join(",") : ""), isDefault = !s || "none" === s || "matrix(1, 0, 0, 1, 0, 0)" === s, (tm.svg || e.getBBox && _isSVG(e)) && (isDefault && (e.style[_transformProp] + "").indexOf("matrix") !== -1 && (s = e.style[_transformProp], isDefault = 0), m = e.getAttribute("transform"), isDefault && m && (m.indexOf("matrix") !== -1 ? (s = m, isDefault = 0) : m.indexOf("translate") !== -1 && (s = "matrix(1,0,0,1," + m.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",") + ")", isDefault = 0))), isDefault) return _identity2DMatrix;
        for (m = (s || "").match(/(?:\-|\b)[\d\-\.e]+\b/gi) || [], i = m.length; --i > -1;) n = Number(m[i]), m[i] = (dec = n - (n |= 0)) ? (dec * rnd + (dec < 0 ? -.5 : .5) | 0) / rnd + n : n;
        return force2D && m.length > 6 ? [m[0], m[1], m[4], m[5], m[12], m[13]] : m
      }, _getTransform = _internals.getTransform = function (t, cs, rec, parse) {
        if (t._gsTransform && rec && !parse) return t._gsTransform;
        var m, i, scaleX, scaleY, rotation, skewX, tm = rec ? t._gsTransform || new Transform : new Transform,
          invX = tm.scaleX < 0, min = 2e-5, rnd = 1e5,
          zOrigin = _supports3D ? parseFloat(_getStyle(t, _transformOriginProp, cs, !1, "0 0 0").split(" ")[2]) || tm.zOrigin || 0 : 0,
          defaultTransformPerspective = parseFloat(CSSPlugin.defaultTransformPerspective) || 0;
        if (tm.svg = !(!t.getBBox || !_isSVG(t)), tm.svg && (_parseSVGOrigin(t, _getStyle(t, _transformOriginProp, _cs, !1, "50% 50%") + "", tm, t.getAttribute("data-svg-origin")), _useSVGTransformAttr = CSSPlugin.useSVGTransformAttr || _forceSVGTransformAttr), m = _getMatrix(t), m !== _identity2DMatrix) {
          if (16 === m.length) {
            var t1, t2, t3, cos, sin, a11 = m[0], a21 = m[1], a31 = m[2], a41 = m[3], a12 = m[4], a22 = m[5], a32 = m[6],
              a42 = m[7], a13 = m[8], a23 = m[9], a33 = m[10], a14 = m[12], a24 = m[13], a34 = m[14], a43 = m[11],
              angle = Math.atan2(a32, a33);
            tm.zOrigin && (a34 = -tm.zOrigin, a14 = a13 * a34 - m[12], a24 = a23 * a34 - m[13], a34 = a33 * a34 + tm.zOrigin - m[14]), tm.rotationX = angle * _RAD2DEG, angle && (cos = Math.cos(-angle), sin = Math.sin(-angle), t1 = a12 * cos + a13 * sin, t2 = a22 * cos + a23 * sin, t3 = a32 * cos + a33 * sin, a13 = a12 * -sin + a13 * cos, a23 = a22 * -sin + a23 * cos, a33 = a32 * -sin + a33 * cos, a43 = a42 * -sin + a43 * cos, a12 = t1, a22 = t2, a32 = t3), angle = Math.atan2(a13, a33), tm.rotationY = angle * _RAD2DEG, angle && (cos = Math.cos(-angle), sin = Math.sin(-angle), t1 = a11 * cos - a13 * sin, t2 = a21 * cos - a23 * sin, t3 = a31 * cos - a33 * sin, a23 = a21 * sin + a23 * cos, a33 = a31 * sin + a33 * cos, a43 = a41 * sin + a43 * cos, a11 = t1, a21 = t2, a31 = t3), angle = Math.atan2(a21, a11), tm.rotation = angle * _RAD2DEG, angle && (cos = Math.cos(-angle), sin = Math.sin(-angle), a11 = a11 * cos + a12 * sin, t2 = a21 * cos + a22 * sin, a22 = a21 * -sin + a22 * cos, a32 = a31 * -sin + a32 * cos, a21 = t2), tm.rotationX && Math.abs(tm.rotationX) + Math.abs(tm.rotation) > 359.9 && (tm.rotationX = tm.rotation = 0, tm.rotationY += 180), tm.scaleX = (Math.sqrt(a11 * a11 + a21 * a21) * rnd + .5 | 0) / rnd, tm.scaleY = (Math.sqrt(a22 * a22 + a23 * a23) * rnd + .5 | 0) / rnd, tm.scaleZ = (Math.sqrt(a32 * a32 + a33 * a33) * rnd + .5 | 0) / rnd, tm.skewX = 0, tm.perspective = a43 ? 1 / (a43 < 0 ? -a43 : a43) : 0, tm.x = a14, tm.y = a24, tm.z = a34, tm.svg && (tm.x -= tm.xOrigin - (tm.xOrigin * a11 - tm.yOrigin * a12), tm.y -= tm.yOrigin - (tm.yOrigin * a21 - tm.xOrigin * a22))
          } else if ((!_supports3D || parse || !m.length || tm.x !== m[4] || tm.y !== m[5] || !tm.rotationX && !tm.rotationY) && (void 0 === tm.x || "none" !== _getStyle(t, "display", cs))) {
            var k = m.length >= 6, a = k ? m[0] : 1, b = m[1] || 0, c = m[2] || 0, d = k ? m[3] : 1;
            tm.x = m[4] || 0, tm.y = m[5] || 0, scaleX = Math.sqrt(a * a + b * b), scaleY = Math.sqrt(d * d + c * c), rotation = a || b ? Math.atan2(b, a) * _RAD2DEG : tm.rotation || 0, skewX = c || d ? Math.atan2(c, d) * _RAD2DEG + rotation : tm.skewX || 0, Math.abs(skewX) > 90 && Math.abs(skewX) < 270 && (invX ? (scaleX *= -1, skewX += rotation <= 0 ? 180 : -180, rotation += rotation <= 0 ? 180 : -180) : (scaleY *= -1, skewX += skewX <= 0 ? 180 : -180)), tm.scaleX = scaleX, tm.scaleY = scaleY, tm.rotation = rotation, tm.skewX = skewX, _supports3D && (tm.rotationX = tm.rotationY = tm.z = 0, tm.perspective = defaultTransformPerspective, tm.scaleZ = 1), tm.svg && (tm.x -= tm.xOrigin - (tm.xOrigin * a + tm.yOrigin * c), tm.y -= tm.yOrigin - (tm.xOrigin * b + tm.yOrigin * d))
          }
          tm.zOrigin = zOrigin;
          for (i in tm) tm[i] < min && tm[i] > -min && (tm[i] = 0)
        }
        return rec && (t._gsTransform = tm, tm.svg && (_useSVGTransformAttr && t.style[_transformProp] ? TweenLite.delayedCall(.001, function () {
          _removeProp(t.style, _transformProp)
        }) : !_useSVGTransformAttr && t.getAttribute("transform") && TweenLite.delayedCall(.001, function () {
          t.removeAttribute("transform")
        }))), tm
      }, _setIETransformRatio = function (v) {
        var filters, val, t = this.data, ang = -t.rotation * _DEG2RAD, skew = ang + t.skewX * _DEG2RAD, rnd = 1e5,
          a = (Math.cos(ang) * t.scaleX * rnd | 0) / rnd, b = (Math.sin(ang) * t.scaleX * rnd | 0) / rnd,
          c = (Math.sin(skew) * -t.scaleY * rnd | 0) / rnd, d = (Math.cos(skew) * t.scaleY * rnd | 0) / rnd,
          style = this.t.style, cs = this.t.currentStyle;
        if (cs) {
          val = b, b = -c, c = -val, filters = cs.filter, style.filter = "";
          var dx, dy, w = this.t.offsetWidth, h = this.t.offsetHeight, clip = "absolute" !== cs.position,
            m = "progid:DXImageTransform.Microsoft.Matrix(M11=" + a + ", M12=" + b + ", M21=" + c + ", M22=" + d,
            ox = t.x + w * t.xPercent / 100, oy = t.y + h * t.yPercent / 100;
          if (null != t.ox && (dx = (t.oxp ? w * t.ox * .01 : t.ox) - w / 2, dy = (t.oyp ? h * t.oy * .01 : t.oy) - h / 2, ox += dx - (dx * a + dy * b), oy += dy - (dx * c + dy * d)), clip ? (dx = w / 2, dy = h / 2, m += ", Dx=" + (dx - (dx * a + dy * b) + ox) + ", Dy=" + (dy - (dx * c + dy * d) + oy) + ")") : m += ", sizingMethod='auto expand')", filters.indexOf("DXImageTransform.Microsoft.Matrix(") !== -1 ? style.filter = filters.replace(_ieSetMatrixExp, m) : style.filter = m + " " + filters, 0 !== v && 1 !== v || 1 === a && 0 === b && 0 === c && 1 === d && (clip && m.indexOf("Dx=0, Dy=0") === -1 || _opacityExp.test(filters) && 100 !== parseFloat(RegExp.$1) || filters.indexOf(filters.indexOf("Alpha")) === -1 && style.removeAttribute("filter")), !clip) {
            var marg, prop, dif, mult = _ieVers < 8 ? 1 : -1;
            for (dx = t.ieOffsetX || 0, dy = t.ieOffsetY || 0, t.ieOffsetX = Math.round((w - ((a < 0 ? -a : a) * w + (b < 0 ? -b : b) * h)) / 2 + ox), t.ieOffsetY = Math.round((h - ((d < 0 ? -d : d) * h + (c < 0 ? -c : c) * w)) / 2 + oy), i = 0; i < 4; i++) prop = _margins[i], marg = cs[prop], val = marg.indexOf("px") !== -1 ? parseFloat(marg) : _convertToPixels(this.t, prop, parseFloat(marg), marg.replace(_suffixExp, "")) || 0, dif = val !== t[prop] ? i < 2 ? -t.ieOffsetX : -t.ieOffsetY : i < 2 ? dx - t.ieOffsetX : dy - t.ieOffsetY, style[prop] = (t[prop] = Math.round(val - dif * (0 === i || 2 === i ? 1 : mult))) + "px"
          }
        }
      }, _setTransformRatio = _internals.set3DTransformRatio = _internals.setTransformRatio = function (v) {
        var a11, a12, a13, a21, a22, a23, a31, a32, a33, a41, a42, a43, zOrigin, min, cos, sin, t1, t2, transform, comma,
          zero, skew, rnd, t = this.data, style = this.t.style, angle = t.rotation, rotationX = t.rotationX,
          rotationY = t.rotationY, sx = t.scaleX, sy = t.scaleY, sz = t.scaleZ, x = t.x, y = t.y, z = t.z, isSVG = t.svg,
          perspective = t.perspective, force3D = t.force3D;
        if (((1 === v || 0 === v) && "auto" === force3D && (this.tween._totalTime === this.tween._totalDuration || !this.tween._totalTime) || !force3D) && !z && !perspective && !rotationY && !rotationX || _useSVGTransformAttr && isSVG || !_supports3D) return void(angle || t.skewX || isSVG ? (angle *= _DEG2RAD,
          skew = t.skewX * _DEG2RAD, rnd = 1e5, a11 = Math.cos(angle) * sx, a21 = Math.sin(angle) * sx, a12 = Math.sin(angle - skew) * -sy, a22 = Math.cos(angle - skew) * sy, skew && "simple" === t.skewType && (t1 = Math.tan(skew), t1 = Math.sqrt(1 + t1 * t1), a12 *= t1, a22 *= t1, t.skewY && (a11 *= t1, a21 *= t1)), isSVG && (x += t.xOrigin - (t.xOrigin * a11 + t.yOrigin * a12) + t.xOffset, y += t.yOrigin - (t.xOrigin * a21 + t.yOrigin * a22) + t.yOffset, _useSVGTransformAttr && (t.xPercent || t.yPercent) && (min = this.t.getBBox(), x += .01 * t.xPercent * min.width, y += .01 * t.yPercent * min.height), min = 1e-6, x < min && x > -min && (x = 0), y < min && y > -min && (y = 0)), transform = (a11 * rnd | 0) / rnd + "," + (a21 * rnd | 0) / rnd + "," + (a12 * rnd | 0) / rnd + "," + (a22 * rnd | 0) / rnd + "," + x + "," + y + ")", isSVG && _useSVGTransformAttr ? this.t.setAttribute("transform", "matrix(" + transform) : style[_transformProp] = (t.xPercent || t.yPercent ? "translate(" + t.xPercent + "%," + t.yPercent + "%) matrix(" : "matrix(") + transform) : style[_transformProp] = (t.xPercent || t.yPercent ? "translate(" + t.xPercent + "%," + t.yPercent + "%) matrix(" : "matrix(") + sx + ",0,0," + sy + "," + x + "," + y + ")");
        if (_isFirefox && (min = 1e-4, sx < min && sx > -min && (sx = sz = 2e-5), sy < min && sy > -min && (sy = sz = 2e-5), !perspective || t.z || t.rotationX || t.rotationY || (perspective = 0)), angle || t.skewX) angle *= _DEG2RAD, cos = a11 = Math.cos(angle), sin = a21 = Math.sin(angle), t.skewX && (angle -= t.skewX * _DEG2RAD, cos = Math.cos(angle), sin = Math.sin(angle), "simple" === t.skewType && (t1 = Math.tan(t.skewX * _DEG2RAD), t1 = Math.sqrt(1 + t1 * t1), cos *= t1, sin *= t1, t.skewY && (a11 *= t1, a21 *= t1))), a12 = -sin, a22 = cos; else {
          if (!(rotationY || rotationX || 1 !== sz || perspective || isSVG)) return void(style[_transformProp] = (t.xPercent || t.yPercent ? "translate(" + t.xPercent + "%," + t.yPercent + "%) translate3d(" : "translate3d(") + x + "px," + y + "px," + z + "px)" + (1 !== sx || 1 !== sy ? " scale(" + sx + "," + sy + ")" : ""));
          a11 = a22 = 1, a12 = a21 = 0
        }
        a33 = 1, a13 = a23 = a31 = a32 = a41 = a42 = 0, a43 = perspective ? -1 / perspective : 0, zOrigin = t.zOrigin, min = 1e-6, comma = ",", zero = "0", angle = rotationY * _DEG2RAD, angle && (cos = Math.cos(angle), sin = Math.sin(angle), a31 = -sin, a41 = a43 * -sin, a13 = a11 * sin, a23 = a21 * sin, a33 = cos, a43 *= cos, a11 *= cos, a21 *= cos), angle = rotationX * _DEG2RAD, angle && (cos = Math.cos(angle), sin = Math.sin(angle), t1 = a12 * cos + a13 * sin, t2 = a22 * cos + a23 * sin, a32 = a33 * sin, a42 = a43 * sin, a13 = a12 * -sin + a13 * cos, a23 = a22 * -sin + a23 * cos, a33 *= cos, a43 *= cos, a12 = t1, a22 = t2), 1 !== sz && (a13 *= sz, a23 *= sz, a33 *= sz, a43 *= sz), 1 !== sy && (a12 *= sy, a22 *= sy, a32 *= sy, a42 *= sy), 1 !== sx && (a11 *= sx, a21 *= sx, a31 *= sx, a41 *= sx), (zOrigin || isSVG) && (zOrigin && (x += a13 * -zOrigin, y += a23 * -zOrigin, z += a33 * -zOrigin + zOrigin), isSVG && (x += t.xOrigin - (t.xOrigin * a11 + t.yOrigin * a12) + t.xOffset, y += t.yOrigin - (t.xOrigin * a21 + t.yOrigin * a22) + t.yOffset), x < min && x > -min && (x = zero), y < min && y > -min && (y = zero), z < min && z > -min && (z = 0)), transform = t.xPercent || t.yPercent ? "translate(" + t.xPercent + "%," + t.yPercent + "%) matrix3d(" : "matrix3d(", transform += (a11 < min && a11 > -min ? zero : a11) + comma + (a21 < min && a21 > -min ? zero : a21) + comma + (a31 < min && a31 > -min ? zero : a31), transform += comma + (a41 < min && a41 > -min ? zero : a41) + comma + (a12 < min && a12 > -min ? zero : a12) + comma + (a22 < min && a22 > -min ? zero : a22), rotationX || rotationY ? (transform += comma + (a32 < min && a32 > -min ? zero : a32) + comma + (a42 < min && a42 > -min ? zero : a42) + comma + (a13 < min && a13 > -min ? zero : a13), transform += comma + (a23 < min && a23 > -min ? zero : a23) + comma + (a33 < min && a33 > -min ? zero : a33) + comma + (a43 < min && a43 > -min ? zero : a43) + comma) : transform += ",0,0,0,0,1,0,", transform += x + comma + y + comma + z + comma + (perspective ? 1 + -z / perspective : 1) + ")", style[_transformProp] = transform
      };
    p = Transform.prototype, p.x = p.y = p.z = p.skewX = p.skewY = p.rotation = p.rotationX = p.rotationY = p.zOrigin = p.xPercent = p.yPercent = p.xOffset = p.yOffset = 0, p.scaleX = p.scaleY = p.scaleZ = 1, _registerComplexSpecialProp("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin", {
      parser: function (t, e, p, cssp, pt, plugin, vars) {
        if (cssp._lastParsedTransform === vars) return pt;
        cssp._lastParsedTransform = vars;
        var m2, skewY, copy, orig, has3D, hasChange, dr, x, y, originalGSTransform = t._gsTransform,
          m1 = cssp._transform = _getTransform(t, _cs, !0, vars.parseTransform), style = t.style, min = 1e-6,
          i = _transformProps.length, v = vars, endRotations = {}, transformOriginString = "transformOrigin";
        if ("string" == typeof v.transform && _transformProp) copy = _tempDiv.style, copy[_transformProp] = v.transform, copy.display = "block", copy.position = "absolute", _doc.body.appendChild(_tempDiv), m2 = _getTransform(_tempDiv, null, !1), _doc.body.removeChild(_tempDiv), null != v.xPercent && (m2.xPercent = _parseVal(v.xPercent, m1.xPercent)), null != v.yPercent && (m2.yPercent = _parseVal(v.yPercent, m1.yPercent)); else if ("object" == typeof v) {
          if (m2 = {
            scaleX: _parseVal(null != v.scaleX ? v.scaleX : v.scale, m1.scaleX),
            scaleY: _parseVal(null != v.scaleY ? v.scaleY : v.scale, m1.scaleY),
            scaleZ: _parseVal(v.scaleZ, m1.scaleZ),
            x: _parseVal(v.x, m1.x),
            y: _parseVal(v.y, m1.y),
            z: _parseVal(v.z, m1.z),
            xPercent: _parseVal(v.xPercent, m1.xPercent),
            yPercent: _parseVal(v.yPercent, m1.yPercent),
            perspective: _parseVal(v.transformPerspective, m1.perspective)
          }, dr = v.directionalRotation, null != dr) if ("object" == typeof dr) for (copy in dr) v[copy] = dr[copy]; else v.rotation = dr;
          "string" == typeof v.x && v.x.indexOf("%") !== -1 && (m2.x = 0, m2.xPercent = _parseVal(v.x, m1.xPercent)), "string" == typeof v.y && v.y.indexOf("%") !== -1 && (m2.y = 0, m2.yPercent = _parseVal(v.y, m1.yPercent)), m2.rotation = _parseAngle("rotation" in v ? v.rotation : "shortRotation" in v ? v.shortRotation + "_short" : "rotationZ" in v ? v.rotationZ : m1.rotation, m1.rotation, "rotation", endRotations), _supports3D && (m2.rotationX = _parseAngle("rotationX" in v ? v.rotationX : "shortRotationX" in v ? v.shortRotationX + "_short" : m1.rotationX || 0, m1.rotationX, "rotationX", endRotations), m2.rotationY = _parseAngle("rotationY" in v ? v.rotationY : "shortRotationY" in v ? v.shortRotationY + "_short" : m1.rotationY || 0, m1.rotationY, "rotationY", endRotations)), m2.skewX = null == v.skewX ? m1.skewX : _parseAngle(v.skewX, m1.skewX), m2.skewY = null == v.skewY ? m1.skewY : _parseAngle(v.skewY, m1.skewY), (skewY = m2.skewY - m1.skewY) && (m2.skewX += skewY, m2.rotation += skewY)
        }
        for (_supports3D && null != v.force3D && (m1.force3D = v.force3D, hasChange = !0), m1.skewType = v.skewType || m1.skewType || CSSPlugin.defaultSkewType, has3D = m1.force3D || m1.z || m1.rotationX || m1.rotationY || m2.z || m2.rotationX || m2.rotationY || m2.perspective, has3D || null == v.scale || (m2.scaleZ = 1); --i > -1;) p = _transformProps[i], orig = m2[p] - m1[p], (orig > min || orig < -min || null != v[p] || null != _forcePT[p]) && (hasChange = !0, pt = new CSSPropTween(m1, p, m1[p], orig, pt), p in endRotations && (pt.e = endRotations[p]), pt.xs0 = 0, pt.plugin = plugin, cssp._overwriteProps.push(pt.n));
        return orig = v.transformOrigin, m1.svg && (orig || v.svgOrigin) && (x = m1.xOffset, y = m1.yOffset, _parseSVGOrigin(t, _parsePosition(orig), m2, v.svgOrigin, v.smoothOrigin), pt = _addNonTweeningNumericPT(m1, "xOrigin", (originalGSTransform ? m1 : m2).xOrigin, m2.xOrigin, pt, transformOriginString), pt = _addNonTweeningNumericPT(m1, "yOrigin", (originalGSTransform ? m1 : m2).yOrigin, m2.yOrigin, pt, transformOriginString), x === m1.xOffset && y === m1.yOffset || (pt = _addNonTweeningNumericPT(m1, "xOffset", originalGSTransform ? x : m1.xOffset, m1.xOffset, pt, transformOriginString), pt = _addNonTweeningNumericPT(m1, "yOffset", originalGSTransform ? y : m1.yOffset, m1.yOffset, pt, transformOriginString)), orig = _useSVGTransformAttr ? null : "0px 0px"), (orig || _supports3D && has3D && m1.zOrigin) && (_transformProp ? (hasChange = !0, p = _transformOriginProp, orig = (orig || _getStyle(t, p, _cs, !1, "50% 50%")) + "", pt = new CSSPropTween(style, p, 0, 0, pt, -1, transformOriginString), pt.b = style[p], pt.plugin = plugin, _supports3D ? (copy = m1.zOrigin, orig = orig.split(" "), m1.zOrigin = (orig.length > 2 && (0 === copy || "0px" !== orig[2]) ? parseFloat(orig[2]) : copy) || 0, pt.xs0 = pt.e = orig[0] + " " + (orig[1] || "50%") + " 0px", pt = new CSSPropTween(m1, "zOrigin", 0, 0, pt, -1, pt.n), pt.b = copy, pt.xs0 = pt.e = m1.zOrigin) : pt.xs0 = pt.e = orig) : _parsePosition(orig + "", m1)), hasChange && (cssp._transformType = m1.svg && _useSVGTransformAttr || !has3D && 3 !== this._transformType ? 2 : 3), pt
      }, prefix: !0
    }), _registerComplexSpecialProp("boxShadow", {
      defaultValue: "0px 0px 0px 0px #999",
      prefix: !0,
      color: !0,
      multi: !0,
      keyword: "inset"
    }), _registerComplexSpecialProp("borderRadius", {
      defaultValue: "0px", parser: function (t, e, p, cssp, pt, plugin) {
        e = this.format(e);
        var ea1, i, es2, bs2, bs, es, bn, en, w, h, esfx, bsfx, rel, hn, vn, em,
          props = ["borderTopLeftRadius", "borderTopRightRadius", "borderBottomRightRadius", "borderBottomLeftRadius"],
          style = t.style;
        for (w = parseFloat(t.offsetWidth), h = parseFloat(t.offsetHeight), ea1 = e.split(" "), i = 0; i < props.length; i++) this.p.indexOf("border") && (props[i] = _checkPropPrefix(props[i])), bs = bs2 = _getStyle(t, props[i], _cs, !1, "0px"), bs.indexOf(" ") !== -1 && (bs2 = bs.split(" "), bs = bs2[0], bs2 = bs2[1]), es = es2 = ea1[i], bn = parseFloat(bs), bsfx = bs.substr((bn + "").length), rel = "=" === es.charAt(1), rel ? (en = parseInt(es.charAt(0) + "1", 10), es = es.substr(2), en *= parseFloat(es), esfx = es.substr((en + "").length - (en < 0 ? 1 : 0)) || "") : (en = parseFloat(es), esfx = es.substr((en + "").length)), "" === esfx && (esfx = _suffixMap[p] || bsfx), esfx !== bsfx && (hn = _convertToPixels(t, "borderLeft", bn, bsfx), vn = _convertToPixels(t, "borderTop", bn, bsfx), "%" === esfx ? (bs = hn / w * 100 + "%", bs2 = vn / h * 100 + "%") : "em" === esfx ? (em = _convertToPixels(t, "borderLeft", 1, "em"), bs = hn / em + "em", bs2 = vn / em + "em") : (bs = hn + "px", bs2 = vn + "px"), rel && (es = parseFloat(bs) + en + esfx, es2 = parseFloat(bs2) + en + esfx)), pt = _parseComplex(style, props[i], bs + " " + bs2, es + " " + es2, !1, "0px", pt);
        return pt
      }, prefix: !0, formatter: _getFormatter("0px 0px 0px 0px", !1, !0)
    }), _registerComplexSpecialProp("backgroundPosition", {
      defaultValue: "0 0",
      parser: function (t, e, p, cssp, pt, plugin) {
        var ba, ea, i, pct, overlap, src, bp = "background-position", cs = _cs || _getComputedStyle(t, null),
          bs = this.format((cs ? _ieVers ? cs.getPropertyValue(bp + "-x") + " " + cs.getPropertyValue(bp + "-y") : cs.getPropertyValue(bp) : t.currentStyle.backgroundPositionX + " " + t.currentStyle.backgroundPositionY) || "0 0"),
          es = this.format(e);
        if (bs.indexOf("%") !== -1 != (es.indexOf("%") !== -1) && (src = _getStyle(t, "backgroundImage").replace(_urlExp, ""), src && "none" !== src)) {
          for (ba = bs.split(" "), ea = es.split(" "), _tempImg.setAttribute("src", src), i = 2; --i > -1;) bs = ba[i], pct = bs.indexOf("%") !== -1, pct !== (ea[i].indexOf("%") !== -1) && (overlap = 0 === i ? t.offsetWidth - _tempImg.width : t.offsetHeight - _tempImg.height, ba[i] = pct ? parseFloat(bs) / 100 * overlap + "px" : parseFloat(bs) / overlap * 100 + "%");
          bs = ba.join(" ")
        }
        return this.parseComplex(t.style, bs, es, pt, plugin)
      },
      formatter: _parsePosition
    }), _registerComplexSpecialProp("backgroundSize", {
      defaultValue: "0 0",
      formatter: _parsePosition
    }), _registerComplexSpecialProp("perspective", {
      defaultValue: "0px",
      prefix: !0
    }), _registerComplexSpecialProp("perspectiveOrigin", {
      defaultValue: "50% 50%",
      prefix: !0
    }), _registerComplexSpecialProp("transformStyle", {prefix: !0}), _registerComplexSpecialProp("backfaceVisibility", {prefix: !0}), _registerComplexSpecialProp("userSelect", {prefix: !0}), _registerComplexSpecialProp("margin", {parser: _getEdgeParser("marginTop,marginRight,marginBottom,marginLeft")}), _registerComplexSpecialProp("padding", {parser: _getEdgeParser("paddingTop,paddingRight,paddingBottom,paddingLeft")}), _registerComplexSpecialProp("clip", {
      defaultValue: "rect(0px,0px,0px,0px)",
      parser: function (t, e, p, cssp, pt, plugin) {
        var b, cs, delim;
        return _ieVers < 9 ? (cs = t.currentStyle, delim = _ieVers < 8 ? " " : ",", b = "rect(" + cs.clipTop + delim + cs.clipRight + delim + cs.clipBottom + delim + cs.clipLeft + ")", e = this.format(e).split(",").join(delim)) : (b = this.format(_getStyle(t, this.p, _cs, !1, this.dflt)), e = this.format(e)), this.parseComplex(t.style, b, e, pt, plugin)
      }
    }), _registerComplexSpecialProp("textShadow", {
      defaultValue: "0px 0px 0px #999",
      color: !0,
      multi: !0
    }), _registerComplexSpecialProp("autoRound,strictUnits", {
      parser: function (t, e, p, cssp, pt) {
        return pt
      }
    }), _registerComplexSpecialProp("border", {
      defaultValue: "0px solid #000",
      parser: function (t, e, p, cssp, pt, plugin) {
        return this.parseComplex(t.style, this.format(_getStyle(t, "borderTopWidth", _cs, !1, "0px") + " " + _getStyle(t, "borderTopStyle", _cs, !1, "solid") + " " + _getStyle(t, "borderTopColor", _cs, !1, "#000")), this.format(e), pt, plugin)
      },
      color: !0,
      formatter: function (v) {
        var a = v.split(" ");
        return a[0] + " " + (a[1] || "solid") + " " + (v.match(_colorExp) || ["#000"])[0]
      }
    }), _registerComplexSpecialProp("borderWidth", {parser: _getEdgeParser("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}), _registerComplexSpecialProp("float,cssFloat,styleFloat", {
      parser: function (t, e, p, cssp, pt, plugin) {
        var s = t.style, prop = "cssFloat" in s ? "cssFloat" : "styleFloat";
        return new CSSPropTween(s, prop, 0, 0, pt, -1, p, !1, 0, s[prop], e)
      }
    });
    var _setIEOpacityRatio = function (v) {
      var skip, t = this.t, filters = t.filter || _getStyle(this.data, "filter") || "", val = this.s + this.c * v | 0;
      100 === val && (filters.indexOf("atrix(") === -1 && filters.indexOf("radient(") === -1 && filters.indexOf("oader(") === -1 ? (t.removeAttribute("filter"), skip = !_getStyle(this.data, "filter")) : (t.filter = filters.replace(_alphaFilterExp, ""), skip = !0)), skip || (this.xn1 && (t.filter = filters = filters || "alpha(opacity=" + val + ")"), filters.indexOf("pacity") === -1 ? 0 === val && this.xn1 || (t.filter = filters + " alpha(opacity=" + val + ")") : t.filter = filters.replace(_opacityExp, "opacity=" + val))
    };
    _registerComplexSpecialProp("opacity,alpha,autoAlpha", {
      defaultValue: "1",
      parser: function (t, e, p, cssp, pt, plugin) {
        var b = parseFloat(_getStyle(t, "opacity", _cs, !1, "1")), style = t.style, isAutoAlpha = "autoAlpha" === p;
        return "string" == typeof e && "=" === e.charAt(1) && (e = ("-" === e.charAt(0) ? -1 : 1) * parseFloat(e.substr(2)) + b), isAutoAlpha && 1 === b && "hidden" === _getStyle(t, "visibility", _cs) && 0 !== e && (b = 0), _supportsOpacity ? pt = new CSSPropTween(style, "opacity", b, e - b, pt) : (pt = new CSSPropTween(style, "opacity", 100 * b, 100 * (e - b), pt), pt.xn1 = isAutoAlpha ? 1 : 0, style.zoom = 1, pt.type = 2, pt.b = "alpha(opacity=" + pt.s + ")", pt.e = "alpha(opacity=" + (pt.s + pt.c) + ")", pt.data = t, pt.plugin = plugin, pt.setRatio = _setIEOpacityRatio), isAutoAlpha && (pt = new CSSPropTween(style, "visibility", 0, 0, pt, -1, null, !1, 0, 0 !== b ? "inherit" : "hidden", 0 === e ? "hidden" : "inherit"), pt.xs0 = "inherit", cssp._overwriteProps.push(pt.n), cssp._overwriteProps.push(p)), pt
      }
    });
    var _removeProp = function (s, p) {
      p && (s.removeProperty ? ("ms" !== p.substr(0, 2) && "webkit" !== p.substr(0, 6) || (p = "-" + p), s.removeProperty(p.replace(_capsExp, "-$1").toLowerCase())) : s.removeAttribute(p))
    }, _setClassNameRatio = function (v) {
      if (this.t._gsClassPT = this, 1 === v || 0 === v) {
        this.t.setAttribute("class", 0 === v ? this.b : this.e);
        for (var mpt = this.data, s = this.t.style; mpt;) mpt.v ? s[mpt.p] = mpt.v : _removeProp(s, mpt.p), mpt = mpt._next;
        1 === v && this.t._gsClassPT === this && (this.t._gsClassPT = null)
      } else this.t.getAttribute("class") !== this.e && this.t.setAttribute("class", this.e)
    };
    _registerComplexSpecialProp("className", {
      parser: function (t, e, p, cssp, pt, plugin, vars) {
        var difData, bs, cnpt, cnptLookup, mpt, b = t.getAttribute("class") || "", cssText = t.style.cssText;
        if (pt = cssp._classNamePT = new CSSPropTween(t, p, 0, 0, pt, 2), pt.setRatio = _setClassNameRatio, pt.pr = -11, _hasPriority = !0, pt.b = b, bs = _getAllStyles(t, _cs), cnpt = t._gsClassPT) {
          for (cnptLookup = {}, mpt = cnpt.data; mpt;) cnptLookup[mpt.p] = 1, mpt = mpt._next;
          cnpt.setRatio(1)
        }
        return t._gsClassPT = pt, pt.e = "=" !== e.charAt(1) ? e : b.replace(new RegExp("\\s*\\b" + e.substr(2) + "\\b"), "") + ("+" === e.charAt(0) ? " " + e.substr(2) : ""), t.setAttribute("class", pt.e), difData = _cssDif(t, bs, _getAllStyles(t), vars, cnptLookup), t.setAttribute("class", b), pt.data = difData.firstMPT, t.style.cssText = cssText, pt = pt.xfirst = cssp.parse(t, difData.difs, pt, plugin)
      }
    });
    var _setClearPropsRatio = function (v) {
      if ((1 === v || 0 === v) && this.data._totalTime === this.data._totalDuration && "isFromStart" !== this.data.data) {
        var a, p, i, clearTransform, transform, s = this.t.style, transformParse = _specialProps.transform.parse;
        if ("all" === this.e) s.cssText = "", clearTransform = !0; else for (a = this.e.split(" ").join("").split(","), i = a.length; --i > -1;) p = a[i], _specialProps[p] && (_specialProps[p].parse === transformParse ? clearTransform = !0 : p = "transformOrigin" === p ? _transformOriginProp : _specialProps[p].p), _removeProp(s, p);
        clearTransform && (_removeProp(s, _transformProp), transform = this.t._gsTransform, transform && (transform.svg && this.t.removeAttribute("data-svg-origin"), delete this.t._gsTransform))
      }
    };
    for (_registerComplexSpecialProp("clearProps", {
      parser: function (t, e, p, cssp, pt) {
        return pt = new CSSPropTween(t, p, 0, 0, pt, 2), pt.setRatio = _setClearPropsRatio, pt.e = e, pt.pr = -10, pt.data = cssp._tween, _hasPriority = !0, pt
      }
    }), p = "bezier,throwProps,physicsProps,physics2D".split(","), i = p.length; i--;) _registerPluginProp(p[i]);
    p = CSSPlugin.prototype, p._firstPT = p._lastParsedTransform = p._transform = null, p._onInitTween = function (target, vars, tween) {
      if (!target.nodeType) return !1;
      this._target = target, this._tween = tween, this._vars = vars, _autoRound = vars.autoRound, _hasPriority = !1, _suffixMap = vars.suffixMap || CSSPlugin.suffixMap, _cs = _getComputedStyle(target, ""), _overwriteProps = this._overwriteProps;
      var v, pt, pt2, first, last, next, zIndex, tpt, threeD, style = target.style;
      if (_reqSafariFix && "" === style.zIndex && (v = _getStyle(target, "zIndex", _cs), "auto" !== v && "" !== v || this._addLazySet(style, "zIndex", 0)), "string" == typeof vars && (first = style.cssText, v = _getAllStyles(target, _cs), style.cssText = first + ";" + vars, v = _cssDif(target, v, _getAllStyles(target)).difs, !_supportsOpacity && _opacityValExp.test(vars) && (v.opacity = parseFloat(RegExp.$1)), vars = v, style.cssText = first), vars.className ? this._firstPT = pt = _specialProps.className.parse(target, vars.className, "className", this, null, null, vars) : this._firstPT = pt = this.parse(target, vars, null), this._transformType) {
        for (threeD = 3 === this._transformType, _transformProp ? _isSafari && (_reqSafariFix = !0, "" === style.zIndex && (zIndex = _getStyle(target, "zIndex", _cs), "auto" !== zIndex && "" !== zIndex || this._addLazySet(style, "zIndex", 0)), _isSafariLT6 && this._addLazySet(style, "WebkitBackfaceVisibility", this._vars.WebkitBackfaceVisibility || (threeD ? "visible" : "hidden"))) : style.zoom = 1, pt2 = pt; pt2 && pt2._next;) pt2 = pt2._next;
        tpt = new CSSPropTween(target, "transform", 0, 0, null, 2), this._linkCSSP(tpt, null, pt2), tpt.setRatio = _transformProp ? _setTransformRatio : _setIETransformRatio, tpt.data = this._transform || _getTransform(target, _cs, !0), tpt.tween = tween, tpt.pr = -1, _overwriteProps.pop()
      }
      if (_hasPriority) {
        for (; pt;) {
          for (next = pt._next, pt2 = first; pt2 && pt2.pr > pt.pr;) pt2 = pt2._next;
          (pt._prev = pt2 ? pt2._prev : last) ? pt._prev._next = pt : first = pt, (pt._next = pt2) ? pt2._prev = pt : last = pt, pt = next
        }
        this._firstPT = first
      }
      return !0
    }, p.parse = function (target, vars, pt, plugin) {
      var p, sp, bn, en, bs, es, bsfx, esfx, isStr, rel, style = target.style;
      for (p in vars) es = vars[p], sp = _specialProps[p], sp ? pt = sp.parse(target, es, p, this, pt, plugin, vars) : (bs = _getStyle(target, p, _cs) + "", isStr = "string" == typeof es, "color" === p || "fill" === p || "stroke" === p || p.indexOf("Color") !== -1 || isStr && _rgbhslExp.test(es) ? (isStr || (es = _parseColor(es), es = (es.length > 3 ? "rgba(" : "rgb(") + es.join(",") + ")"), pt = _parseComplex(style, p, bs, es, !0, "transparent", pt, 0, plugin)) : !isStr || es.indexOf(" ") === -1 && es.indexOf(",") === -1 ? (bn = parseFloat(bs), bsfx = bn || 0 === bn ? bs.substr((bn + "").length) : "", "" !== bs && "auto" !== bs || ("width" === p || "height" === p ? (bn = _getDimension(target, p, _cs), bsfx = "px") : "left" === p || "top" === p ? (bn = _calculateOffset(target, p, _cs), bsfx = "px") : (bn = "opacity" !== p ? 0 : 1, bsfx = "")), rel = isStr && "=" === es.charAt(1), rel ? (en = parseInt(es.charAt(0) + "1", 10), es = es.substr(2), en *= parseFloat(es), esfx = es.replace(_suffixExp, "")) : (en = parseFloat(es), esfx = isStr ? es.replace(_suffixExp, "") : ""), "" === esfx && (esfx = p in _suffixMap ? _suffixMap[p] : bsfx), es = en || 0 === en ? (rel ? en + bn : en) + esfx : vars[p], bsfx !== esfx && "" !== esfx && (en || 0 === en) && bn && (bn = _convertToPixels(target, p, bn, bsfx), "%" === esfx ? (bn /= _convertToPixels(target, p, 100, "%") / 100, vars.strictUnits !== !0 && (bs = bn + "%")) : "em" === esfx ? bn /= _convertToPixels(target, p, 1, "em") : "px" !== esfx && (en = _convertToPixels(target, p, en, esfx), esfx = "px"), rel && (en || 0 === en) && (es = en + bn + esfx)), rel && (en += bn), !bn && 0 !== bn || !en && 0 !== en ? void 0 !== style[p] && (es || es + "" != "NaN" && null != es) ? (pt = new CSSPropTween(style, p, en || bn || 0, 0, pt, -1, p, !1, 0, bs, es), pt.xs0 = "none" !== es || "display" !== p && p.indexOf("Style") === -1 ? es : bs) : _log("invalid " + p + " tween value: " + vars[p]) : (pt = new CSSPropTween(style, p, bn, en - bn, pt, 0, p, _autoRound !== !1 && ("px" === esfx || "zIndex" === p), 0, bs, es), pt.xs0 = esfx)) : pt = _parseComplex(style, p, bs, es, !0, null, pt, 0, plugin)), plugin && pt && !pt.plugin && (pt.plugin = plugin);
      return pt
    }, p.setRatio = function (v) {
      var val, str, i, pt = this._firstPT, min = 1e-6;
      if (1 !== v || this._tween._time !== this._tween._duration && 0 !== this._tween._time) if (v || this._tween._time !== this._tween._duration && 0 !== this._tween._time || this._tween._rawPrevTime === -1e-6) for (; pt;) {
        if (val = pt.c * v + pt.s, pt.r ? val = Math.round(val) : val < min && val > -min && (val = 0), pt.type) if (1 === pt.type) if (i = pt.l, 2 === i) pt.t[pt.p] = pt.xs0 + val + pt.xs1 + pt.xn1 + pt.xs2; else if (3 === i) pt.t[pt.p] = pt.xs0 + val + pt.xs1 + pt.xn1 + pt.xs2 + pt.xn2 + pt.xs3; else if (4 === i) pt.t[pt.p] = pt.xs0 + val + pt.xs1 + pt.xn1 + pt.xs2 + pt.xn2 + pt.xs3 + pt.xn3 + pt.xs4; else if (5 === i) pt.t[pt.p] = pt.xs0 + val + pt.xs1 + pt.xn1 + pt.xs2 + pt.xn2 + pt.xs3 + pt.xn3 + pt.xs4 + pt.xn4 + pt.xs5; else {
          for (str = pt.xs0 + val + pt.xs1, i = 1; i < pt.l; i++) str += pt["xn" + i] + pt["xs" + (i + 1)];
          pt.t[pt.p] = str
        } else pt.type === -1 ? pt.t[pt.p] = pt.xs0 : pt.setRatio && pt.setRatio(v); else pt.t[pt.p] = val + pt.xs0;
        pt = pt._next
      } else for (; pt;) 2 !== pt.type ? pt.t[pt.p] = pt.b : pt.setRatio(v), pt = pt._next; else for (; pt;) {
        if (2 !== pt.type) if (pt.r && pt.type !== -1) if (val = Math.round(pt.s + pt.c), pt.type) {
          if (1 === pt.type) {
            for (i = pt.l, str = pt.xs0 + val + pt.xs1, i = 1; i < pt.l; i++) str += pt["xn" + i] + pt["xs" + (i + 1)];
            pt.t[pt.p] = str
          }
        } else pt.t[pt.p] = val + pt.xs0; else pt.t[pt.p] = pt.e; else pt.setRatio(v);
        pt = pt._next
      }
    }, p._enableTransforms = function (threeD) {
      this._transform = this._transform || _getTransform(this._target, _cs, !0), this._transformType = this._transform.svg && _useSVGTransformAttr || !threeD && 3 !== this._transformType ? 2 : 3
    };
    var lazySet = function (v) {
      this.t[this.p] = this.e, this.data._linkCSSP(this, this._next, null, !0)
    };
    p._addLazySet = function (t, p, v) {
      var pt = this._firstPT = new CSSPropTween(t, p, 0, 0, this._firstPT, 2);
      pt.e = v, pt.setRatio = lazySet, pt.data = this
    }, p._linkCSSP = function (pt, next, prev, remove) {
      return pt && (next && (next._prev = pt), pt._next && (pt._next._prev = pt._prev), pt._prev ? pt._prev._next = pt._next : this._firstPT === pt && (this._firstPT = pt._next, remove = !0), prev ? prev._next = pt : remove || null !== this._firstPT || (this._firstPT = pt), pt._next = next, pt._prev = prev), pt
    }, p._kill = function (lookup) {
      var pt, p, xfirst, copy = lookup;
      if (lookup.autoAlpha || lookup.alpha) {
        copy = {};
        for (p in lookup) copy[p] = lookup[p];
        copy.opacity = 1, copy.autoAlpha && (copy.visibility = 1)
      }
      return lookup.className && (pt = this._classNamePT) && (xfirst = pt.xfirst, xfirst && xfirst._prev ? this._linkCSSP(xfirst._prev, pt._next, xfirst._prev._prev) : xfirst === this._firstPT && (this._firstPT = pt._next), pt._next && this._linkCSSP(pt._next, pt._next._next, xfirst._prev), this._classNamePT = null), TweenPlugin.prototype._kill.call(this, copy)
    };
    var _getChildStyles = function (e, props, targets) {
      var children, i, child, type;
      if (e.slice) for (i = e.length; --i > -1;) _getChildStyles(e[i], props, targets); else for (children = e.childNodes, i = children.length; --i > -1;) child = children[i], type = child.type, child.style && (props.push(_getAllStyles(child)), targets && targets.push(child)), 1 !== type && 9 !== type && 11 !== type || !child.childNodes.length || _getChildStyles(child, props, targets)
    };
    return CSSPlugin.cascadeTo = function (target, duration, vars) {
      var i, difs, p, from, tween = TweenLite.to(target, duration, vars), results = [tween], b = [], e = [],
        targets = [], _reservedProps = TweenLite._internals.reservedProps;
      for (target = tween._targets || tween.target, _getChildStyles(target, b, targets), tween.render(duration, !0, !0), _getChildStyles(target, e), tween.render(0, !0, !0), tween._enabled(!0), i = targets.length; --i > -1;) if (difs = _cssDif(targets[i], b[i], e[i]), difs.firstMPT) {
        difs = difs.difs;
        for (p in vars) _reservedProps[p] && (difs[p] = vars[p]);
        from = {};
        for (p in difs) from[p] = b[i][p];
        results.push(TweenLite.fromTo(targets[i], duration, from, difs))
      }
      return results
    }, TweenPlugin.activate([CSSPlugin]), CSSPlugin
  }, !0), function () {
    var RoundPropsPlugin = _gsScope._gsDefine.plugin({
      propName: "roundProps",
      priority: -1,
      API: 2,
      init: function (target, value, tween) {
        return this._tween = tween, !0
      }
    }), p = RoundPropsPlugin.prototype;
    p._onInitAllProps = function () {
      for (var prop, pt, next, tween = this._tween, rp = tween.vars.roundProps instanceof Array ? tween.vars.roundProps : tween.vars.roundProps.split(","), i = rp.length, lookup = {}, rpt = tween._propLookup.roundProps; --i > -1;) lookup[rp[i]] = 1;
      for (i = rp.length; --i > -1;) for (prop = rp[i], pt = tween._firstPT; pt;) next = pt._next, pt.pg ? pt.t._roundProps(lookup, !0) : pt.n === prop && (this._add(pt.t, prop, pt.s, pt.c), next && (next._prev = pt._prev), pt._prev ? pt._prev._next = next : tween._firstPT === pt && (tween._firstPT = next), pt._next = pt._prev = null, tween._propLookup[prop] = rpt), pt = next;
      return !1
    }, p._add = function (target, p, s, c) {
      this._addTween(target, p, s, s + c, p, !0), this._overwriteProps.push(p)
    }
  }(), function () {
    var _numExp = /(?:\d|\-|\+|=|#|\.)*/g, _suffixExp = /[A-Za-z%]/g;
    _gsScope._gsDefine.plugin({
      propName: "attr", API: 2, version: "0.4.0", init: function (target, value, tween) {
        var p, start, end, suffix, i;
        if ("function" != typeof target.setAttribute) return !1;
        this._target = target, this._proxy = {}, this._start = {}, this._end = {}, this._suffix = {};
        for (p in value) this._start[p] = this._proxy[p] = start = target.getAttribute(p) + "", this._end[p] = end = value[p] + "", this._suffix[p] = suffix = _suffixExp.test(end) ? end.replace(_numExp, "") : _suffixExp.test(start) ? start.replace(_numExp, "") : "", suffix && (i = end.indexOf(suffix), i !== -1 && (end = end.substr(0, i))), this._addTween(this._proxy, p, parseFloat(start), end, p) || (this._suffix[p] = ""), "=" === end.charAt(1) && (this._end[p] = this._firstPT.s + this._firstPT.c + suffix), this._overwriteProps.push(p);
        return !0
      }, set: function (ratio) {
        this._super.setRatio.call(this, ratio);
        for (var p, props = this._overwriteProps, i = props.length, lookup = 1 === ratio ? this._end : ratio ? this._proxy : this._start, useSuffix = lookup === this._proxy; --i > -1;) p = props[i], this._target.setAttribute(p, lookup[p] + (useSuffix ? this._suffix[p] : ""))
      }
    })
  }(), _gsScope._gsDefine.plugin({
    propName: "directionalRotation",
    version: "0.2.1",
    API: 2,
    init: function (target, value, tween) {
      "object" != typeof value && (value = {rotation: value}), this.finals = {};
      var p, v, start, end, dif, split, cap = value.useRadians === !0 ? 2 * Math.PI : 360, min = 1e-6;
      for (p in value) "useRadians" !== p && (split = (value[p] + "").split("_"), v = split[0], start = parseFloat("function" != typeof target[p] ? target[p] : target[p.indexOf("set") || "function" != typeof target["get" + p.substr(3)] ? p : "get" + p.substr(3)]()), end = this.finals[p] = "string" == typeof v && "=" === v.charAt(1) ? start + parseInt(v.charAt(0) + "1", 10) * Number(v.substr(2)) : Number(v) || 0, dif = end - start, split.length && (v = split.join("_"), v.indexOf("short") !== -1 && (dif %= cap, dif !== dif % (cap / 2) && (dif = dif < 0 ? dif + cap : dif - cap)), v.indexOf("_cw") !== -1 && dif < 0 ? dif = (dif + 9999999999 * cap) % cap - (dif / cap | 0) * cap : v.indexOf("ccw") !== -1 && dif > 0 && (dif = (dif - 9999999999 * cap) % cap - (dif / cap | 0) * cap)), (dif > min || dif < -min) && (this._addTween(target, p, start, start + dif, p), this._overwriteProps.push(p)));
      return !0
    },
    set: function (ratio) {
      var pt;
      if (1 !== ratio) this._super.setRatio.call(this, ratio); else for (pt = this._firstPT; pt;) pt.f ? pt.t[pt.p](this.finals[pt.p]) : pt.t[pt.p] = this.finals[pt.p], pt = pt._next
    }
  })._autoCSS = !0, _gsScope._gsDefine("easing.Back", ["easing.Ease"], function (Ease) {
    var SteppedEase, RoughEase, _createElastic, w = _gsScope.GreenSockGlobals || _gsScope, gs = w.com.greensock,
      _2PI = 2 * Math.PI, _HALF_PI = Math.PI / 2, _class = gs._class, _create = function (n, f) {
        var C = _class("easing." + n, function () {
        }, !0), p = C.prototype = new Ease;
        return p.constructor = C, p.getRatio = f, C
      }, _easeReg = Ease.register || function () {
      }, _wrap = function (name, EaseOut, EaseIn, EaseInOut, aliases) {
        var C = _class("easing." + name, {easeOut: new EaseOut, easeIn: new EaseIn, easeInOut: new EaseInOut}, !0);
        return _easeReg(C, name), C
      }, EasePoint = function (time, value, next) {
        this.t = time, this.v = value, next && (this.next = next, next.prev = this, this.c = next.v - value, this.gap = next.t - time)
      }, _createBack = function (n, f) {
        var C = _class("easing." + n, function (overshoot) {
          this._p1 = overshoot || 0 === overshoot ? overshoot : 1.70158, this._p2 = 1.525 * this._p1
        }, !0), p = C.prototype = new Ease;
        return p.constructor = C, p.getRatio = f, p.config = function (overshoot) {
          return new C(overshoot)
        }, C
      }, Back = _wrap("Back", _createBack("BackOut", function (p) {
        return (p -= 1) * p * ((this._p1 + 1) * p + this._p1) + 1
      }), _createBack("BackIn", function (p) {
        return p * p * ((this._p1 + 1) * p - this._p1)
      }), _createBack("BackInOut", function (p) {
        return (p *= 2) < 1 ? .5 * p * p * ((this._p2 + 1) * p - this._p2) : .5 * ((p -= 2) * p * ((this._p2 + 1) * p + this._p2) + 2)
      })), SlowMo = _class("easing.SlowMo", function (linearRatio, power, yoyoMode) {
        power = power || 0 === power ? power : .7, null == linearRatio ? linearRatio = .7 : linearRatio > 1 && (linearRatio = 1), this._p = 1 !== linearRatio ? power : 0, this._p1 = (1 - linearRatio) / 2, this._p2 = linearRatio, this._p3 = this._p1 + this._p2, this._calcEnd = yoyoMode === !0
      }, !0), p = SlowMo.prototype = new Ease;
    return p.constructor = SlowMo, p.getRatio = function (p) {
      var r = p + (.5 - p) * this._p;
      return p < this._p1 ? this._calcEnd ? 1 - (p = 1 - p / this._p1) * p : r - (p = 1 - p / this._p1) * p * p * p * r : p > this._p3 ? this._calcEnd ? 1 - (p = (p - this._p3) / this._p1) * p : r + (p - r) * (p = (p - this._p3) / this._p1) * p * p * p : this._calcEnd ? 1 : r
    }, SlowMo.ease = new SlowMo(.7, .7), p.config = SlowMo.config = function (linearRatio, power, yoyoMode) {
      return new SlowMo(linearRatio, power, yoyoMode)
    }, SteppedEase = _class("easing.SteppedEase", function (steps) {
      steps = steps || 1, this._p1 = 1 / steps, this._p2 = steps + 1
    }, !0), p = SteppedEase.prototype = new Ease, p.constructor = SteppedEase, p.getRatio = function (p) {
      return p < 0 ? p = 0 : p >= 1 && (p = .999999999), (this._p2 * p >> 0) * this._p1
    }, p.config = SteppedEase.config = function (steps) {
      return new SteppedEase(steps)
    }, RoughEase = _class("easing.RoughEase", function (vars) {
      vars = vars || {};
      for (var x, y, bump, invX, obj, pnt, taper = vars.taper || "none", a = [], cnt = 0, points = 0 | (vars.points || 20), i = points, randomize = vars.randomize !== !1, clamp = vars.clamp === !0, template = vars.template instanceof Ease ? vars.template : null, strength = "number" == typeof vars.strength ? .4 * vars.strength : .4; --i > -1;) x = randomize ? Math.random() : 1 / points * i, y = template ? template.getRatio(x) : x, "none" === taper ? bump = strength : "out" === taper ? (invX = 1 - x, bump = invX * invX * strength) : "in" === taper ? bump = x * x * strength : x < .5 ? (invX = 2 * x, bump = invX * invX * .5 * strength) : (invX = 2 * (1 - x), bump = invX * invX * .5 * strength), randomize ? y += Math.random() * bump - .5 * bump : i % 2 ? y += .5 * bump : y -= .5 * bump, clamp && (y > 1 ? y = 1 : y < 0 && (y = 0)), a[cnt++] = {
        x: x,
        y: y
      };
      for (a.sort(function (a, b) {
        return a.x - b.x
      }), pnt = new EasePoint(1, 1, null), i = points; --i > -1;) obj = a[i], pnt = new EasePoint(obj.x, obj.y, pnt);
      this._prev = new EasePoint(0, 0, 0 !== pnt.t ? pnt : pnt.next)
    }, !0), p = RoughEase.prototype = new Ease, p.constructor = RoughEase, p.getRatio = function (p) {
      var pnt = this._prev;
      if (p > pnt.t) {
        for (; pnt.next && p >= pnt.t;) pnt = pnt.next;
        pnt = pnt.prev
      } else for (; pnt.prev && p <= pnt.t;) pnt = pnt.prev;
      return this._prev = pnt, pnt.v + (p - pnt.t) / pnt.gap * pnt.c
    }, p.config = function (vars) {
      return new RoughEase(vars)
    }, RoughEase.ease = new RoughEase, _wrap("Bounce", _create("BounceOut", function (p) {
      return p < 1 / 2.75 ? 7.5625 * p * p : p < 2 / 2.75 ? 7.5625 * (p -= 1.5 / 2.75) * p + .75 : p < 2.5 / 2.75 ? 7.5625 * (p -= 2.25 / 2.75) * p + .9375 : 7.5625 * (p -= 2.625 / 2.75) * p + .984375
    }), _create("BounceIn", function (p) {
      return (p = 1 - p) < 1 / 2.75 ? 1 - 7.5625 * p * p : p < 2 / 2.75 ? 1 - (7.5625 * (p -= 1.5 / 2.75) * p + .75) : p < 2.5 / 2.75 ? 1 - (7.5625 * (p -= 2.25 / 2.75) * p + .9375) : 1 - (7.5625 * (p -= 2.625 / 2.75) * p + .984375)
    }), _create("BounceInOut", function (p) {
      var invert = p < .5;
      return p = invert ? 1 - 2 * p : 2 * p - 1, p < 1 / 2.75 ? p *= 7.5625 * p : p = p < 2 / 2.75 ? 7.5625 * (p -= 1.5 / 2.75) * p + .75 : p < 2.5 / 2.75 ? 7.5625 * (p -= 2.25 / 2.75) * p + .9375 : 7.5625 * (p -= 2.625 / 2.75) * p + .984375, invert ? .5 * (1 - p) : .5 * p + .5
    })), _wrap("Circ", _create("CircOut", function (p) {
      return Math.sqrt(1 - (p -= 1) * p)
    }), _create("CircIn", function (p) {
      return -(Math.sqrt(1 - p * p) - 1)
    }), _create("CircInOut", function (p) {
      return (p *= 2) < 1 ? -.5 * (Math.sqrt(1 - p * p) - 1) : .5 * (Math.sqrt(1 - (p -= 2) * p) + 1)
    })), _createElastic = function (n, f, def) {
      var C = _class("easing." + n, function (amplitude, period) {
        this._p1 = amplitude >= 1 ? amplitude : 1, this._p2 = (period || def) / (amplitude < 1 ? amplitude : 1), this._p3 = this._p2 / _2PI * (Math.asin(1 / this._p1) || 0), this._p2 = _2PI / this._p2
      }, !0), p = C.prototype = new Ease;
      return p.constructor = C, p.getRatio = f, p.config = function (amplitude, period) {
        return new C(amplitude, period)
      }, C
    }, _wrap("Elastic", _createElastic("ElasticOut", function (p) {
      return this._p1 * Math.pow(2, -10 * p) * Math.sin((p - this._p3) * this._p2) + 1
    }, .3), _createElastic("ElasticIn", function (p) {
      return -(this._p1 * Math.pow(2, 10 * (p -= 1)) * Math.sin((p - this._p3) * this._p2))
    }, .3), _createElastic("ElasticInOut", function (p) {
      return (p *= 2) < 1 ? -.5 * (this._p1 * Math.pow(2, 10 * (p -= 1)) * Math.sin((p - this._p3) * this._p2)) : this._p1 * Math.pow(2, -10 * (p -= 1)) * Math.sin((p - this._p3) * this._p2) * .5 + 1
    }, .45)), _wrap("Expo", _create("ExpoOut", function (p) {
      return 1 - Math.pow(2, -10 * p)
    }), _create("ExpoIn", function (p) {
      return Math.pow(2, 10 * (p - 1)) - .001
    }), _create("ExpoInOut", function (p) {
      return (p *= 2) < 1 ? .5 * Math.pow(2, 10 * (p - 1)) : .5 * (2 - Math.pow(2, -10 * (p - 1)))
    })), _wrap("Sine", _create("SineOut", function (p) {
      return Math.sin(p * _HALF_PI)
    }), _create("SineIn", function (p) {
      return -Math.cos(p * _HALF_PI) + 1;
    }), _create("SineInOut", function (p) {
      return -.5 * (Math.cos(Math.PI * p) - 1)
    })), _class("easing.EaseLookup", {
      find: function (s) {
        return Ease.map[s]
      }
    }, !0), _easeReg(w.SlowMo, "SlowMo", "ease,"), _easeReg(RoughEase, "RoughEase", "ease,"), _easeReg(SteppedEase, "SteppedEase", "ease,"), Back
  }, !0)
}), _gsScope._gsDefine && _gsScope._gsQueue.pop()(), function (window, moduleName) {
  "use strict";
  var _globals = window.GreenSockGlobals = window.GreenSockGlobals || window;
  if (!_globals.TweenLite) {
    var a, i, p, _ticker, _tickerActive, _namespace = function (ns) {
      var i, a = ns.split("."), p = _globals;
      for (i = 0; i < a.length; i++) p[a[i]] = p = p[a[i]] || {};
      return p
    }, gs = _namespace("com.greensock"), _tinyNum = 1e-10, _slice = function (a) {
      var i, b = [], l = a.length;
      for (i = 0; i !== l; b.push(a[i++])) ;
      return b
    }, _emptyFunc = function () {
    }, _isArray = function () {
      var toString = Object.prototype.toString, array = toString.call([]);
      return function (obj) {
        return null != obj && (obj instanceof Array || "object" == typeof obj && !!obj.push && toString.call(obj) === array)
      }
    }(), _defLookup = {}, Definition = function (ns, dependencies, func, global) {
      this.sc = _defLookup[ns] ? _defLookup[ns].sc : [], _defLookup[ns] = this, this.gsClass = null, this.func = func;
      var _classes = [];
      this.check = function (init) {
        for (var cur, a, n, cl, i = dependencies.length, missing = i; --i > -1;) (cur = _defLookup[dependencies[i]] || new Definition(dependencies[i], [])).gsClass ? (_classes[i] = cur.gsClass, missing--) : init && cur.sc.push(this);
        if (0 === missing && func) for (a = ("com.greensock." + ns).split("."), n = a.pop(), cl = _namespace(a.join("."))[n] = this.gsClass = func.apply(func, _classes), global && (_globals[n] = cl, "function" == typeof define && define.amd ? define((window.GreenSockAMDPath ? window.GreenSockAMDPath + "/" : "") + ns.split(".").pop(), [], function () {
          return cl
        }) : ns === moduleName && "undefined" != typeof module && module.exports && (module.exports = cl)), i = 0; i < this.sc.length; i++) this.sc[i].check()
      }, this.check(!0)
    }, _gsDefine = window._gsDefine = function (ns, dependencies, func, global) {
      return new Definition(ns, dependencies, func, global)
    }, _class = gs._class = function (ns, func, global) {
      return func = func || function () {
      }, _gsDefine(ns, [], function () {
        return func
      }, global), func
    };
    _gsDefine.globals = _globals;
    var _baseParams = [0, 0, 1, 1], _blankArray = [],
      Ease = _class("easing.Ease", function (func, extraParams, type, power) {
        this._func = func, this._type = type || 0, this._power = power || 0, this._params = extraParams ? _baseParams.concat(extraParams) : _baseParams
      }, !0), _easeMap = Ease.map = {}, _easeReg = Ease.register = function (ease, names, types, create) {
        for (var e, name, j, type, na = names.split(","), i = na.length, ta = (types || "easeIn,easeOut,easeInOut").split(","); --i > -1;) for (name = na[i], e = create ? _class("easing." + name, null, !0) : gs.easing[name] || {}, j = ta.length; --j > -1;) type = ta[j], _easeMap[name + "." + type] = _easeMap[type + name] = e[type] = ease.getRatio ? ease : ease[type] || new ease
      };
    for (p = Ease.prototype, p._calcEnd = !1, p.getRatio = function (p) {
      if (this._func) return this._params[0] = p, this._func.apply(null, this._params);
      var t = this._type, pw = this._power, r = 1 === t ? 1 - p : 2 === t ? p : p < .5 ? 2 * p : 2 * (1 - p);
      return 1 === pw ? r *= r : 2 === pw ? r *= r * r : 3 === pw ? r *= r * r * r : 4 === pw && (r *= r * r * r * r), 1 === t ? 1 - r : 2 === t ? r : p < .5 ? r / 2 : 1 - r / 2
    }, a = ["Linear", "Quad", "Cubic", "Quart", "Quint,Strong"], i = a.length; --i > -1;) p = a[i] + ",Power" + i, _easeReg(new Ease(null, null, 1, i), p, "easeOut", !0), _easeReg(new Ease(null, null, 2, i), p, "easeIn" + (0 === i ? ",easeNone" : "")), _easeReg(new Ease(null, null, 3, i), p, "easeInOut");
    _easeMap.linear = gs.easing.Linear.easeIn, _easeMap.swing = gs.easing.Quad.easeInOut;
    var EventDispatcher = _class("events.EventDispatcher", function (target) {
      this._listeners = {}, this._eventTarget = target || this
    });
    p = EventDispatcher.prototype, p.addEventListener = function (type, callback, scope, useParam, priority) {
      priority = priority || 0;
      var listener, i, list = this._listeners[type], index = 0;
      for (null == list && (this._listeners[type] = list = []), i = list.length; --i > -1;) listener = list[i], listener.c === callback && listener.s === scope ? list.splice(i, 1) : 0 === index && listener.pr < priority && (index = i + 1);
      list.splice(index, 0, {
        c: callback,
        s: scope,
        up: useParam,
        pr: priority
      }), this !== _ticker || _tickerActive || _ticker.wake()
    }, p.removeEventListener = function (type, callback) {
      var i, list = this._listeners[type];
      if (list) for (i = list.length; --i > -1;) if (list[i].c === callback) return void list.splice(i, 1)
    }, p.dispatchEvent = function (type) {
      var i, t, listener, list = this._listeners[type];
      if (list) for (i = list.length, t = this._eventTarget; --i > -1;) listener = list[i], listener && (listener.up ? listener.c.call(listener.s || t, {
        type: type,
        target: t
      }) : listener.c.call(listener.s || t))
    };
    var _reqAnimFrame = window.requestAnimationFrame, _cancelAnimFrame = window.cancelAnimationFrame,
      _getTime = Date.now || function () {
        return (new Date).getTime()
      }, _lastUpdate = _getTime();
    for (a = ["ms", "moz", "webkit", "o"], i = a.length; --i > -1 && !_reqAnimFrame;) _reqAnimFrame = window[a[i] + "RequestAnimationFrame"], _cancelAnimFrame = window[a[i] + "CancelAnimationFrame"] || window[a[i] + "CancelRequestAnimationFrame"];
    _class("Ticker", function (fps, useRAF) {
      var _fps, _req, _id, _gap, _nextTime, _self = this, _startTime = _getTime(),
        _useRAF = useRAF !== !1 && _reqAnimFrame, _lagThreshold = 500, _adjustedLag = 33, _tickWord = "tick",
        _tick = function (manual) {
          var overlap, dispatch, elapsed = _getTime() - _lastUpdate;
          elapsed > _lagThreshold && (_startTime += elapsed - _adjustedLag), _lastUpdate += elapsed, _self.time = (_lastUpdate - _startTime) / 1e3, overlap = _self.time - _nextTime, (!_fps || overlap > 0 || manual === !0) && (_self.frame++, _nextTime += overlap + (overlap >= _gap ? .004 : _gap - overlap), dispatch = !0), manual !== !0 && (_id = _req(_tick)), dispatch && _self.dispatchEvent(_tickWord)
        };
      EventDispatcher.call(_self), _self.time = _self.frame = 0, _self.tick = function () {
        _tick(!0)
      }, _self.lagSmoothing = function (threshold, adjustedLag) {
        _lagThreshold = threshold || 1 / _tinyNum, _adjustedLag = Math.min(adjustedLag, _lagThreshold, 0)
      }, _self.sleep = function () {
        null != _id && (_useRAF && _cancelAnimFrame ? _cancelAnimFrame(_id) : clearTimeout(_id), _req = _emptyFunc, _id = null, _self === _ticker && (_tickerActive = !1))
      }, _self.wake = function () {
        null !== _id ? _self.sleep() : _self.frame > 10 && (_lastUpdate = _getTime() - _lagThreshold + 5), _req = 0 === _fps ? _emptyFunc : _useRAF && _reqAnimFrame ? _reqAnimFrame : function (f) {
          return setTimeout(f, 1e3 * (_nextTime - _self.time) + 1 | 0)
        }, _self === _ticker && (_tickerActive = !0), _tick(2)
      }, _self.fps = function (value) {
        return arguments.length ? (_fps = value, _gap = 1 / (_fps || 60), _nextTime = this.time + _gap, void _self.wake()) : _fps
      }, _self.useRAF = function (value) {
        return arguments.length ? (_self.sleep(), _useRAF = value, void _self.fps(_fps)) : _useRAF
      }, _self.fps(fps), setTimeout(function () {
        _useRAF && _self.frame < 5 && _self.useRAF(!1)
      }, 1500)
    }), p = gs.Ticker.prototype = new gs.events.EventDispatcher, p.constructor = gs.Ticker;
    var Animation = _class("core.Animation", function (duration, vars) {
      if (this.vars = vars = vars || {}, this._duration = this._totalDuration = duration || 0, this._delay = Number(vars.delay) || 0, this._timeScale = 1, this._active = vars.immediateRender === !0, this.data = vars.data, this._reversed = vars.reversed === !0, _rootTimeline) {
        _tickerActive || _ticker.wake();
        var tl = this.vars.useFrames ? _rootFramesTimeline : _rootTimeline;
        tl.add(this, tl._time), this.vars.paused && this.paused(!0)
      }
    });
    _ticker = Animation.ticker = new gs.Ticker, p = Animation.prototype, p._dirty = p._gc = p._initted = p._paused = !1, p._totalTime = p._time = 0, p._rawPrevTime = -1, p._next = p._last = p._onUpdate = p._timeline = p.timeline = null, p._paused = !1;
    var _checkTimeout = function () {
      _tickerActive && _getTime() - _lastUpdate > 2e3 && _ticker.wake(), setTimeout(_checkTimeout, 2e3)
    };
    _checkTimeout(), p.play = function (from, suppressEvents) {
      return null != from && this.seek(from, suppressEvents), this.reversed(!1).paused(!1)
    }, p.pause = function (atTime, suppressEvents) {
      return null != atTime && this.seek(atTime, suppressEvents), this.paused(!0)
    }, p.resume = function (from, suppressEvents) {
      return null != from && this.seek(from, suppressEvents), this.paused(!1)
    }, p.seek = function (time, suppressEvents) {
      return this.totalTime(Number(time), suppressEvents !== !1)
    }, p.restart = function (includeDelay, suppressEvents) {
      return this.reversed(!1).paused(!1).totalTime(includeDelay ? -this._delay : 0, suppressEvents !== !1, !0)
    }, p.reverse = function (from, suppressEvents) {
      return null != from && this.seek(from || this.totalDuration(), suppressEvents), this.reversed(!0).paused(!1)
    }, p.render = function (time, suppressEvents, force) {
    }, p.invalidate = function () {
      return this._time = this._totalTime = 0, this._initted = this._gc = !1, this._rawPrevTime = -1, !this._gc && this.timeline || this._enabled(!0), this
    }, p.isActive = function () {
      var rawTime, tl = this._timeline, startTime = this._startTime;
      return !tl || !this._gc && !this._paused && tl.isActive() && (rawTime = tl.rawTime()) >= startTime && rawTime < startTime + this.totalDuration() / this._timeScale
    }, p._enabled = function (enabled, ignoreTimeline) {
      return _tickerActive || _ticker.wake(), this._gc = !enabled, this._active = this.isActive(), ignoreTimeline !== !0 && (enabled && !this.timeline ? this._timeline.add(this, this._startTime - this._delay) : !enabled && this.timeline && this._timeline._remove(this, !0)), !1
    }, p._kill = function (vars, target) {
      return this._enabled(!1, !1)
    }, p.kill = function (vars, target) {
      return this._kill(vars, target), this
    }, p._uncache = function (includeSelf) {
      for (var tween = includeSelf ? this : this.timeline; tween;) tween._dirty = !0, tween = tween.timeline;
      return this
    }, p._swapSelfInParams = function (params) {
      for (var i = params.length, copy = params.concat(); --i > -1;) "{self}" === params[i] && (copy[i] = this);
      return copy
    }, p._callback = function (type) {
      var v = this.vars;
      v[type].apply(v[type + "Scope"] || v.callbackScope || this, v[type + "Params"] || _blankArray)
    }, p.eventCallback = function (type, callback, params, scope) {
      if ("on" === (type || "").substr(0, 2)) {
        var v = this.vars;
        if (1 === arguments.length) return v[type];
        null == callback ? delete v[type] : (v[type] = callback, v[type + "Params"] = _isArray(params) && params.join("").indexOf("{self}") !== -1 ? this._swapSelfInParams(params) : params, v[type + "Scope"] = scope), "onUpdate" === type && (this._onUpdate = callback)
      }
      return this
    }, p.delay = function (value) {
      return arguments.length ? (this._timeline.smoothChildTiming && this.startTime(this._startTime + value - this._delay), this._delay = value, this) : this._delay
    }, p.duration = function (value) {
      return arguments.length ? (this._duration = this._totalDuration = value, this._uncache(!0), this._timeline.smoothChildTiming && this._time > 0 && this._time < this._duration && 0 !== value && this.totalTime(this._totalTime * (value / this._duration), !0), this) : (this._dirty = !1, this._duration)
    }, p.totalDuration = function (value) {
      return this._dirty = !1, arguments.length ? this.duration(value) : this._totalDuration
    }, p.time = function (value, suppressEvents) {
      return arguments.length ? (this._dirty && this.totalDuration(), this.totalTime(value > this._duration ? this._duration : value, suppressEvents)) : this._time
    }, p.totalTime = function (time, suppressEvents, uncapped) {
      if (_tickerActive || _ticker.wake(), !arguments.length) return this._totalTime;
      if (this._timeline) {
        if (time < 0 && !uncapped && (time += this.totalDuration()), this._timeline.smoothChildTiming) {
          this._dirty && this.totalDuration();
          var totalDuration = this._totalDuration, tl = this._timeline;
          if (time > totalDuration && !uncapped && (time = totalDuration), this._startTime = (this._paused ? this._pauseTime : tl._time) - (this._reversed ? totalDuration - time : time) / this._timeScale, tl._dirty || this._uncache(!1), tl._timeline) for (; tl._timeline;) tl._timeline._time !== (tl._startTime + tl._totalTime) / tl._timeScale && tl.totalTime(tl._totalTime, !0), tl = tl._timeline
        }
        this._gc && this._enabled(!0, !1), this._totalTime === time && 0 !== this._duration || (this.render(time, suppressEvents, !1), _lazyTweens.length && _lazyRender())
      }
      return this
    }, p.progress = p.totalProgress = function (value, suppressEvents) {
      return arguments.length ? this.totalTime(this.duration() * value, suppressEvents) : this._time / this.duration()
    }, p.startTime = function (value) {
      return arguments.length ? (value !== this._startTime && (this._startTime = value, this.timeline && this.timeline._sortChildren && this.timeline.add(this, value - this._delay)), this) : this._startTime
    }, p.endTime = function (includeRepeats) {
      return this._startTime + (0 != includeRepeats ? this.totalDuration() : this.duration()) / this._timeScale
    }, p.timeScale = function (value) {
      if (!arguments.length) return this._timeScale;
      if (value = value || _tinyNum, this._timeline && this._timeline.smoothChildTiming) {
        var pauseTime = this._pauseTime, t = pauseTime || 0 === pauseTime ? pauseTime : this._timeline.totalTime();
        this._startTime = t - (t - this._startTime) * this._timeScale / value
      }
      return this._timeScale = value, this._uncache(!1)
    }, p.reversed = function (value) {
      return arguments.length ? (value != this._reversed && (this._reversed = value, this.totalTime(this._timeline && !this._timeline.smoothChildTiming ? this.totalDuration() - this._totalTime : this._totalTime, !0)), this) : this._reversed
    }, p.paused = function (value) {
      if (!arguments.length) return this._paused;
      var raw, elapsed, tl = this._timeline;
      return value != this._paused && tl && (_tickerActive || value || _ticker.wake(), raw = tl.rawTime(), elapsed = raw - this._pauseTime, !value && tl.smoothChildTiming && (this._startTime += elapsed, this._uncache(!1)), this._pauseTime = value ? raw : null, this._paused = value, this._active = this.isActive(), !value && 0 !== elapsed && this._initted && this.duration() && this.render(tl.smoothChildTiming ? this._totalTime : (raw - this._startTime) / this._timeScale, !0, !0)), this._gc && !value && this._enabled(!0, !1), this
    };
    var SimpleTimeline = _class("core.SimpleTimeline", function (vars) {
      Animation.call(this, 0, vars), this.autoRemoveChildren = this.smoothChildTiming = !0
    });
    p = SimpleTimeline.prototype = new Animation, p.constructor = SimpleTimeline, p.kill()._gc = !1, p._first = p._last = p._recent = null, p._sortChildren = !1, p.add = p.insert = function (child, position, align, stagger) {
      var prevTween, st;
      if (child._startTime = Number(position || 0) + child._delay, child._paused && this !== child._timeline && (child._pauseTime = child._startTime + (this.rawTime() - child._startTime) / child._timeScale), child.timeline && child.timeline._remove(child, !0), child.timeline = child._timeline = this, child._gc && child._enabled(!0, !0), prevTween = this._last, this._sortChildren) for (st = child._startTime; prevTween && prevTween._startTime > st;) prevTween = prevTween._prev;
      return prevTween ? (child._next = prevTween._next, prevTween._next = child) : (child._next = this._first, this._first = child), child._next ? child._next._prev = child : this._last = child, child._prev = prevTween, this._recent = child, this._timeline && this._uncache(!0), this
    }, p._remove = function (tween, skipDisable) {
      return tween.timeline === this && (skipDisable || tween._enabled(!1, !0), tween._prev ? tween._prev._next = tween._next : this._first === tween && (this._first = tween._next), tween._next ? tween._next._prev = tween._prev : this._last === tween && (this._last = tween._prev), tween._next = tween._prev = tween.timeline = null, tween === this._recent && (this._recent = this._last), this._timeline && this._uncache(!0)), this
    }, p.render = function (time, suppressEvents, force) {
      var next, tween = this._first;
      for (this._totalTime = this._time = this._rawPrevTime = time; tween;) next = tween._next, (tween._active || time >= tween._startTime && !tween._paused) && (tween._reversed ? tween.render((tween._dirty ? tween.totalDuration() : tween._totalDuration) - (time - tween._startTime) * tween._timeScale, suppressEvents, force) : tween.render((time - tween._startTime) * tween._timeScale, suppressEvents, force)), tween = next
    }, p.rawTime = function () {
      return _tickerActive || _ticker.wake(), this._totalTime
    };
    var TweenLite = _class("TweenLite", function (target, duration, vars) {
      if (Animation.call(this, duration, vars), this.render = TweenLite.prototype.render, null == target) throw"Cannot tween a null target.";
      this.target = target = "string" != typeof target ? target : TweenLite.selector(target) || target;
      var i, targ, targets,
        isSelector = target.jquery || target.length && target !== window && target[0] && (target[0] === window || target[0].nodeType && target[0].style && !target.nodeType),
        overwrite = this.vars.overwrite;
      if (this._overwrite = overwrite = null == overwrite ? _overwriteLookup[TweenLite.defaultOverwrite] : "number" == typeof overwrite ? overwrite >> 0 : _overwriteLookup[overwrite], (isSelector || target instanceof Array || target.push && _isArray(target)) && "number" != typeof target[0]) for (this._targets = targets = _slice(target), this._propLookup = [], this._siblings = [], i = 0; i < targets.length; i++) targ = targets[i], targ ? "string" != typeof targ ? targ.length && targ !== window && targ[0] && (targ[0] === window || targ[0].nodeType && targ[0].style && !targ.nodeType) ? (targets.splice(i--, 1), this._targets = targets = targets.concat(_slice(targ))) : (this._siblings[i] = _register(targ, this, !1), 1 === overwrite && this._siblings[i].length > 1 && _applyOverwrite(targ, this, null, 1, this._siblings[i])) : (targ = targets[i--] = TweenLite.selector(targ), "string" == typeof targ && targets.splice(i + 1, 1)) : targets.splice(i--, 1); else this._propLookup = {}, this._siblings = _register(target, this, !1), 1 === overwrite && this._siblings.length > 1 && _applyOverwrite(target, this, null, 1, this._siblings);
      (this.vars.immediateRender || 0 === duration && 0 === this._delay && this.vars.immediateRender !== !1) && (this._time = -_tinyNum, this.render(-this._delay))
    }, !0), _isSelector = function (v) {
      return v && v.length && v !== window && v[0] && (v[0] === window || v[0].nodeType && v[0].style && !v.nodeType)
    }, _autoCSS = function (vars, target) {
      var p, css = {};
      for (p in vars) _reservedProps[p] || p in target && "transform" !== p && "x" !== p && "y" !== p && "width" !== p && "height" !== p && "className" !== p && "border" !== p || !(!_plugins[p] || _plugins[p] && _plugins[p]._autoCSS) || (css[p] = vars[p], delete vars[p]);
      vars.css = css
    };
    p = TweenLite.prototype = new Animation, p.constructor = TweenLite, p.kill()._gc = !1, p.ratio = 0, p._firstPT = p._targets = p._overwrittenProps = p._startAt = null, p._notifyPluginsOfEnabled = p._lazy = !1, TweenLite.version = "1.17.0", TweenLite.defaultEase = p._ease = new Ease(null, null, 1, 1), TweenLite.defaultOverwrite = "auto", TweenLite.ticker = _ticker, TweenLite.autoSleep = 120, TweenLite.lagSmoothing = function (threshold, adjustedLag) {
      _ticker.lagSmoothing(threshold, adjustedLag)
    }, TweenLite.selector = window.$ || window.jQuery || function (e) {
      var selector = window.$ || window.jQuery;
      return selector ? (TweenLite.selector = selector, selector(e)) : "undefined" == typeof document ? e : document.querySelectorAll ? document.querySelectorAll(e) : document.getElementById("#" === e.charAt(0) ? e.substr(1) : e)
    };
    var _lazyTweens = [], _lazyLookup = {},
      _internals = TweenLite._internals = {isArray: _isArray, isSelector: _isSelector, lazyTweens: _lazyTweens},
      _plugins = TweenLite._plugins = {}, _tweenLookup = _internals.tweenLookup = {}, _tweenLookupNum = 0,
      _reservedProps = _internals.reservedProps = {
        ease: 1,
        delay: 1,
        overwrite: 1,
        onComplete: 1,
        onCompleteParams: 1,
        onCompleteScope: 1,
        useFrames: 1,
        runBackwards: 1,
        startAt: 1,
        onUpdate: 1,
        onUpdateParams: 1,
        onUpdateScope: 1,
        onStart: 1,
        onStartParams: 1,
        onStartScope: 1,
        onReverseComplete: 1,
        onReverseCompleteParams: 1,
        onReverseCompleteScope: 1,
        onRepeat: 1,
        onRepeatParams: 1,
        onRepeatScope: 1,
        easeParams: 1,
        yoyo: 1,
        immediateRender: 1,
        repeat: 1,
        repeatDelay: 1,
        data: 1,
        paused: 1,
        reversed: 1,
        autoCSS: 1,
        lazy: 1,
        onOverwrite: 1,
        callbackScope: 1
      }, _overwriteLookup = {none: 0, all: 1, auto: 2, concurrent: 3, allOnStart: 4, preexisting: 5, true: 1, false: 0},
      _rootFramesTimeline = Animation._rootFramesTimeline = new SimpleTimeline,
      _rootTimeline = Animation._rootTimeline = new SimpleTimeline, _nextGCFrame = 30,
      _lazyRender = _internals.lazyRender = function () {
        var tween, i = _lazyTweens.length;
        for (_lazyLookup = {}; --i > -1;) tween = _lazyTweens[i], tween && tween._lazy !== !1 && (tween.render(tween._lazy[0], tween._lazy[1], !0), tween._lazy = !1);
        _lazyTweens.length = 0
      };
    _rootTimeline._startTime = _ticker.time, _rootFramesTimeline._startTime = _ticker.frame, _rootTimeline._active = _rootFramesTimeline._active = !0, setTimeout(_lazyRender, 1), Animation._updateRoot = TweenLite.render = function () {
      var i, a, p;
      if (_lazyTweens.length && _lazyRender(), _rootTimeline.render((_ticker.time - _rootTimeline._startTime) * _rootTimeline._timeScale, !1, !1), _rootFramesTimeline.render((_ticker.frame - _rootFramesTimeline._startTime) * _rootFramesTimeline._timeScale, !1, !1), _lazyTweens.length && _lazyRender(), _ticker.frame >= _nextGCFrame) {
        _nextGCFrame = _ticker.frame + (parseInt(TweenLite.autoSleep, 10) || 120);
        for (p in _tweenLookup) {
          for (a = _tweenLookup[p].tweens, i = a.length; --i > -1;) a[i]._gc && a.splice(i, 1);
          0 === a.length && delete _tweenLookup[p]
        }
        if (p = _rootTimeline._first, (!p || p._paused) && TweenLite.autoSleep && !_rootFramesTimeline._first && 1 === _ticker._listeners.tick.length) {
          for (; p && p._paused;) p = p._next;
          p || _ticker.sleep()
        }
      }
    }, _ticker.addEventListener("tick", Animation._updateRoot);
    var _register = function (target, tween, scrub) {
      var a, i, id = target._gsTweenID;
      if (_tweenLookup[id || (target._gsTweenID = id = "t" + _tweenLookupNum++)] || (_tweenLookup[id] = {
        target: target,
        tweens: []
      }), tween && (a = _tweenLookup[id].tweens, a[i = a.length] = tween, scrub)) for (; --i > -1;) a[i] === tween && a.splice(i, 1);
      return _tweenLookup[id].tweens
    }, _onOverwrite = function (overwrittenTween, overwritingTween, target, killedProps) {
      var r1, r2, func = overwrittenTween.vars.onOverwrite;
      return func && (r1 = func(overwrittenTween, overwritingTween, target, killedProps)), func = TweenLite.onOverwrite, func && (r2 = func(overwrittenTween, overwritingTween, target, killedProps)), r1 !== !1 && r2 !== !1
    }, _applyOverwrite = function (target, tween, props, mode, siblings) {
      var i, changed, curTween, l;
      if (1 === mode || mode >= 4) {
        for (l = siblings.length, i = 0; i < l; i++) if ((curTween = siblings[i]) !== tween) curTween._gc || curTween._kill(null, target, tween) && (changed = !0); else if (5 === mode) break;
        return changed
      }
      var globalStart, startTime = tween._startTime + _tinyNum, overlaps = [], oCount = 0,
        zeroDur = 0 === tween._duration;
      for (i = siblings.length; --i > -1;) (curTween = siblings[i]) === tween || curTween._gc || curTween._paused || (curTween._timeline !== tween._timeline ? (globalStart = globalStart || _checkOverlap(tween, 0, zeroDur), 0 === _checkOverlap(curTween, globalStart, zeroDur) && (overlaps[oCount++] = curTween)) : curTween._startTime <= startTime && curTween._startTime + curTween.totalDuration() / curTween._timeScale > startTime && ((zeroDur || !curTween._initted) && startTime - curTween._startTime <= 2e-10 || (overlaps[oCount++] = curTween)));
      for (i = oCount; --i > -1;) if (curTween = overlaps[i], 2 === mode && curTween._kill(props, target, tween) && (changed = !0), 2 !== mode || !curTween._firstPT && curTween._initted) {
        if (2 !== mode && !_onOverwrite(curTween, tween)) continue;
        curTween._enabled(!1, !1) && (changed = !0)
      }
      return changed
    }, _checkOverlap = function (tween, reference, zeroDur) {
      for (var tl = tween._timeline, ts = tl._timeScale, t = tween._startTime; tl._timeline;) {
        if (t += tl._startTime, ts *= tl._timeScale, tl._paused) return -100;
        tl = tl._timeline
      }
      return t /= ts, t > reference ? t - reference : zeroDur && t === reference || !tween._initted && t - reference < 2 * _tinyNum ? _tinyNum : (t += tween.totalDuration() / tween._timeScale / ts) > reference + _tinyNum ? 0 : t - reference - _tinyNum
    };
    p._init = function () {
      var i, initPlugins, pt, p, startVars, v = this.vars, op = this._overwrittenProps, dur = this._duration,
        immediate = !!v.immediateRender, ease = v.ease;
      if (v.startAt) {
        this._startAt && (this._startAt.render(-1, !0), this._startAt.kill()), startVars = {};
        for (p in v.startAt) startVars[p] = v.startAt[p];
        if (startVars.overwrite = !1, startVars.immediateRender = !0, startVars.lazy = immediate && v.lazy !== !1, startVars.startAt = startVars.delay = null, this._startAt = TweenLite.to(this.target, 0, startVars), immediate) if (this._time > 0) this._startAt = null; else if (0 !== dur) return
      } else if (v.runBackwards && 0 !== dur) if (this._startAt) this._startAt.render(-1, !0), this._startAt.kill(), this._startAt = null; else {
        0 !== this._time && (immediate = !1), pt = {};
        for (p in v) _reservedProps[p] && "autoCSS" !== p || (pt[p] = v[p]);
        if (pt.overwrite = 0, pt.data = "isFromStart", pt.lazy = immediate && v.lazy !== !1, pt.immediateRender = immediate, this._startAt = TweenLite.to(this.target, 0, pt), immediate) {
          if (0 === this._time) return
        } else this._startAt._init(), this._startAt._enabled(!1), this.vars.immediateRender && (this._startAt = null)
      }
      if (this._ease = ease = ease ? ease instanceof Ease ? ease : "function" == typeof ease ? new Ease(ease, v.easeParams) : _easeMap[ease] || TweenLite.defaultEase : TweenLite.defaultEase, v.easeParams instanceof Array && ease.config && (this._ease = ease.config.apply(ease, v.easeParams)), this._easeType = this._ease._type, this._easePower = this._ease._power, this._firstPT = null, this._targets) for (i = this._targets.length; --i > -1;) this._initProps(this._targets[i], this._propLookup[i] = {}, this._siblings[i], op ? op[i] : null) && (initPlugins = !0); else initPlugins = this._initProps(this.target, this._propLookup, this._siblings, op);
      if (initPlugins && TweenLite._onPluginEvent("_onInitAllProps", this), op && (this._firstPT || "function" != typeof this.target && this._enabled(!1, !1)), v.runBackwards) for (pt = this._firstPT; pt;) pt.s += pt.c, pt.c = -pt.c, pt = pt._next;
      this._onUpdate = v.onUpdate, this._initted = !0
    }, p._initProps = function (target, propLookup, siblings, overwrittenProps) {
      var p, i, initPlugins, plugin, pt, v;
      if (null == target) return !1;
      _lazyLookup[target._gsTweenID] && _lazyRender(), this.vars.css || target.style && target !== window && target.nodeType && _plugins.css && this.vars.autoCSS !== !1 && _autoCSS(this.vars, target);
      for (p in this.vars) {
        if (v = this.vars[p], _reservedProps[p]) v && (v instanceof Array || v.push && _isArray(v)) && v.join("").indexOf("{self}") !== -1 && (this.vars[p] = v = this._swapSelfInParams(v, this)); else if (_plugins[p] && (plugin = new _plugins[p])._onInitTween(target, this.vars[p], this)) {
          for (this._firstPT = pt = {
            _next: this._firstPT,
            t: plugin,
            p: "setRatio",
            s: 0,
            c: 1,
            f: !0,
            n: p,
            pg: !0,
            pr: plugin._priority
          }, i = plugin._overwriteProps.length; --i > -1;) propLookup[plugin._overwriteProps[i]] = this._firstPT;
          (plugin._priority || plugin._onInitAllProps) && (initPlugins = !0), (plugin._onDisable || plugin._onEnable) && (this._notifyPluginsOfEnabled = !0)
        } else this._firstPT = propLookup[p] = pt = {
          _next: this._firstPT,
          t: target,
          p: p,
          f: "function" == typeof target[p],
          n: p,
          pg: !1,
          pr: 0
        }, pt.s = pt.f ? target[p.indexOf("set") || "function" != typeof target["get" + p.substr(3)] ? p : "get" + p.substr(3)]() : parseFloat(target[p]), pt.c = "string" == typeof v && "=" === v.charAt(1) ? parseInt(v.charAt(0) + "1", 10) * Number(v.substr(2)) : Number(v) - pt.s || 0;
        pt && pt._next && (pt._next._prev = pt)
      }
      return overwrittenProps && this._kill(overwrittenProps, target) ? this._initProps(target, propLookup, siblings, overwrittenProps) : this._overwrite > 1 && this._firstPT && siblings.length > 1 && _applyOverwrite(target, this, propLookup, this._overwrite, siblings) ? (this._kill(propLookup, target), this._initProps(target, propLookup, siblings, overwrittenProps)) : (this._firstPT && (this.vars.lazy !== !1 && this._duration || this.vars.lazy && !this._duration) && (_lazyLookup[target._gsTweenID] = !0), initPlugins)
    }, p.render = function (time, suppressEvents, force) {
      var isComplete, callback, pt, rawPrevTime, prevTime = this._time, duration = this._duration,
        prevRawPrevTime = this._rawPrevTime;
      if (time >= duration) this._totalTime = this._time = duration, this.ratio = this._ease._calcEnd ? this._ease.getRatio(1) : 1, this._reversed || (isComplete = !0, callback = "onComplete", force = force || this._timeline.autoRemoveChildren), 0 === duration && (this._initted || !this.vars.lazy || force) && (this._startTime === this._timeline._duration && (time = 0), (0 === time || prevRawPrevTime < 0 || prevRawPrevTime === _tinyNum && "isPause" !== this.data) && prevRawPrevTime !== time && (force = !0, prevRawPrevTime > _tinyNum && (callback = "onReverseComplete")), this._rawPrevTime = rawPrevTime = !suppressEvents || time || prevRawPrevTime === time ? time : _tinyNum); else if (time < 1e-7) this._totalTime = this._time = 0, this.ratio = this._ease._calcEnd ? this._ease.getRatio(0) : 0, (0 !== prevTime || 0 === duration && prevRawPrevTime > 0) && (callback = "onReverseComplete", isComplete = this._reversed), time < 0 && (this._active = !1, 0 === duration && (this._initted || !this.vars.lazy || force) && (prevRawPrevTime >= 0 && (prevRawPrevTime !== _tinyNum || "isPause" !== this.data) && (force = !0), this._rawPrevTime = rawPrevTime = !suppressEvents || time || prevRawPrevTime === time ? time : _tinyNum)), this._initted || (force = !0); else if (this._totalTime = this._time = time, this._easeType) {
        var r = time / duration, type = this._easeType, pow = this._easePower;
        (1 === type || 3 === type && r >= .5) && (r = 1 - r), 3 === type && (r *= 2), 1 === pow ? r *= r : 2 === pow ? r *= r * r : 3 === pow ? r *= r * r * r : 4 === pow && (r *= r * r * r * r), 1 === type ? this.ratio = 1 - r : 2 === type ? this.ratio = r : time / duration < .5 ? this.ratio = r / 2 : this.ratio = 1 - r / 2
      } else this.ratio = this._ease.getRatio(time / duration);
      if (this._time !== prevTime || force) {
        if (!this._initted) {
          if (this._init(), !this._initted || this._gc) return;
          if (!force && this._firstPT && (this.vars.lazy !== !1 && this._duration || this.vars.lazy && !this._duration)) return this._time = this._totalTime = prevTime, this._rawPrevTime = prevRawPrevTime, _lazyTweens.push(this), void(this._lazy = [time, suppressEvents]);
          this._time && !isComplete ? this.ratio = this._ease.getRatio(this._time / duration) : isComplete && this._ease._calcEnd && (this.ratio = this._ease.getRatio(0 === this._time ? 0 : 1))
        }
        for (this._lazy !== !1 && (this._lazy = !1), this._active || !this._paused && this._time !== prevTime && time >= 0 && (this._active = !0), 0 === prevTime && (this._startAt && (time >= 0 ? this._startAt.render(time, suppressEvents, force) : callback || (callback = "_dummyGS")), this.vars.onStart && (0 === this._time && 0 !== duration || suppressEvents || this._callback("onStart"))), pt = this._firstPT; pt;) pt.f ? pt.t[pt.p](pt.c * this.ratio + pt.s) : pt.t[pt.p] = pt.c * this.ratio + pt.s, pt = pt._next;
        this._onUpdate && (time < 0 && this._startAt && time !== -1e-4 && this._startAt.render(time, suppressEvents, force), suppressEvents || (this._time !== prevTime || isComplete) && this._callback("onUpdate")), callback && (this._gc && !force || (time < 0 && this._startAt && !this._onUpdate && time !== -1e-4 && this._startAt.render(time, suppressEvents, force), isComplete && (this._timeline.autoRemoveChildren && this._enabled(!1, !1), this._active = !1), !suppressEvents && this.vars[callback] && this._callback(callback), 0 === duration && this._rawPrevTime === _tinyNum && rawPrevTime !== _tinyNum && (this._rawPrevTime = 0)))
      }
    }, p._kill = function (vars, target, overwritingTween) {
      if ("all" === vars && (vars = null), null == vars && (null == target || target === this.target)) return this._lazy = !1, this._enabled(!1, !1);
      target = "string" != typeof target ? target || this._targets || this.target : TweenLite.selector(target) || target;
      var i, overwrittenProps, p, pt, propLookup, changed, killProps, record, killed,
        simultaneousOverwrite = overwritingTween && this._time && overwritingTween._startTime === this._startTime && this._timeline === overwritingTween._timeline;
      if ((_isArray(target) || _isSelector(target)) && "number" != typeof target[0]) for (i = target.length; --i > -1;) this._kill(vars, target[i], overwritingTween) && (changed = !0); else {
        if (this._targets) {
          for (i = this._targets.length; --i > -1;) if (target === this._targets[i]) {
            propLookup = this._propLookup[i] || {}, this._overwrittenProps = this._overwrittenProps || [], overwrittenProps = this._overwrittenProps[i] = vars ? this._overwrittenProps[i] || {} : "all";
            break
          }
        } else {
          if (target !== this.target) return !1;
          propLookup = this._propLookup, overwrittenProps = this._overwrittenProps = vars ? this._overwrittenProps || {} : "all"
        }
        if (propLookup) {
          if (killProps = vars || propLookup, record = vars !== overwrittenProps && "all" !== overwrittenProps && vars !== propLookup && ("object" != typeof vars || !vars._tempKill), overwritingTween && (TweenLite.onOverwrite || this.vars.onOverwrite)) {
            for (p in killProps) propLookup[p] && (killed || (killed = []), killed.push(p));
            if ((killed || !vars) && !_onOverwrite(this, overwritingTween, target, killed)) return !1
          }
          for (p in killProps) (pt = propLookup[p]) && (simultaneousOverwrite && (pt.f ? pt.t[pt.p](pt.s) : pt.t[pt.p] = pt.s, changed = !0), pt.pg && pt.t._kill(killProps) && (changed = !0), pt.pg && 0 !== pt.t._overwriteProps.length || (pt._prev ? pt._prev._next = pt._next : pt === this._firstPT && (this._firstPT = pt._next), pt._next && (pt._next._prev = pt._prev), pt._next = pt._prev = null), delete propLookup[p]), record && (overwrittenProps[p] = 1);
          !this._firstPT && this._initted && this._enabled(!1, !1)
        }
      }
      return changed
    }, p.invalidate = function () {
      return this._notifyPluginsOfEnabled && TweenLite._onPluginEvent("_onDisable", this), this._firstPT = this._overwrittenProps = this._startAt = this._onUpdate = null, this._notifyPluginsOfEnabled = this._active = this._lazy = !1, this._propLookup = this._targets ? {} : [], Animation.prototype.invalidate.call(this), this.vars.immediateRender && (this._time = -_tinyNum, this.render(-this._delay)), this
    }, p._enabled = function (enabled, ignoreTimeline) {
      if (_tickerActive || _ticker.wake(), enabled && this._gc) {
        var i, targets = this._targets;
        if (targets) for (i = targets.length; --i > -1;) this._siblings[i] = _register(targets[i], this, !0); else this._siblings = _register(this.target, this, !0)
      }
      return Animation.prototype._enabled.call(this, enabled, ignoreTimeline), !(!this._notifyPluginsOfEnabled || !this._firstPT) && TweenLite._onPluginEvent(enabled ? "_onEnable" : "_onDisable", this)
    }, TweenLite.to = function (target, duration, vars) {
      return new TweenLite(target, duration, vars)
    }, TweenLite.from = function (target, duration, vars) {
      return vars.runBackwards = !0, vars.immediateRender = 0 != vars.immediateRender, new TweenLite(target, duration, vars)
    }, TweenLite.fromTo = function (target, duration, fromVars, toVars) {
      return toVars.startAt = fromVars, toVars.immediateRender = 0 != toVars.immediateRender && 0 != fromVars.immediateRender, new TweenLite(target, duration, toVars)
    }, TweenLite.delayedCall = function (delay, callback, params, scope, useFrames) {
      return new TweenLite(callback, 0, {
        delay: delay,
        onComplete: callback,
        onCompleteParams: params,
        callbackScope: scope,
        onReverseComplete: callback,
        onReverseCompleteParams: params,
        immediateRender: !1,
        lazy: !1,
        useFrames: useFrames,
        overwrite: 0
      })
    }, TweenLite.set = function (target, vars) {
      return new TweenLite(target, 0, vars)
    }, TweenLite.getTweensOf = function (target, onlyActive) {
      if (null == target) return [];
      target = "string" != typeof target ? target : TweenLite.selector(target) || target;
      var i, a, j, t;
      if ((_isArray(target) || _isSelector(target)) && "number" != typeof target[0]) {
        for (i = target.length, a = []; --i > -1;) a = a.concat(TweenLite.getTweensOf(target[i], onlyActive));
        for (i = a.length; --i > -1;) for (t = a[i], j = i; --j > -1;) t === a[j] && a.splice(i, 1)
      } else for (a = _register(target).concat(), i = a.length; --i > -1;) (a[i]._gc || onlyActive && !a[i].isActive()) && a.splice(i, 1);
      return a
    }, TweenLite.killTweensOf = TweenLite.killDelayedCallsTo = function (target, onlyActive, vars) {
      "object" == typeof onlyActive && (vars = onlyActive, onlyActive = !1);
      for (var a = TweenLite.getTweensOf(target, onlyActive), i = a.length; --i > -1;) a[i]._kill(vars, target)
    };
    var TweenPlugin = _class("plugins.TweenPlugin", function (props, priority) {
      this._overwriteProps = (props || "").split(","), this._propName = this._overwriteProps[0], this._priority = priority || 0, this._super = TweenPlugin.prototype
    }, !0);
    if (p = TweenPlugin.prototype, TweenPlugin.version = "1.10.1", TweenPlugin.API = 2, p._firstPT = null, p._addTween = function (target, prop, start, end, overwriteProp, round) {
      var c, pt;
      if (null != end && (c = "number" == typeof end || "=" !== end.charAt(1) ? Number(end) - Number(start) : parseInt(end.charAt(0) + "1", 10) * Number(end.substr(2)))) return this._firstPT = pt = {
        _next: this._firstPT,
        t: target,
        p: prop,
        s: start,
        c: c,
        f: "function" == typeof target[prop],
        n: overwriteProp || prop,
        r: round
      }, pt._next && (pt._next._prev = pt), pt
    }, p.setRatio = function (v) {
      for (var val, pt = this._firstPT, min = 1e-6; pt;) val = pt.c * v + pt.s, pt.r ? val = Math.round(val) : val < min && val > -min && (val = 0), pt.f ? pt.t[pt.p](val) : pt.t[pt.p] = val, pt = pt._next
    }, p._kill = function (lookup) {
      var i, a = this._overwriteProps, pt = this._firstPT;
      if (null != lookup[this._propName]) this._overwriteProps = []; else for (i = a.length; --i > -1;) null != lookup[a[i]] && a.splice(i, 1);
      for (; pt;) null != lookup[pt.n] && (pt._next && (pt._next._prev = pt._prev), pt._prev ? (pt._prev._next = pt._next, pt._prev = null) : this._firstPT === pt && (this._firstPT = pt._next)), pt = pt._next;
      return !1
    }, p._roundProps = function (lookup, value) {
      for (var pt = this._firstPT; pt;) (lookup[this._propName] || null != pt.n && lookup[pt.n.split(this._propName + "_").join("")]) && (pt.r = value), pt = pt._next
    }, TweenLite._onPluginEvent = function (type, tween) {
      var changed, pt2, first, last, next, pt = tween._firstPT;
      if ("_onInitAllProps" === type) {
        for (; pt;) {
          for (next = pt._next, pt2 = first; pt2 && pt2.pr > pt.pr;) pt2 = pt2._next;
          (pt._prev = pt2 ? pt2._prev : last) ? pt._prev._next = pt : first = pt, (pt._next = pt2) ? pt2._prev = pt : last = pt, pt = next
        }
        pt = tween._firstPT = first
      }
      for (; pt;) pt.pg && "function" == typeof pt.t[type] && pt.t[type]() && (changed = !0), pt = pt._next;
      return changed
    }, TweenPlugin.activate = function (plugins) {
      for (var i = plugins.length; --i > -1;) plugins[i].API === TweenPlugin.API && (_plugins[(new plugins[i])._propName] = plugins[i]);
      return !0
    }, _gsDefine.plugin = function (config) {
      if (!(config && config.propName && config.init && config.API)) throw"illegal plugin definition.";
      var prop, propName = config.propName, priority = config.priority || 0, overwriteProps = config.overwriteProps,
        map = {init: "_onInitTween", set: "setRatio", kill: "_kill", round: "_roundProps", initAll: "_onInitAllProps"},
        Plugin = _class("plugins." + propName.charAt(0).toUpperCase() + propName.substr(1) + "Plugin", function () {
          TweenPlugin.call(this, propName, priority), this._overwriteProps = overwriteProps || []
        }, config.global === !0), p = Plugin.prototype = new TweenPlugin(propName);
      p.constructor = Plugin, Plugin.API = config.API;
      for (prop in map) "function" == typeof config[prop] && (p[map[prop]] = config[prop]);
      return Plugin.version = config.version, TweenPlugin.activate([Plugin]), Plugin
    }, a = window._gsQueue) {
      for (i = 0; i < a.length; i++) a[i]();
      for (p in _defLookup) _defLookup[p].func || window.console.log("GSAP encountered missing dependency: com.greensock." + p)
    }
    _tickerActive = !1
  }
}("undefined" != typeof module && module.exports && "undefined" != typeof global ? global : this || window, "TweenMax");
var _gsScope = "undefined" != typeof module && module.exports && "undefined" != typeof global ? global : this || window;
(_gsScope._gsQueue || (_gsScope._gsQueue = [])).push(function () {
  "use strict";
  _gsScope._gsDefine("TimelineMax", ["TimelineLite", "TweenLite", "easing.Ease"], function (TimelineLite, TweenLite, Ease) {
    var TimelineMax = function (vars) {
        TimelineLite.call(this, vars), this._repeat = this.vars.repeat || 0, this._repeatDelay = this.vars.repeatDelay || 0, this._cycle = 0, this._yoyo = this.vars.yoyo === !0, this._dirty = !0
      }, _tinyNum = 1e-10, TweenLiteInternals = TweenLite._internals, _lazyTweens = TweenLiteInternals.lazyTweens,
      _lazyRender = TweenLiteInternals.lazyRender, _easeNone = new Ease(null, null, 1, 0),
      p = TimelineMax.prototype = new TimelineLite;
    return p.constructor = TimelineMax, p.kill()._gc = !1, TimelineMax.version = "1.17.0", p.invalidate = function () {
      return this._yoyo = this.vars.yoyo === !0, this._repeat = this.vars.repeat || 0, this._repeatDelay = this.vars.repeatDelay || 0, this._uncache(!0), TimelineLite.prototype.invalidate.call(this)
    }, p.addCallback = function (callback, position, params, scope) {
      return this.add(TweenLite.delayedCall(0, callback, params, scope), position)
    }, p.removeCallback = function (callback, position) {
      if (callback) if (null == position) this._kill(null, callback); else for (var a = this.getTweensOf(callback, !1), i = a.length, time = this._parseTimeOrLabel(position); --i > -1;) a[i]._startTime === time && a[i]._enabled(!1, !1);
      return this
    }, p.removePause = function (position) {
      return this.removeCallback(TimelineLite._internals.pauseCallback, position)
    }, p.tweenTo = function (position, vars) {
      vars = vars || {};
      var duration, p, t, copy = {ease: _easeNone, useFrames: this.usesFrames(), immediateRender: !1};
      for (p in vars) copy[p] = vars[p];
      return copy.time = this._parseTimeOrLabel(position), duration = Math.abs(Number(copy.time) - this._time) / this._timeScale || .001, t = new TweenLite(this, duration, copy), copy.onStart = function () {
        t.target.paused(!0), t.vars.time !== t.target.time() && duration === t.duration() && t.duration(Math.abs(t.vars.time - t.target.time()) / t.target._timeScale), vars.onStart && t._callback("onStart")
      }, t
    }, p.tweenFromTo = function (fromPosition, toPosition, vars) {
      vars = vars || {}, fromPosition = this._parseTimeOrLabel(fromPosition), vars.startAt = {
        onComplete: this.seek,
        onCompleteParams: [fromPosition],
        callbackScope: this
      }, vars.immediateRender = vars.immediateRender !== !1;
      var t = this.tweenTo(toPosition, vars);
      return t.duration(Math.abs(t.vars.time - fromPosition) / this._timeScale || .001)
    }, p.render = function (time, suppressEvents, force) {
      this._gc && this._enabled(!0, !1);
      var tween, isComplete, next, callback, internalForce, cycleDuration,
        totalDur = this._dirty ? this.totalDuration() : this._totalDuration, dur = this._duration,
        prevTime = this._time, prevTotalTime = this._totalTime, prevStart = this._startTime,
        prevTimeScale = this._timeScale, prevRawPrevTime = this._rawPrevTime, prevPaused = this._paused,
        prevCycle = this._cycle;
      if (time >= totalDur) this._locked || (this._totalTime = totalDur, this._cycle = this._repeat), this._reversed || this._hasPausedChild() || (isComplete = !0, callback = "onComplete", internalForce = !!this._timeline.autoRemoveChildren, 0 === this._duration && (0 === time || prevRawPrevTime < 0 || prevRawPrevTime === _tinyNum) && prevRawPrevTime !== time && this._first && (internalForce = !0, prevRawPrevTime > _tinyNum && (callback = "onReverseComplete"))), this._rawPrevTime = this._duration || !suppressEvents || time || this._rawPrevTime === time ? time : _tinyNum, this._yoyo && 0 !== (1 & this._cycle) ? this._time = time = 0 : (this._time = dur, time = dur + 1e-4); else if (time < 1e-7) if (this._locked || (this._totalTime = this._cycle = 0), this._time = 0, (0 !== prevTime || 0 === dur && prevRawPrevTime !== _tinyNum && (prevRawPrevTime > 0 || time < 0 && prevRawPrevTime >= 0) && !this._locked) && (callback = "onReverseComplete", isComplete = this._reversed), time < 0) this._active = !1, this._timeline.autoRemoveChildren && this._reversed ? (internalForce = isComplete = !0, callback = "onReverseComplete") : prevRawPrevTime >= 0 && this._first && (internalForce = !0), this._rawPrevTime = time; else {
        if (this._rawPrevTime = dur || !suppressEvents || time || this._rawPrevTime === time ? time : _tinyNum, 0 === time && isComplete) for (tween = this._first; tween && 0 === tween._startTime;) tween._duration || (isComplete = !1), tween = tween._next;
        time = 0, this._initted || (internalForce = !0)
      } else 0 === dur && prevRawPrevTime < 0 && (internalForce = !0), this._time = this._rawPrevTime = time, this._locked || (this._totalTime = time, 0 !== this._repeat && (cycleDuration = dur + this._repeatDelay, this._cycle = this._totalTime / cycleDuration >> 0, 0 !== this._cycle && this._cycle === this._totalTime / cycleDuration && this._cycle--, this._time = this._totalTime - this._cycle * cycleDuration, this._yoyo && 0 !== (1 & this._cycle) && (this._time = dur - this._time), this._time > dur ? (this._time = dur, time = dur + 1e-4) : this._time < 0 ? this._time = time = 0 : time = this._time));
      if (this._cycle !== prevCycle && !this._locked) {
        var backwards = this._yoyo && 0 !== (1 & prevCycle),
          wrap = backwards === (this._yoyo && 0 !== (1 & this._cycle)), recTotalTime = this._totalTime,
          recCycle = this._cycle, recRawPrevTime = this._rawPrevTime, recTime = this._time;
        if (this._totalTime = prevCycle * dur, this._cycle < prevCycle ? backwards = !backwards : this._totalTime += dur, this._time = prevTime, this._rawPrevTime = 0 === dur ? prevRawPrevTime - 1e-4 : prevRawPrevTime, this._cycle = prevCycle, this._locked = !0, prevTime = backwards ? 0 : dur, this.render(prevTime, suppressEvents, 0 === dur), suppressEvents || this._gc || this.vars.onRepeat && this._callback("onRepeat"), wrap && (prevTime = backwards ? dur + 1e-4 : -1e-4, this.render(prevTime, !0, !1)), this._locked = !1, this._paused && !prevPaused) return;
        this._time = recTime, this._totalTime = recTotalTime, this._cycle = recCycle, this._rawPrevTime = recRawPrevTime
      }
      if (!(this._time !== prevTime && this._first || force || internalForce)) return void(prevTotalTime !== this._totalTime && this._onUpdate && (suppressEvents || this._callback("onUpdate")));
      if (this._initted || (this._initted = !0), this._active || !this._paused && this._totalTime !== prevTotalTime && time > 0 && (this._active = !0), 0 === prevTotalTime && this.vars.onStart && 0 !== this._totalTime && (suppressEvents || this._callback("onStart")), this._time >= prevTime) for (tween = this._first; tween && (next = tween._next, !this._paused || prevPaused);) (tween._active || tween._startTime <= this._time && !tween._paused && !tween._gc) && (tween._reversed ? tween.render((tween._dirty ? tween.totalDuration() : tween._totalDuration) - (time - tween._startTime) * tween._timeScale, suppressEvents, force) : tween.render((time - tween._startTime) * tween._timeScale, suppressEvents, force)), tween = next; else for (tween = this._last; tween && (next = tween._prev, !this._paused || prevPaused);) (tween._active || tween._startTime <= prevTime && !tween._paused && !tween._gc) && (tween._reversed ? tween.render((tween._dirty ? tween.totalDuration() : tween._totalDuration) - (time - tween._startTime) * tween._timeScale, suppressEvents, force) : tween.render((time - tween._startTime) * tween._timeScale, suppressEvents, force)), tween = next;
      this._onUpdate && (suppressEvents || (_lazyTweens.length && _lazyRender(), this._callback("onUpdate"))), callback && (this._locked || this._gc || prevStart !== this._startTime && prevTimeScale === this._timeScale || (0 === this._time || totalDur >= this.totalDuration()) && (isComplete && (_lazyTweens.length && _lazyRender(), this._timeline.autoRemoveChildren && this._enabled(!1, !1), this._active = !1), !suppressEvents && this.vars[callback] && this._callback(callback)))
    }, p.getActive = function (nested, tweens, timelines) {
      null == nested && (nested = !0), null == tweens && (tweens = !0), null == timelines && (timelines = !1);
      var i, tween, a = [], all = this.getChildren(nested, tweens, timelines), cnt = 0, l = all.length;
      for (i = 0; i < l; i++) tween = all[i], tween.isActive() && (a[cnt++] = tween);
      return a
    }, p.getLabelAfter = function (time) {
      time || 0 !== time && (time = this._time);
      var i, labels = this.getLabelsArray(), l = labels.length;
      for (i = 0; i < l; i++) if (labels[i].time > time) return labels[i].name;
      return null
    }, p.getLabelBefore = function (time) {
      null == time && (time = this._time);
      for (var labels = this.getLabelsArray(), i = labels.length; --i > -1;) if (labels[i].time < time) return labels[i].name;
      return null
    }, p.getLabelsArray = function () {
      var p, a = [], cnt = 0;
      for (p in this._labels) a[cnt++] = {time: this._labels[p], name: p};
      return a.sort(function (a, b) {
        return a.time - b.time
      }), a
    }, p.progress = function (value, suppressEvents) {
      return arguments.length ? this.totalTime(this.duration() * (this._yoyo && 0 !== (1 & this._cycle) ? 1 - value : value) + this._cycle * (this._duration + this._repeatDelay), suppressEvents) : this._time / this.duration()
    }, p.totalProgress = function (value, suppressEvents) {
      return arguments.length ? this.totalTime(this.totalDuration() * value, suppressEvents) : this._totalTime / this.totalDuration()
    }, p.totalDuration = function (value) {
      return arguments.length ? this._repeat === -1 ? this : this.duration((value - this._repeat * this._repeatDelay) / (this._repeat + 1)) : (this._dirty && (TimelineLite.prototype.totalDuration.call(this), this._totalDuration = this._repeat === -1 ? 999999999999 : this._duration * (this._repeat + 1) + this._repeatDelay * this._repeat), this._totalDuration)
    }, p.time = function (value, suppressEvents) {
      return arguments.length ? (this._dirty && this.totalDuration(), value > this._duration && (value = this._duration), this._yoyo && 0 !== (1 & this._cycle) ? value = this._duration - value + this._cycle * (this._duration + this._repeatDelay) : 0 !== this._repeat && (value += this._cycle * (this._duration + this._repeatDelay)), this.totalTime(value, suppressEvents)) : this._time
    }, p.repeat = function (value) {
      return arguments.length ? (this._repeat = value, this._uncache(!0)) : this._repeat
    }, p.repeatDelay = function (value) {
      return arguments.length ? (this._repeatDelay = value, this._uncache(!0)) : this._repeatDelay
    }, p.yoyo = function (value) {
      return arguments.length ? (this._yoyo = value, this) : this._yoyo
    }, p.currentLabel = function (value) {
      return arguments.length ? this.seek(value, !0) : this.getLabelBefore(this._time + 1e-8)
    }, TimelineMax
  }, !0), _gsScope._gsDefine("TimelineLite", ["core.Animation", "core.SimpleTimeline", "TweenLite"], function (Animation, SimpleTimeline, TweenLite) {
    var TimelineLite = function (vars) {
        SimpleTimeline.call(this, vars), this._labels = {}, this.autoRemoveChildren = this.vars.autoRemoveChildren === !0, this.smoothChildTiming = this.vars.smoothChildTiming === !0, this._sortChildren = !0, this._onUpdate = this.vars.onUpdate;
        var val, p, v = this.vars;
        for (p in v) val = v[p], _isArray(val) && val.join("").indexOf("{self}") !== -1 && (v[p] = this._swapSelfInParams(val));
        _isArray(v.tweens) && this.add(v.tweens, 0, v.align, v.stagger)
      }, _tinyNum = 1e-10, TweenLiteInternals = TweenLite._internals, _internals = TimelineLite._internals = {},
      _isSelector = TweenLiteInternals.isSelector, _isArray = TweenLiteInternals.isArray,
      _lazyTweens = TweenLiteInternals.lazyTweens, _lazyRender = TweenLiteInternals.lazyRender, _blankArray = [],
      _globals = _gsScope._gsDefine.globals, _copy = function (vars) {
        var p, copy = {};
        for (p in vars) copy[p] = vars[p];
        return copy
      }, _pauseCallback = _internals.pauseCallback = function (tween, callback, params, scope) {
        var sibling, tl = tween._timeline, time = tl._totalTime, startTime = tween._startTime,
          reversed = tween._rawPrevTime < 0 || 0 === tween._rawPrevTime && tl._reversed, next = reversed ? 0 : _tinyNum,
          prev = reversed ? _tinyNum : 0;
        if (callback || !this._forcingPlayhead) {
          for (tl.pause(startTime), sibling = tween._prev; sibling && sibling._startTime === startTime;) sibling._rawPrevTime = prev, sibling = sibling._prev;
          for (sibling = tween._next; sibling && sibling._startTime === startTime;) sibling._rawPrevTime = next, sibling = sibling._next;
          callback && callback.apply(scope || tl.vars.callbackScope || tl, params || _blankArray), !this._forcingPlayhead && tl._paused || tl.seek(time)
        }
      }, _slice = function (a) {
        var i, b = [], l = a.length;
        for (i = 0; i !== l; b.push(a[i++])) ;
        return b
      }, p = TimelineLite.prototype = new SimpleTimeline;
    return TimelineLite.version = "1.17.0", p.constructor = TimelineLite, p.kill()._gc = p._forcingPlayhead = !1, p.to = function (target, duration, vars, position) {
      var Engine = vars.repeat && _globals.TweenMax || TweenLite;
      return duration ? this.add(new Engine(target, duration, vars), position) : this.set(target, vars, position)
    }, p.from = function (target, duration, vars, position) {
      return this.add((vars.repeat && _globals.TweenMax || TweenLite).from(target, duration, vars), position)
    }, p.fromTo = function (target, duration, fromVars, toVars, position) {
      var Engine = toVars.repeat && _globals.TweenMax || TweenLite;
      return duration ? this.add(Engine.fromTo(target, duration, fromVars, toVars), position) : this.set(target, toVars, position)
    }, p.staggerTo = function (targets, duration, vars, stagger, position, onCompleteAll, onCompleteAllParams, onCompleteAllScope) {
      var i, tl = new TimelineLite({
        onComplete: onCompleteAll,
        onCompleteParams: onCompleteAllParams,
        callbackScope: onCompleteAllScope,
        smoothChildTiming: this.smoothChildTiming
      });
      for ("string" == typeof targets && (targets = TweenLite.selector(targets) || targets), targets = targets || [], _isSelector(targets) && (targets = _slice(targets)), stagger = stagger || 0, stagger < 0 && (targets = _slice(targets), targets.reverse(), stagger *= -1), i = 0; i < targets.length; i++) vars.startAt && (vars.startAt = _copy(vars.startAt)), tl.to(targets[i], duration, _copy(vars), i * stagger);
      return this.add(tl, position)
    }, p.staggerFrom = function (targets, duration, vars, stagger, position, onCompleteAll, onCompleteAllParams, onCompleteAllScope) {
      return vars.immediateRender = 0 != vars.immediateRender, vars.runBackwards = !0, this.staggerTo(targets, duration, vars, stagger, position, onCompleteAll, onCompleteAllParams, onCompleteAllScope)
    }, p.staggerFromTo = function (targets, duration, fromVars, toVars, stagger, position, onCompleteAll, onCompleteAllParams, onCompleteAllScope) {
      return toVars.startAt = fromVars, toVars.immediateRender = 0 != toVars.immediateRender && 0 != fromVars.immediateRender, this.staggerTo(targets, duration, toVars, stagger, position, onCompleteAll, onCompleteAllParams, onCompleteAllScope)
    }, p.call = function (callback, params, scope, position) {
      return this.add(TweenLite.delayedCall(0, callback, params, scope), position)
    }, p.set = function (target, vars, position) {
      return position = this._parseTimeOrLabel(position, 0, !0), null == vars.immediateRender && (vars.immediateRender = position === this._time && !this._paused), this.add(new TweenLite(target, 0, vars), position)
    }, TimelineLite.exportRoot = function (vars, ignoreDelayedCalls) {
      vars = vars || {}, null == vars.smoothChildTiming && (vars.smoothChildTiming = !0);
      var tween, next, tl = new TimelineLite(vars), root = tl._timeline;
      for (null == ignoreDelayedCalls && (ignoreDelayedCalls = !0), root._remove(tl, !0), tl._startTime = 0, tl._rawPrevTime = tl._time = tl._totalTime = root._time, tween = root._first; tween;) next = tween._next, ignoreDelayedCalls && tween instanceof TweenLite && tween.target === tween.vars.onComplete || tl.add(tween, tween._startTime - tween._delay), tween = next;
      return root.add(tl, 0), tl
    }, p.add = function (value, position, align, stagger) {
      var curTime, l, i, child, tl, beforeRawTime;
      if ("number" != typeof position && (position = this._parseTimeOrLabel(position, 0, !0, value)), !(value instanceof Animation)) {
        if (value instanceof Array || value && value.push && _isArray(value)) {
          for (align = align || "normal", stagger = stagger || 0, curTime = position, l = value.length, i = 0; i < l; i++) _isArray(child = value[i]) && (child = new TimelineLite({tweens: child})), this.add(child, curTime), "string" != typeof child && "function" != typeof child && ("sequence" === align ? curTime = child._startTime + child.totalDuration() / child._timeScale : "start" === align && (child._startTime -= child.delay())), curTime += stagger;
          return this._uncache(!0)
        }
        if ("string" == typeof value) return this.addLabel(value, position);
        if ("function" != typeof value) throw"Cannot add " + value + " into the timeline; it is not a tween, timeline, function, or string.";
        value = TweenLite.delayedCall(0, value)
      }
      if (SimpleTimeline.prototype.add.call(this, value, position), (this._gc || this._time === this._duration) && !this._paused && this._duration < this.duration()) for (tl = this, beforeRawTime = tl.rawTime() > value._startTime; tl._timeline;) beforeRawTime && tl._timeline.smoothChildTiming ? tl.totalTime(tl._totalTime, !0) : tl._gc && tl._enabled(!0, !1), tl = tl._timeline;
      return this
    }, p.remove = function (value) {
      if (value instanceof Animation) return this._remove(value, !1);
      if (value instanceof Array || value && value.push && _isArray(value)) {
        for (var i = value.length; --i > -1;) this.remove(value[i]);
        return this
      }
      return "string" == typeof value ? this.removeLabel(value) : this.kill(null, value)
    }, p._remove = function (tween, skipDisable) {
      SimpleTimeline.prototype._remove.call(this, tween, skipDisable);
      var last = this._last;
      return last ? this._time > last._startTime + last._totalDuration / last._timeScale && (this._time = this.duration(), this._totalTime = this._totalDuration) : this._time = this._totalTime = this._duration = this._totalDuration = 0, this
    }, p.append = function (value, offsetOrLabel) {
      return this.add(value, this._parseTimeOrLabel(null, offsetOrLabel, !0, value))
    }, p.insert = p.insertMultiple = function (value, position, align, stagger) {
      return this.add(value, position || 0, align, stagger)
    }, p.appendMultiple = function (tweens, offsetOrLabel, align, stagger) {
      return this.add(tweens, this._parseTimeOrLabel(null, offsetOrLabel, !0, tweens), align, stagger)
    }, p.addLabel = function (label, position) {
      return this._labels[label] = this._parseTimeOrLabel(position), this
    }, p.addPause = function (position, callback, params, scope) {
      var t = TweenLite.delayedCall(0, _pauseCallback, ["{self}", callback, params, scope], this);
      return t.data = "isPause", this.add(t, position)
    }, p.removeLabel = function (label) {
      return delete this._labels[label], this
    }, p.getLabelTime = function (label) {
      return null != this._labels[label] ? this._labels[label] : -1
    }, p._parseTimeOrLabel = function (timeOrLabel, offsetOrLabel, appendIfAbsent, ignore) {
      var i;
      if (ignore instanceof Animation && ignore.timeline === this) this.remove(ignore); else if (ignore && (ignore instanceof Array || ignore.push && _isArray(ignore))) for (i = ignore.length; --i > -1;) ignore[i] instanceof Animation && ignore[i].timeline === this && this.remove(ignore[i]);
      if ("string" == typeof offsetOrLabel) return this._parseTimeOrLabel(offsetOrLabel, appendIfAbsent && "number" == typeof timeOrLabel && null == this._labels[offsetOrLabel] ? timeOrLabel - this.duration() : 0, appendIfAbsent);
      if (offsetOrLabel = offsetOrLabel || 0, "string" != typeof timeOrLabel || !isNaN(timeOrLabel) && null == this._labels[timeOrLabel]) null == timeOrLabel && (timeOrLabel = this.duration()); else {
        if (i = timeOrLabel.indexOf("="), i === -1) return null == this._labels[timeOrLabel] ? appendIfAbsent ? this._labels[timeOrLabel] = this.duration() + offsetOrLabel : offsetOrLabel : this._labels[timeOrLabel] + offsetOrLabel;
        offsetOrLabel = parseInt(timeOrLabel.charAt(i - 1) + "1", 10) * Number(timeOrLabel.substr(i + 1)), timeOrLabel = i > 1 ? this._parseTimeOrLabel(timeOrLabel.substr(0, i - 1), 0, appendIfAbsent) : this.duration()
      }
      return Number(timeOrLabel) + offsetOrLabel
    }, p.seek = function (position, suppressEvents) {
      return this.totalTime("number" == typeof position ? position : this._parseTimeOrLabel(position), suppressEvents !== !1)
    }, p.stop = function () {
      return this.paused(!0)
    }, p.gotoAndPlay = function (position, suppressEvents) {
      return this.play(position, suppressEvents)
    }, p.gotoAndStop = function (position, suppressEvents) {
      return this.pause(position, suppressEvents)
    }, p.render = function (time, suppressEvents, force) {
      this._gc && this._enabled(!0, !1);
      var tween, isComplete, next, callback, internalForce,
        totalDur = this._dirty ? this.totalDuration() : this._totalDuration, prevTime = this._time,
        prevStart = this._startTime, prevTimeScale = this._timeScale, prevPaused = this._paused;
      if (time >= totalDur) this._totalTime = this._time = totalDur, this._reversed || this._hasPausedChild() || (isComplete = !0, callback = "onComplete", internalForce = !!this._timeline.autoRemoveChildren, 0 === this._duration && (0 === time || this._rawPrevTime < 0 || this._rawPrevTime === _tinyNum) && this._rawPrevTime !== time && this._first && (internalForce = !0, this._rawPrevTime > _tinyNum && (callback = "onReverseComplete"))), this._rawPrevTime = this._duration || !suppressEvents || time || this._rawPrevTime === time ? time : _tinyNum, time = totalDur + 1e-4; else if (time < 1e-7) if (this._totalTime = this._time = 0, (0 !== prevTime || 0 === this._duration && this._rawPrevTime !== _tinyNum && (this._rawPrevTime > 0 || time < 0 && this._rawPrevTime >= 0)) && (callback = "onReverseComplete", isComplete = this._reversed), time < 0) this._active = !1, this._timeline.autoRemoveChildren && this._reversed ? (internalForce = isComplete = !0, callback = "onReverseComplete") : this._rawPrevTime >= 0 && this._first && (internalForce = !0), this._rawPrevTime = time; else {
        if (this._rawPrevTime = this._duration || !suppressEvents || time || this._rawPrevTime === time ? time : _tinyNum, 0 === time && isComplete) for (tween = this._first; tween && 0 === tween._startTime;) tween._duration || (isComplete = !1), tween = tween._next;
        time = 0, this._initted || (internalForce = !0)
      } else this._totalTime = this._time = this._rawPrevTime = time;
      if (this._time !== prevTime && this._first || force || internalForce) {
        if (this._initted || (this._initted = !0), this._active || !this._paused && this._time !== prevTime && time > 0 && (this._active = !0), 0 === prevTime && this.vars.onStart && 0 !== this._time && (suppressEvents || this._callback("onStart")), this._time >= prevTime) for (tween = this._first; tween && (next = tween._next, !this._paused || prevPaused);) (tween._active || tween._startTime <= this._time && !tween._paused && !tween._gc) && (tween._reversed ? tween.render((tween._dirty ? tween.totalDuration() : tween._totalDuration) - (time - tween._startTime) * tween._timeScale, suppressEvents, force) : tween.render((time - tween._startTime) * tween._timeScale, suppressEvents, force)), tween = next; else for (tween = this._last; tween && (next = tween._prev, !this._paused || prevPaused);) (tween._active || tween._startTime <= prevTime && !tween._paused && !tween._gc) && (tween._reversed ? tween.render((tween._dirty ? tween.totalDuration() : tween._totalDuration) - (time - tween._startTime) * tween._timeScale, suppressEvents, force) : tween.render((time - tween._startTime) * tween._timeScale, suppressEvents, force)), tween = next;
        this._onUpdate && (suppressEvents || (_lazyTweens.length && _lazyRender(), this._callback("onUpdate"))), callback && (this._gc || prevStart !== this._startTime && prevTimeScale === this._timeScale || (0 === this._time || totalDur >= this.totalDuration()) && (isComplete && (_lazyTweens.length && _lazyRender(), this._timeline.autoRemoveChildren && this._enabled(!1, !1), this._active = !1), !suppressEvents && this.vars[callback] && this._callback(callback)))
      }
    }, p._hasPausedChild = function () {
      for (var tween = this._first; tween;) {
        if (tween._paused || tween instanceof TimelineLite && tween._hasPausedChild()) return !0;
        tween = tween._next
      }
      return !1
    }, p.getChildren = function (nested, tweens, timelines, ignoreBeforeTime) {
      ignoreBeforeTime = ignoreBeforeTime || -9999999999;
      for (var a = [], tween = this._first, cnt = 0; tween;) tween._startTime < ignoreBeforeTime || (tween instanceof TweenLite ? tweens !== !1 && (a[cnt++] = tween) : (timelines !== !1 && (a[cnt++] = tween), nested !== !1 && (a = a.concat(tween.getChildren(!0, tweens, timelines)), cnt = a.length))), tween = tween._next;
      return a
    }, p.getTweensOf = function (target, nested) {
      var tweens, i, disabled = this._gc, a = [], cnt = 0;
      for (disabled && this._enabled(!0, !0), tweens = TweenLite.getTweensOf(target), i = tweens.length; --i > -1;) (tweens[i].timeline === this || nested && this._contains(tweens[i])) && (a[cnt++] = tweens[i]);
      return disabled && this._enabled(!1, !0), a
    }, p.recent = function () {
      return this._recent
    }, p._contains = function (tween) {
      for (var tl = tween.timeline; tl;) {
        if (tl === this) return !0;
        tl = tl.timeline
      }
      return !1
    }, p.shiftChildren = function (amount, adjustLabels, ignoreBeforeTime) {
      ignoreBeforeTime = ignoreBeforeTime || 0;
      for (var p, tween = this._first, labels = this._labels; tween;) tween._startTime >= ignoreBeforeTime && (tween._startTime += amount), tween = tween._next;
      if (adjustLabels) for (p in labels) labels[p] >= ignoreBeforeTime && (labels[p] += amount);
      return this._uncache(!0)
    }, p._kill = function (vars, target) {
      if (!vars && !target) return this._enabled(!1, !1);
      for (var tweens = target ? this.getTweensOf(target) : this.getChildren(!0, !0, !1), i = tweens.length, changed = !1; --i > -1;) tweens[i]._kill(vars, target) && (changed = !0);
      return changed
    }, p.clear = function (labels) {
      var tweens = this.getChildren(!1, !0, !0), i = tweens.length;
      for (this._time = this._totalTime = 0; --i > -1;) tweens[i]._enabled(!1, !1);
      return labels !== !1 && (this._labels = {}), this._uncache(!0)
    }, p.invalidate = function () {
      for (var tween = this._first; tween;) tween.invalidate(), tween = tween._next;
      return Animation.prototype.invalidate.call(this)
    }, p._enabled = function (enabled, ignoreTimeline) {
      if (enabled === this._gc) for (var tween = this._first; tween;) tween._enabled(enabled, !0), tween = tween._next;
      return SimpleTimeline.prototype._enabled.call(this, enabled, ignoreTimeline)
    }, p.totalTime = function (time, suppressEvents, uncapped) {
      this._forcingPlayhead = !0;
      var val = Animation.prototype.totalTime.apply(this, arguments);
      return this._forcingPlayhead = !1, val
    }, p.duration = function (value) {
      return arguments.length ? (0 !== this.duration() && 0 !== value && this.timeScale(this._duration / value), this) : (this._dirty && this.totalDuration(), this._duration)
    }, p.totalDuration = function (value) {
      if (!arguments.length) {
        if (this._dirty) {
          for (var prev, end, max = 0, tween = this._last, prevStart = 999999999999; tween;) prev = tween._prev, tween._dirty && tween.totalDuration(), tween._startTime > prevStart && this._sortChildren && !tween._paused ? this.add(tween, tween._startTime - tween._delay) : prevStart = tween._startTime, tween._startTime < 0 && !tween._paused && (max -= tween._startTime, this._timeline.smoothChildTiming && (this._startTime += tween._startTime / this._timeScale), this.shiftChildren(-tween._startTime, !1, -9999999999), prevStart = 0), end = tween._startTime + tween._totalDuration / tween._timeScale, end > max && (max = end), tween = prev;
          this._duration = this._totalDuration = max, this._dirty = !1
        }
        return this._totalDuration
      }
      return 0 !== this.totalDuration() && 0 !== value && this.timeScale(this._totalDuration / value), this
    }, p.paused = function (value) {
      if (!value) for (var tween = this._first, time = this._time; tween;) tween._startTime === time && "isPause" === tween.data && (tween._rawPrevTime = 0), tween = tween._next;
      return Animation.prototype.paused.apply(this, arguments)
    }, p.usesFrames = function () {
      for (var tl = this._timeline; tl._timeline;) tl = tl._timeline;
      return tl === Animation._rootFramesTimeline
    }, p.rawTime = function () {
      return this._paused ? this._totalTime : (this._timeline.rawTime() - this._startTime) * this._timeScale
    }, TimelineLite
  }, !0)
}), _gsScope._gsDefine && _gsScope._gsQueue.pop()(), function (name) {
  "use strict";
  var getGlobal = function () {
    return (_gsScope.GreenSockGlobals || _gsScope)[name]
  };
  "function" == typeof define && define.amd ? define(["TweenLite"], getGlobal) : "undefined" != typeof module && module.exports && (require("./TweenLite.js"), module.exports = getGlobal())
}("TimelineMax"), !function (a) {
  function b (a) {
    a = a || {}, this.settings = a, null == a.statusInterval && (a.statusInterval = 5e3), null == a.loggingDelay && (a.loggingDelay = 2e4), null == a.noProgressTimeout && (a.noProgressTimeout = 1 / 0);
    var b, d = [], e = [], f = Date.now(), g = {QUEUED: 0, WAITING: 1, LOADED: 2, ERROR: 3, TIMEOUT: 4},
      h = function (a) {
        return null == a ? [] : Array.isArray(a) ? a : [a]
      };
    this.add = function (a) {
      a.tags = new c(a.tags), null == a.priority && (a.priority = 1 / 0), d.push({resource: a, status: g.QUEUED})
    }, this.addProgressListener = function (a, b) {
      e.push({callback: a, tags: new c(b)})
    }, this.addCompletionListener = function (a, b) {
      e.push({
        tags: new c(b), callback: function (b) {
          b.completedCount === b.totalCount && a(b)
        }
      })
    };
    var i = function (a) {
      a = h(a);
      var b = function (b) {
        for (var c = b.resource, d = 1 / 0, e = 0; e < c.tags.length; e++) for (var f = 0; f < Math.min(a.length, d) && !(c.tags.all[e] === a[f] && d > f && (d = f, 0 === d)) && 0 !== d; f++) ;
        return d
      };
      return function (a, c) {
        var d = b(a), e = b(c);
        return e > d ? -1 : d > e ? 1 : a.priority < c.priority ? -1 : a.priority > c.priority ? 1 : 0
      }
    };
    this.start = function (a) {
      b = Date.now();
      var c = i(a);
      d.sort(c);
      for (var e = 0, f = d.length; f > e; e++) {
        var h = d[e];
        h.status = g.WAITING, h.resource.start(this)
      }
      setTimeout(j, 100)
    };
    var j = function () {
      for (var b = !1, c = Date.now() - f, e = c >= a.noProgressTimeout, h = c >= a.loggingDelay, i = 0, k = d.length; k > i; i++) {
        var l = d[i];
        l.status === g.WAITING && (l.resource.checkStatus && l.resource.checkStatus(), l.status === g.WAITING && (e ? l.resource.onTimeout() : b = !0))
      }
      h && b && m(), b && setTimeout(j, a.statusInterval)
    };
    this.isBusy = function () {
      for (var a = 0, b = d.length; b > a; a++) if (d[a].status === g.QUEUED || d[a].status === g.WAITING) return !0;
      return !1
    };
    var k = function (a, b) {
      var c, h, i, j, k, m = null;
      for (c = 0, h = d.length; h > c; c++) if (d[c].resource === a) {
        m = d[c];
        break
      }
      if (null != m && m.status === g.WAITING) for (m.status = b, f = Date.now(), i = a.tags.length, c = 0, h = e.length; h > c; c++) j = e[c], k = 0 === j.tags.length || a.tags.intersects(j.tags), k && l(m, j)
    };
    this.onLoad = function (a) {
      k(a, g.LOADED)
    }, this.onError = function (a) {
      k(a, g.ERROR)
    }, this.onTimeout = function (a) {
      k(a, g.TIMEOUT)
    };
    var l = function (a, b) {
      var c, e, f, h, i = 0, j = 0;
      for (c = 0, e = d.length; e > c; c++) f = d[c], h = !1, h = 0 === b.tags.length || f.resource.tags.intersects(b.tags), h && (j++, (f.status === g.LOADED || f.status === g.ERROR || f.status === g.TIMEOUT) && i++);
      b.callback({
        resource: a.resource,
        loaded: a.status === g.LOADED,
        error: a.status === g.ERROR,
        timeout: a.status === g.TIMEOUT,
        completedCount: i,
        totalCount: j
      })
    }, m = this.log = function (a) {
      if (window.console) {
        var c = Math.round((Date.now() - b) / 1e3);
        window.console.log("PxLoader elapsed: " + c + " sec");
        for (var e = 0, f = d.length; f > e; e++) {
          var h = d[e];
          if (a || h.status === g.WAITING) {
            var i = "PxLoader: #" + e + " " + h.resource.getName();
            switch (h.status) {
              case g.QUEUED:
                i += " (Not Started)";
                break;
              case g.WAITING:
                i += " (Waiting)";
                break;
              case g.LOADED:
                i += " (Loaded)";
                break;
              case g.ERROR:
                i += " (Error)";
                break;
              case g.TIMEOUT:
                i += " (Timeout)"
            }
            h.resource.tags.length > 0 && (i += " Tags: [" + h.resource.tags.all.join(",") + "]"), window.console.log(i)
          }
        }
      }
    }
  }

  function c (a) {
    if (this.all = [], this.first = null, this.length = 0, this.lookup = {}, a) {
      if (Array.isArray(a)) this.all = a.slice(0); else if ("object" == typeof a) for (var b in a) a.hasOwnProperty(b) && this.all.push(b); else this.all.push(a);
      this.length = this.all.length, this.length > 0 && (this.first = this.all[0]);
      for (var c = 0; c < this.length; c++) this.lookup[this.all[c]] = !0
    }
  }

  c.prototype.intersects = function (a) {
    if (0 === this.length || 0 === a.length) return !1;
    if (1 === this.length && 1 === a.length) return this.first === a.first;
    if (a.length < this.length) return a.intersects(this);
    for (var b in this.lookup) if (a.lookup[b]) return !0;
    return !1
  }, "function" == typeof define && define.amd && define("PxLoader", [], function () {
    return b
  }), a.PxLoader = b
}(this), Date.now || (Date.now = function () {
  return (new Date).getTime()
}), Array.isArray || (Array.isArray = function (a) {
  return "[object Array]" === Object.prototype.toString.call(a)
}), PxLoader.prototype.addImage = function (a, b, c, d) {
  var e = new PxLoaderImage(a, b, c, d);
  return this.add(e), e.img
}, "function" == typeof define && define.amd && define("PxLoaderImage", [], function () {
  return PxLoaderImage
}), PxLoader.prototype.addSound = function (a, b, c, d) {
  var e = new PxLoaderSound(a, b, c, d);
  return this.add(e), e.sound
}, "function" == typeof define && define.amd && define("PxLoaderSound", [], function () {
  return PxLoaderSound
}), PxLoader.prototype.addVideo = function (a, b, c, d) {
  var e = new PxLoaderVideo(a, b, c, d);
  return this.add(e), e.vid
}, "function" == typeof define && define.amd && define("PxLoaderVideo", [], function () {
  return PxLoaderVideo
});
var PxLoaderData = function (a, b, c) {
  var d = this, e = null;
  this.tags = b, this.priority = c, this.request = new XMLHttpRequest, this.start = function (b) {
    e = b, d.request.onload = this.onLoad, d.request.onerror = this.onError, d.request.open("GET", a, !0), d.request.send(null)
  }, this.checkStatus = function () {
    200 === d.request.status && e.onLoad(d)
  }, this.onTimeout = function () {
    200 === d.request.status ? e.onLoad(d) : e.onTimeout(d)
  }, this.onLoad = function () {
    e.onLoad(d)
  }, this.onError = function () {
    e.onError(d)
  }, this.getName = function () {
    return a
  }
};
PxLoader.prototype.addData = function (a, b, c) {
  var d = new PxLoaderData(a, b, c);
  return this.add(d), d.request
}, "function" == typeof define && define.amd && define("PxLoaderData", [], function () {
  return PxLoaderData
}), function (f) {
  if ("object" == typeof exports && "undefined" != typeof module) module.exports = f(); else if ("function" == typeof define && define.amd) define([], f); else {
    var g;
    g = "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this, g.PIXI = f()
  }
}(function () {
  var define;
  return function e (t, n, r) {
    function s (o, u) {
      if (!n[o]) {
        if (!t[o]) {
          var a = "function" == typeof require && require;
          if (!u && a) return a(o, !0);
          if (i) return i(o, !0);
          var f = new Error("Cannot find module '" + o + "'");
          throw f.code = "MODULE_NOT_FOUND", f
        }
        var l = n[o] = {exports: {}};
        t[o][0].call(l.exports, function (e) {
          var n = t[o][1][e];
          return s(n ? n : e)
        }, l, l.exports, e, t, n, r)
      }
      return n[o].exports
    }

    for (var i = "function" == typeof require && require, o = 0; o < r.length; o++) s(r[o]);
    return s
  }({
    1: [function (require, module, exports) {
      (function (process, global) {
        !function () {
          function noop () {
          }

          function identity (v) {
            return v
          }

          function toBool (v) {
            return !!v
          }

          function notId (v) {
            return !v
          }

          function only_once (fn) {
            return function () {
              if (null === fn) throw new Error("Callback was already called.");
              fn.apply(this, arguments), fn = null
            }
          }

          function _once (fn) {
            return function () {
              null !== fn && (fn.apply(this, arguments), fn = null)
            }
          }

          function _isArrayLike (arr) {
            return _isArray(arr) || "number" == typeof arr.length && arr.length >= 0 && arr.length % 1 === 0
          }

          function _arrayEach (arr, iterator) {
            for (var index = -1, length = arr.length; ++index < length;) iterator(arr[index], index, arr)
          }

          function _map (arr, iterator) {
            for (var index = -1, length = arr.length, result = Array(length); ++index < length;) result[index] = iterator(arr[index], index, arr);
            return result
          }

          function _range (count) {
            return _map(Array(count), function (v, i) {
              return i
            })
          }

          function _reduce (arr, iterator, memo) {
            return _arrayEach(arr, function (x, i, a) {
              memo = iterator(memo, x, i, a)
            }), memo
          }

          function _forEachOf (object, iterator) {
            _arrayEach(_keys(object), function (key) {
              iterator(object[key], key)
            })
          }

          function _indexOf (arr, item) {
            for (var i = 0; i < arr.length; i++) if (arr[i] === item) return i;
            return -1
          }

          function _keyIterator (coll) {
            var len, keys, i = -1;
            return _isArrayLike(coll) ? (len = coll.length, function () {
              return i++, i < len ? i : null
            }) : (keys = _keys(coll), len = keys.length, function () {
              return i++, i < len ? keys[i] : null
            })
          }

          function _restParam (func, startIndex) {
            return startIndex = null == startIndex ? func.length - 1 : +startIndex, function () {
              for (var length = Math.max(arguments.length - startIndex, 0), rest = Array(length), index = 0; index < length; index++) rest[index] = arguments[index + startIndex];
              switch (startIndex) {
                case 0:
                  return func.call(this, rest);
                case 1:
                  return func.call(this, arguments[0], rest)
              }
            }
          }

          function _withoutIndex (iterator) {
            return function (value, index, callback) {
              return iterator(value, callback)
            }
          }

          function _eachOfLimit (limit) {
            return function (obj, iterator, callback) {
              callback = _once(callback || noop), obj = obj || [];
              var nextKey = _keyIterator(obj);
              if (limit <= 0) return callback(null);
              var done = !1, running = 0, errored = !1;
              !function replenish () {
                if (done && running <= 0) return callback(null);
                for (; running < limit && !errored;) {
                  var key = nextKey();
                  if (null === key) return done = !0, void(running <= 0 && callback(null));
                  running += 1, iterator(obj[key], key, only_once(function (err) {
                    running -= 1, err ? (callback(err), errored = !0) : replenish()
                  }))
                }
              }()
            }
          }

          function doParallel (fn) {
            return function (obj, iterator, callback) {
              return fn(async.eachOf, obj, iterator, callback)
            }
          }

          function doParallelLimit (fn) {
            return function (obj, limit, iterator, callback) {
              return fn(_eachOfLimit(limit), obj, iterator, callback)
            }
          }

          function doSeries (fn) {
            return function (obj, iterator, callback) {
              return fn(async.eachOfSeries, obj, iterator, callback)
            }
          }

          function _asyncMap (eachfn, arr, iterator, callback) {
            callback = _once(callback || noop), arr = arr || [];
            var results = _isArrayLike(arr) ? [] : {};
            eachfn(arr, function (value, index, callback) {
              iterator(value, function (err, v) {
                results[index] = v, callback(err)
              })
            }, function (err) {
              callback(err, results)
            })
          }

          function _filter (eachfn, arr, iterator, callback) {
            var results = [];
            eachfn(arr, function (x, index, callback) {
              iterator(x, function (v) {
                v && results.push({index: index, value: x}), callback()
              })
            }, function () {
              callback(_map(results.sort(function (a, b) {
                return a.index - b.index
              }), function (x) {
                return x.value
              }))
            })
          }

          function _reject (eachfn, arr, iterator, callback) {
            _filter(eachfn, arr, function (value, cb) {
              iterator(value, function (v) {
                cb(!v)
              })
            }, callback)
          }

          function _createTester (eachfn, check, getResult) {
            return function (arr, limit, iterator, cb) {
              function done () {
                cb && cb(getResult(!1, void 0))
              }

              function iteratee (x, _, callback) {
                return cb ? void iterator(x, function (v) {
                  cb && check(v) && (cb(getResult(!0, x)), cb = iterator = !1), callback()
                }) : callback()
              }

              arguments.length > 3 ? eachfn(arr, limit, iteratee, done) : (cb = iterator, iterator = limit, eachfn(arr, iteratee, done))
            }
          }

          function _findGetResult (v, x) {
            return x
          }

          function _parallel (eachfn, tasks, callback) {
            callback = callback || noop;
            var results = _isArrayLike(tasks) ? [] : {};
            eachfn(tasks, function (task, key, callback) {
              task(_restParam(function (err, args) {
                args.length <= 1 && (args = args[0]), results[key] = args, callback(err)
              }))
            }, function (err) {
              callback(err, results)
            })
          }

          function _concat (eachfn, arr, fn, callback) {
            var result = [];
            eachfn(arr, function (x, index, cb) {
              fn(x, function (err, y) {
                result = result.concat(y || []), cb(err)
              })
            }, function (err) {
              callback(err, result)
            })
          }

          function _queue (worker, concurrency, payload) {
            function _insert (q, data, pos, callback) {
              if (null != callback && "function" != typeof callback) throw new Error("task callback must be a function");
              return q.started = !0, _isArray(data) || (data = [data]), 0 === data.length && q.idle() ? async.setImmediate(function () {
                q.drain()
              }) : (_arrayEach(data, function (task) {
                var item = {data: task, callback: callback || noop};
                pos ? q.tasks.unshift(item) : q.tasks.push(item), q.tasks.length === q.concurrency && q.saturated()
              }), void async.setImmediate(q.process))
            }

            function _next (q, tasks) {
              return function () {
                workers -= 1;
                var removed = !1, args = arguments;
                _arrayEach(tasks, function (task) {
                  _arrayEach(workersList, function (worker, index) {
                    worker !== task || removed || (workersList.splice(index, 1), removed = !0)
                  }), task.callback.apply(task, args)
                }), q.tasks.length + workers === 0 && q.drain(), q.process()
              }
            }

            if (null == concurrency) concurrency = 1; else if (0 === concurrency) throw new Error("Concurrency must not be zero");
            var workers = 0, workersList = [], q = {
              tasks: [],
              concurrency: concurrency,
              payload: payload,
              saturated: noop,
              empty: noop,
              drain: noop,
              started: !1,
              paused: !1,
              push: function (data, callback) {
                _insert(q, data, !1, callback)
              },
              kill: function () {
                q.drain = noop, q.tasks = []
              },
              unshift: function (data, callback) {
                _insert(q, data, !0, callback)
              },
              process: function () {
                if (!q.paused && workers < q.concurrency && q.tasks.length) for (; workers < q.concurrency && q.tasks.length;) {
                  var tasks = q.payload ? q.tasks.splice(0, q.payload) : q.tasks.splice(0, q.tasks.length),
                    data = _map(tasks, function (task) {
                      return task.data
                    });
                  0 === q.tasks.length && q.empty(), workers += 1, workersList.push(tasks[0]);
                  var cb = only_once(_next(q, tasks));
                  worker(data, cb)
                }
              },
              length: function () {
                return q.tasks.length
              },
              running: function () {
                return workers
              },
              workersList: function () {
                return workersList
              },
              idle: function () {
                return q.tasks.length + workers === 0
              },
              pause: function () {
                q.paused = !0
              },
              resume: function () {
                if (q.paused !== !1) {
                  q.paused = !1;
                  for (var resumeCount = Math.min(q.concurrency, q.tasks.length), w = 1; w <= resumeCount; w++) async.setImmediate(q.process)
                }
              }
            };
            return q
          }

          function _console_fn (name) {
            return _restParam(function (fn, args) {
              fn.apply(null, args.concat([_restParam(function (err, args) {
                "object" == typeof console && (err ? console.error : console[name] && _arrayEach(args, function (x) {
                }))
              })]))
            })
          }

          function _times (mapper) {
            return function (count, iterator, callback) {
              mapper(_range(count), iterator, callback)
            }
          }

          function _applyEach (eachfn) {
            return _restParam(function (fns, args) {
              var go = _restParam(function (args) {
                var that = this, callback = args.pop();
                return eachfn(fns, function (fn, _, cb) {
                  fn.apply(that, args.concat([cb]))
                }, callback)
              });
              return args.length ? go.apply(this, args) : go
            })
          }

          function ensureAsync (fn) {
            return _restParam(function (args) {
              var callback = args.pop();
              args.push(function () {
                var innerArgs = arguments;
                sync ? async.setImmediate(function () {
                  callback.apply(null, innerArgs)
                }) : callback.apply(null, innerArgs)
              });
              var sync = !0;
              fn.apply(this, args), sync = !1
            })
          }

          var previous_async, async = {},
            root = "object" == typeof self && self.self === self && self || "object" == typeof global && global.global === global && global || this;
          null != root && (previous_async = root.async), async.noConflict = function () {
            return root.async = previous_async, async
          };
          var _toString = Object.prototype.toString, _isArray = Array.isArray || function (obj) {
            return "[object Array]" === _toString.call(obj)
          }, _isObject = function (obj) {
            var type = typeof obj;
            return "function" === type || "object" === type && !!obj
          }, _keys = Object.keys || function (obj) {
            var keys = [];
            for (var k in obj) obj.hasOwnProperty(k) && keys.push(k);
            return keys
          }, _setImmediate = "function" == typeof setImmediate && setImmediate, _delay = _setImmediate ? function (fn) {
            _setImmediate(fn)
          } : function (fn) {
            setTimeout(fn, 0)
          };
          "object" == typeof process && "function" == typeof process.nextTick ? async.nextTick = process.nextTick : async.nextTick = _delay, async.setImmediate = _setImmediate ? _delay : async.nextTick, async.forEach = async.each = function (arr, iterator, callback) {
            return async.eachOf(arr, _withoutIndex(iterator), callback)
          }, async.forEachSeries = async.eachSeries = function (arr, iterator, callback) {
            return async.eachOfSeries(arr, _withoutIndex(iterator), callback)
          }, async.forEachLimit = async.eachLimit = function (arr, limit, iterator, callback) {
            return _eachOfLimit(limit)(arr, _withoutIndex(iterator), callback)
          }, async.forEachOf = async.eachOf = function (object, iterator, callback) {
            function done (err) {
              completed--, err ? callback(err) : null === key && completed <= 0 && callback(null)
            }

            callback = _once(callback || noop), object = object || [];
            for (var key, iter = _keyIterator(object), completed = 0; null != (key = iter());) completed += 1, iterator(object[key], key, only_once(done));
            0 === completed && callback(null)
          }, async.forEachOfSeries = async.eachOfSeries = function (obj, iterator, callback) {
            function iterate () {
              var sync = !0;
              return null === key ? callback(null) : (iterator(obj[key], key, only_once(function (err) {
                if (err) callback(err); else {
                  if (key = nextKey(), null === key) return callback(null);
                  sync ? async.setImmediate(iterate) : iterate()
                }
              })), void(sync = !1))
            }

            callback = _once(callback || noop), obj = obj || [];
            var nextKey = _keyIterator(obj), key = nextKey();
            iterate()
          }, async.forEachOfLimit = async.eachOfLimit = function (obj, limit, iterator, callback) {
            _eachOfLimit(limit)(obj, iterator, callback)
          }, async.map = doParallel(_asyncMap), async.mapSeries = doSeries(_asyncMap), async.mapLimit = doParallelLimit(_asyncMap), async.inject = async.foldl = async.reduce = function (arr, memo, iterator, callback) {
            async.eachOfSeries(arr, function (x, i, callback) {
              iterator(memo, x, function (err, v) {
                memo = v, callback(err)
              })
            }, function (err) {
              callback(err, memo)
            })
          }, async.foldr = async.reduceRight = function (arr, memo, iterator, callback) {
            var reversed = _map(arr, identity).reverse();
            async.reduce(reversed, memo, iterator, callback)
          }, async.transform = function (arr, memo, iterator, callback) {
            3 === arguments.length && (callback = iterator, iterator = memo, memo = _isArray(arr) ? [] : {}), async.eachOf(arr, function (v, k, cb) {
              iterator(memo, v, k, cb)
            }, function (err) {
              callback(err, memo)
            })
          }, async.select = async.filter = doParallel(_filter), async.selectLimit = async.filterLimit = doParallelLimit(_filter), async.selectSeries = async.filterSeries = doSeries(_filter), async.reject = doParallel(_reject), async.rejectLimit = doParallelLimit(_reject), async.rejectSeries = doSeries(_reject), async.any = async.some = _createTester(async.eachOf, toBool, identity), async.someLimit = _createTester(async.eachOfLimit, toBool, identity), async.all = async.every = _createTester(async.eachOf, notId, notId), async.everyLimit = _createTester(async.eachOfLimit, notId, notId), async.detect = _createTester(async.eachOf, identity, _findGetResult), async.detectSeries = _createTester(async.eachOfSeries, identity, _findGetResult), async.detectLimit = _createTester(async.eachOfLimit, identity, _findGetResult), async.sortBy = function (arr, iterator, callback) {
            function comparator (left, right) {
              var a = left.criteria, b = right.criteria;
              return a < b ? -1 : a > b ? 1 : 0
            }

            async.map(arr, function (x, callback) {
              iterator(x, function (err, criteria) {
                err ? callback(err) : callback(null, {value: x, criteria: criteria})
              })
            }, function (err, results) {
              return err ? callback(err) : void callback(null, _map(results.sort(comparator), function (x) {
                return x.value
              }))
            })
          }, async.auto = function (tasks, concurrency, callback) {
            function addListener (fn) {
              listeners.unshift(fn)
            }

            function removeListener (fn) {
              var idx = _indexOf(listeners, fn);
              idx >= 0 && listeners.splice(idx, 1)
            }

            function taskComplete () {
              remainingTasks--, _arrayEach(listeners.slice(0), function (fn) {
                fn()
              })
            }

            callback || (callback = concurrency, concurrency = null), callback = _once(callback || noop);
            var keys = _keys(tasks), remainingTasks = keys.length;
            if (!remainingTasks) return callback(null);
            concurrency || (concurrency = remainingTasks);
            var results = {}, runningTasks = 0, listeners = [];
            addListener(function () {
              remainingTasks || callback(null, results)
            }), _arrayEach(keys, function (k) {
              function ready () {
                return runningTasks < concurrency && _reduce(requires, function (a, x) {
                  return a && results.hasOwnProperty(x)
                }, !0) && !results.hasOwnProperty(k)
              }

              function listener () {
                ready() && (runningTasks++, removeListener(listener), task[task.length - 1](taskCallback, results))
              }

              for (var dep, task = _isArray(tasks[k]) ? tasks[k] : [tasks[k]], taskCallback = _restParam(function (err, args) {
                if (runningTasks--, args.length <= 1 && (args = args[0]), err) {
                  var safeResults = {};
                  _forEachOf(results, function (val, rkey) {
                    safeResults[rkey] = val
                  }), safeResults[k] = args, callback(err, safeResults)
                } else results[k] = args, async.setImmediate(taskComplete)
              }), requires = task.slice(0, task.length - 1), len = requires.length; len--;) {
                if (!(dep = tasks[requires[len]])) throw new Error("Has inexistant dependency");
                if (_isArray(dep) && _indexOf(dep, k) >= 0) throw new Error("Has cyclic dependencies")
              }
              ready() ? (runningTasks++, task[task.length - 1](taskCallback, results)) : addListener(listener)
            })
          }, async.retry = function (times, task, callback) {
            function parseTimes (acc, t) {
              if ("number" == typeof t) acc.times = parseInt(t, 10) || DEFAULT_TIMES; else {
                if ("object" != typeof t) throw new Error("Unsupported argument type for 'times': " + typeof t);
                acc.times = parseInt(t.times, 10) || DEFAULT_TIMES, acc.interval = parseInt(t.interval, 10) || DEFAULT_INTERVAL
              }
            }

            function wrappedTask (wrappedCallback, wrappedResults) {
              function retryAttempt (task, finalAttempt) {
                return function (seriesCallback) {
                  task(function (err, result) {
                    seriesCallback(!err || finalAttempt, {err: err, result: result})
                  }, wrappedResults)
                }
              }

              function retryInterval (interval) {
                return function (seriesCallback) {
                  setTimeout(function () {
                    seriesCallback(null)
                  }, interval)
                }
              }

              for (; opts.times;) {
                var finalAttempt = !(opts.times -= 1);
                attempts.push(retryAttempt(opts.task, finalAttempt)), !finalAttempt && opts.interval > 0 && attempts.push(retryInterval(opts.interval))
              }
              async.series(attempts, function (done, data) {
                data = data[data.length - 1], (wrappedCallback || opts.callback)(data.err, data.result)
              })
            }

            var DEFAULT_TIMES = 5, DEFAULT_INTERVAL = 0, attempts = [],
              opts = {times: DEFAULT_TIMES, interval: DEFAULT_INTERVAL}, length = arguments.length;
            if (length < 1 || length > 3) throw new Error("Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)");
            return length <= 2 && "function" == typeof times && (callback = task, task = times), "function" != typeof times && parseTimes(opts, times), opts.callback = callback, opts.task = task, opts.callback ? wrappedTask() : wrappedTask
          }, async.waterfall = function (tasks, callback) {
            function wrapIterator (iterator) {
              return _restParam(function (err, args) {
                if (err) callback.apply(null, [err].concat(args)); else {
                  var next = iterator.next();
                  next ? args.push(wrapIterator(next)) : args.push(callback), ensureAsync(iterator).apply(null, args)
                }
              })
            }

            if (callback = _once(callback || noop), !_isArray(tasks)) {
              var err = new Error("First argument to waterfall must be an array of functions");
              return callback(err)
            }
            return tasks.length ? void wrapIterator(async.iterator(tasks))() : callback()
          }, async.parallel = function (tasks, callback) {
            _parallel(async.eachOf, tasks, callback)
          }, async.parallelLimit = function (tasks, limit, callback) {
            _parallel(_eachOfLimit(limit), tasks, callback)
          }, async.series = function (tasks, callback) {
            _parallel(async.eachOfSeries, tasks, callback)
          }, async.iterator = function (tasks) {
            function makeCallback (index) {
              function fn () {
                return tasks.length && tasks[index].apply(null, arguments), fn.next()
              }

              return fn.next = function () {
                return index < tasks.length - 1 ? makeCallback(index + 1) : null
              }, fn
            }

            return makeCallback(0)
          }, async.apply = _restParam(function (fn, args) {
            return _restParam(function (callArgs) {
              return fn.apply(null, args.concat(callArgs))
            })
          }), async.concat = doParallel(_concat), async.concatSeries = doSeries(_concat), async.whilst = function (test, iterator, callback) {
            if (callback = callback || noop, test()) {
              var next = _restParam(function (err, args) {
                err ? callback(err) : test.apply(this, args) ? iterator(next) : callback(null)
              });
              iterator(next)
            } else callback(null)
          }, async.doWhilst = function (iterator, test, callback) {
            var calls = 0;
            return async.whilst(function () {
              return ++calls <= 1 || test.apply(this, arguments)
            }, iterator, callback)
          }, async.until = function (test, iterator, callback) {
            return async.whilst(function () {
              return !test.apply(this, arguments)
            }, iterator, callback)
          }, async.doUntil = function (iterator, test, callback) {
            return async.doWhilst(iterator, function () {
              return !test.apply(this, arguments)
            }, callback)
          }, async.during = function (test, iterator, callback) {
            callback = callback || noop;
            var next = _restParam(function (err, args) {
              err ? callback(err) : (args.push(check), test.apply(this, args))
            }), check = function (err, truth) {
              err ? callback(err) : truth ? iterator(next) : callback(null)
            };
            test(check)
          }, async.doDuring = function (iterator, test, callback) {
            var calls = 0;
            async.during(function (next) {
              calls++ < 1 ? next(null, !0) : test.apply(this, arguments)
            }, iterator, callback)
          }, async.queue = function (worker, concurrency) {
            var q = _queue(function (items, cb) {
              worker(items[0], cb)
            }, concurrency, 1);
            return q
          }, async.priorityQueue = function (worker, concurrency) {
            function _compareTasks (a, b) {
              return a.priority - b.priority
            }

            function _binarySearch (sequence, item, compare) {
              for (var beg = -1, end = sequence.length - 1; beg < end;) {
                var mid = beg + (end - beg + 1 >>> 1);
                compare(item, sequence[mid]) >= 0 ? beg = mid : end = mid - 1
              }
              return beg
            }

            function _insert (q, data, priority, callback) {
              if (null != callback && "function" != typeof callback) throw new Error("task callback must be a function");
              return q.started = !0, _isArray(data) || (data = [data]), 0 === data.length ? async.setImmediate(function () {
                q.drain()
              }) : void _arrayEach(data, function (task) {
                var item = {data: task, priority: priority, callback: "function" == typeof callback ? callback : noop};
                q.tasks.splice(_binarySearch(q.tasks, item, _compareTasks) + 1, 0, item), q.tasks.length === q.concurrency && q.saturated(), async.setImmediate(q.process)
              })
            }

            var q = async.queue(worker, concurrency);
            return q.push = function (data, priority, callback) {
              _insert(q, data, priority, callback)
            }, delete q.unshift, q
          }, async.cargo = function (worker, payload) {
            return _queue(worker, 1, payload)
          }, async.log = _console_fn("log"), async.dir = _console_fn("dir"), async.memoize = function (fn, hasher) {
            var memo = {}, queues = {};
            hasher = hasher || identity;
            var memoized = _restParam(function (args) {
              var callback = args.pop(), key = hasher.apply(null, args);
              key in memo ? async.setImmediate(function () {
                callback.apply(null, memo[key])
              }) : key in queues ? queues[key].push(callback) : (queues[key] = [callback], fn.apply(null, args.concat([_restParam(function (args) {
                memo[key] = args;
                var q = queues[key];
                delete queues[key];
                for (var i = 0, l = q.length; i < l; i++) q[i].apply(null, args)
              })])))
            });
            return memoized.memo = memo, memoized.unmemoized = fn, memoized
          }, async.unmemoize = function (fn) {
            return function () {
              return (fn.unmemoized || fn).apply(null, arguments)
            }
          }, async.times = _times(async.map), async.timesSeries = _times(async.mapSeries), async.timesLimit = function (count, limit, iterator, callback) {
            return async.mapLimit(_range(count), limit, iterator, callback)
          }, async.seq = function () {
            var fns = arguments;
            return _restParam(function (args) {
              var that = this, callback = args[args.length - 1];
              "function" == typeof callback ? args.pop() : callback = noop, async.reduce(fns, args, function (newargs, fn, cb) {
                fn.apply(that, newargs.concat([_restParam(function (err, nextargs) {
                  cb(err, nextargs)
                })]))
              }, function (err, results) {
                callback.apply(that, [err].concat(results))
              })
            })
          }, async.compose = function () {
            return async.seq.apply(null, Array.prototype.reverse.call(arguments))
          }, async.applyEach = _applyEach(async.eachOf), async.applyEachSeries = _applyEach(async.eachOfSeries), async.forever = function (fn, callback) {
            function next (err) {
              return err ? done(err) : void task(next)
            }

            var done = only_once(callback || noop), task = ensureAsync(fn);
            next()
          }, async.ensureAsync = ensureAsync, async.constant = _restParam(function (values) {
            var args = [null].concat(values);
            return function (callback) {
              return callback.apply(this, args)
            }
          }), async.wrapSync = async.asyncify = function (func) {
            return _restParam(function (args) {
              var result, callback = args.pop();
              try {
                result = func.apply(this, args)
              } catch (e) {
                return callback(e)
              }
              _isObject(result) && "function" == typeof result.then ? result.then(function (value) {
                callback(null, value)
              }).catch(function (err) {
                callback(err.message ? err : new Error(err))
              }) : callback(null, result)
            })
          }, "object" == typeof module && module.exports ? module.exports = async : "function" == typeof define && define.amd ? define([], function () {
            return async
          }) : root.async = async
        }()
      }).call(this, require("_process"), "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
    }, {_process: 3}],
    2: [function (require, module, exports) {
      (function (process) {
        function normalizeArray (parts, allowAboveRoot) {
          for (var up = 0, i = parts.length - 1; i >= 0; i--) {
            var last = parts[i];
            "." === last ? parts.splice(i, 1) : ".." === last ? (parts.splice(i, 1), up++) : up && (parts.splice(i, 1), up--)
          }
          if (allowAboveRoot) for (; up--; up) parts.unshift("..");
          return parts
        }

        function filter (xs, f) {
          if (xs.filter) return xs.filter(f);
          for (var res = [], i = 0; i < xs.length; i++) f(xs[i], i, xs) && res.push(xs[i]);
          return res
        }

        var splitPathRe = /^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,
          splitPath = function (filename) {
            return splitPathRe.exec(filename).slice(1)
          };
        exports.resolve = function () {
          for (var resolvedPath = "", resolvedAbsolute = !1, i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {
            var path = i >= 0 ? arguments[i] : process.cwd();
            if ("string" != typeof path) throw new TypeError("Arguments to path.resolve must be strings");
            path && (resolvedPath = path + "/" + resolvedPath, resolvedAbsolute = "/" === path.charAt(0))
          }
          return resolvedPath = normalizeArray(filter(resolvedPath.split("/"), function (p) {
            return !!p
          }), !resolvedAbsolute).join("/"), (resolvedAbsolute ? "/" : "") + resolvedPath || "."
        }, exports.normalize = function (path) {
          var isAbsolute = exports.isAbsolute(path), trailingSlash = "/" === substr(path, -1);
          return path = normalizeArray(filter(path.split("/"), function (p) {
            return !!p
          }), !isAbsolute).join("/"), path || isAbsolute || (path = "."), path && trailingSlash && (path += "/"), (isAbsolute ? "/" : "") + path
        }, exports.isAbsolute = function (path) {
          return "/" === path.charAt(0)
        }, exports.join = function () {
          var paths = Array.prototype.slice.call(arguments, 0);
          return exports.normalize(filter(paths, function (p, index) {
            if ("string" != typeof p) throw new TypeError("Arguments to path.join must be strings");
            return p
          }).join("/"))
        }, exports.relative = function (from, to) {
          function trim (arr) {
            for (var start = 0; start < arr.length && "" === arr[start]; start++) ;
            for (var end = arr.length - 1; end >= 0 && "" === arr[end]; end--) ;
            return start > end ? [] : arr.slice(start, end - start + 1)
          }

          from = exports.resolve(from).substr(1), to = exports.resolve(to).substr(1);
          for (var fromParts = trim(from.split("/")), toParts = trim(to.split("/")), length = Math.min(fromParts.length, toParts.length), samePartsLength = length, i = 0; i < length; i++) if (fromParts[i] !== toParts[i]) {
            samePartsLength = i;
            break
          }
          for (var outputParts = [], i = samePartsLength; i < fromParts.length; i++) outputParts.push("..");
          return outputParts = outputParts.concat(toParts.slice(samePartsLength)), outputParts.join("/")
        }, exports.sep = "/", exports.delimiter = ":", exports.dirname = function (path) {
          var result = splitPath(path), root = result[0], dir = result[1];
          return root || dir ? (dir && (dir = dir.substr(0, dir.length - 1)), root + dir) : "."
        }, exports.basename = function (path, ext) {
          var f = splitPath(path)[2];
          return ext && f.substr(-1 * ext.length) === ext && (f = f.substr(0, f.length - ext.length)), f
        }, exports.extname = function (path) {
          return splitPath(path)[3]
        };
        var substr = "b" === "ab".substr(-1) ? function (str, start, len) {
          return str.substr(start, len)
        } : function (str, start, len) {
          return start < 0 && (start = str.length + start), str.substr(start, len)
        }
      }).call(this, require("_process"))
    }, {_process: 3}],
    3: [function (require, module, exports) {
      function cleanUpNextTick () {
        draining = !1, currentQueue.length ? queue = currentQueue.concat(queue) : queueIndex = -1, queue.length && drainQueue()
      }

      function drainQueue () {
        if (!draining) {
          var timeout = setTimeout(cleanUpNextTick);
          draining = !0;
          for (var len = queue.length; len;) {
            for (currentQueue = queue, queue = []; ++queueIndex < len;) currentQueue && currentQueue[queueIndex].run();
            queueIndex = -1, len = queue.length
          }
          currentQueue = null, draining = !1, clearTimeout(timeout)
        }
      }

      function Item (fun, array) {
        this.fun = fun, this.array = array
      }

      function noop () {
      }

      var currentQueue, process = module.exports = {}, queue = [], draining = !1, queueIndex = -1;
      process.nextTick = function (fun) {
        var args = new Array(arguments.length - 1);
        if (arguments.length > 1) for (var i = 1; i < arguments.length; i++) args[i - 1] = arguments[i];
        queue.push(new Item(fun, args)), 1 !== queue.length || draining || setTimeout(drainQueue, 0)
      }, Item.prototype.run = function () {
        this.fun.apply(null, this.array)
      }, process.title = "browser", process.browser = !0, process.env = {}, process.argv = [], process.version = "", process.versions = {}, process.on = noop, process.addListener = noop, process.once = noop, process.off = noop, process.removeListener = noop, process.removeAllListeners = noop, process.emit = noop, process.binding = function (name) {
        throw new Error("process.binding is not supported")
      }, process.cwd = function () {
        return "/"
      }, process.chdir = function (dir) {
        throw new Error("process.chdir is not supported")
      }, process.umask = function () {
        return 0
      }
    }, {}],
    4: [function (require, module, exports) {
      (function (global) {
        !function (root) {
          function error (type) {
            throw RangeError(errors[type])
          }

          function map (array, fn) {
            for (var length = array.length, result = []; length--;) result[length] = fn(array[length]);
            return result
          }

          function mapDomain (string, fn) {
            var parts = string.split("@"), result = "";
            parts.length > 1 && (result = parts[0] + "@", string = parts[1]), string = string.replace(regexSeparators, ".");
            var labels = string.split("."), encoded = map(labels, fn).join(".");
            return result + encoded
          }

          function ucs2decode (string) {
            for (var value, extra, output = [], counter = 0, length = string.length; counter < length;) value = string.charCodeAt(counter++), value >= 55296 && value <= 56319 && counter < length ? (extra = string.charCodeAt(counter++), 56320 == (64512 & extra) ? output.push(((1023 & value) << 10) + (1023 & extra) + 65536) : (output.push(value), counter--)) : output.push(value);
            return output
          }

          function ucs2encode (array) {
            return map(array, function (value) {
              var output = "";
              return value > 65535 && (value -= 65536, output += stringFromCharCode(value >>> 10 & 1023 | 55296), value = 56320 | 1023 & value), output += stringFromCharCode(value)
            }).join("")
          }

          function basicToDigit (codePoint) {
            return codePoint - 48 < 10 ? codePoint - 22 : codePoint - 65 < 26 ? codePoint - 65 : codePoint - 97 < 26 ? codePoint - 97 : base
          }

          function digitToBasic (digit, flag) {
            return digit + 22 + 75 * (digit < 26) - ((0 != flag) << 5)
          }

          function adapt (delta, numPoints, firstTime) {
            var k = 0;
            for (delta = firstTime ? floor(delta / damp) : delta >> 1, delta += floor(delta / numPoints); delta > baseMinusTMin * tMax >> 1; k += base) delta = floor(delta / baseMinusTMin);
            return floor(k + (baseMinusTMin + 1) * delta / (delta + skew))
          }

          function decode (input) {
            var out, basic, j, index, oldi, w, k, digit, t, baseMinusT, output = [], inputLength = input.length, i = 0,
              n = initialN, bias = initialBias;
            for (basic = input.lastIndexOf(delimiter), basic < 0 && (basic = 0), j = 0; j < basic; ++j) input.charCodeAt(j) >= 128 && error("not-basic"), output.push(input.charCodeAt(j));
            for (index = basic > 0 ? basic + 1 : 0; index < inputLength;) {
              for (oldi = i, w = 1, k = base; index >= inputLength && error("invalid-input"), digit = basicToDigit(input.charCodeAt(index++)), (digit >= base || digit > floor((maxInt - i) / w)) && error("overflow"), i += digit * w, t = k <= bias ? tMin : k >= bias + tMax ? tMax : k - bias, !(digit < t); k += base) baseMinusT = base - t, w > floor(maxInt / baseMinusT) && error("overflow"), w *= baseMinusT;
              out = output.length + 1, bias = adapt(i - oldi, out, 0 == oldi), floor(i / out) > maxInt - n && error("overflow"), n += floor(i / out), i %= out, output.splice(i++, 0, n)
            }
            return ucs2encode(output)
          }

          function encode (input) {
            var n, delta, handledCPCount, basicLength, bias, j, m, q, k, t, currentValue, inputLength,
              handledCPCountPlusOne, baseMinusT, qMinusT, output = [];
            for (input = ucs2decode(input), inputLength = input.length, n = initialN, delta = 0, bias = initialBias, j = 0; j < inputLength; ++j) currentValue = input[j], currentValue < 128 && output.push(stringFromCharCode(currentValue));
            for (handledCPCount = basicLength = output.length, basicLength && output.push(delimiter); handledCPCount < inputLength;) {
              for (m = maxInt, j = 0; j < inputLength; ++j) currentValue = input[j], currentValue >= n && currentValue < m && (m = currentValue);
              for (handledCPCountPlusOne = handledCPCount + 1, m - n > floor((maxInt - delta) / handledCPCountPlusOne) && error("overflow"), delta += (m - n) * handledCPCountPlusOne, n = m, j = 0; j < inputLength; ++j) if (currentValue = input[j], currentValue < n && ++delta > maxInt && error("overflow"), currentValue == n) {
                for (q = delta, k = base; t = k <= bias ? tMin : k >= bias + tMax ? tMax : k - bias, !(q < t); k += base) qMinusT = q - t, baseMinusT = base - t, output.push(stringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))), q = floor(qMinusT / baseMinusT);
                output.push(stringFromCharCode(digitToBasic(q, 0))), bias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength), delta = 0, ++handledCPCount
              }
              ++delta, ++n
            }
            return output.join("")
          }

          function toUnicode (input) {
            return mapDomain(input, function (string) {
              return regexPunycode.test(string) ? decode(string.slice(4).toLowerCase()) : string
            })
          }

          function toASCII (input) {
            return mapDomain(input, function (string) {
              return regexNonASCII.test(string) ? "xn--" + encode(string) : string
            })
          }

          var freeExports = "object" == typeof exports && exports && !exports.nodeType && exports,
            freeModule = "object" == typeof module && module && !module.nodeType && module,
            freeGlobal = "object" == typeof global && global;
          freeGlobal.global !== freeGlobal && freeGlobal.window !== freeGlobal && freeGlobal.self !== freeGlobal || (root = freeGlobal);
          var punycode, key, maxInt = 2147483647, base = 36, tMin = 1, tMax = 26, skew = 38, damp = 700,
            initialBias = 72, initialN = 128, delimiter = "-", regexPunycode = /^xn--/, regexNonASCII = /[^\x20-\x7E]/,
            regexSeparators = /[\x2E\u3002\uFF0E\uFF61]/g, errors = {
              overflow: "Overflow: input needs wider integers to process",
              "not-basic": "Illegal input >= 0x80 (not a basic code point)",
              "invalid-input": "Invalid input"
            }, baseMinusTMin = base - tMin, floor = Math.floor, stringFromCharCode = String.fromCharCode;
          if (punycode = {
            version: "1.3.2",
            ucs2: {decode: ucs2decode, encode: ucs2encode},
            decode: decode,
            encode: encode,
            toASCII: toASCII,
            toUnicode: toUnicode
          }, "function" == typeof define && "object" == typeof define.amd && define.amd) define("punycode", function () {
            return punycode
          }); else if (freeExports && freeModule) if (module.exports == freeExports) freeModule.exports = punycode; else for (key in punycode) punycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]); else root.punycode = punycode
        }(this)
      }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
    }, {}],
    5: [function (require, module, exports) {
      "use strict";

      function hasOwnProperty (obj, prop) {
        return Object.prototype.hasOwnProperty.call(obj, prop)
      }

      module.exports = function (qs, sep, eq, options) {
        sep = sep || "&", eq = eq || "=";
        var obj = {};
        if ("string" != typeof qs || 0 === qs.length) return obj;
        var regexp = /\+/g;
        qs = qs.split(sep);
        var maxKeys = 1e3;
        options && "number" == typeof options.maxKeys && (maxKeys = options.maxKeys);
        var len = qs.length;
        maxKeys > 0 && len > maxKeys && (len = maxKeys);
        for (var i = 0; i < len; ++i) {
          var kstr, vstr, k, v, x = qs[i].replace(regexp, "%20"), idx = x.indexOf(eq);
          idx >= 0 ? (kstr = x.substr(0, idx), vstr = x.substr(idx + 1)) : (kstr = x, vstr = ""), k = decodeURIComponent(kstr), v = decodeURIComponent(vstr), hasOwnProperty(obj, k) ? isArray(obj[k]) ? obj[k].push(v) : obj[k] = [obj[k], v] : obj[k] = v
        }
        return obj
      };
      var isArray = Array.isArray || function (xs) {
        return "[object Array]" === Object.prototype.toString.call(xs)
      }
    }, {}],
    6: [function (require, module, exports) {
      "use strict";

      function map (xs, f) {
        if (xs.map) return xs.map(f);
        for (var res = [], i = 0; i < xs.length; i++) res.push(f(xs[i], i));
        return res
      }

      var stringifyPrimitive = function (v) {
        switch (typeof v) {
          case"string":
            return v;
          case"boolean":
            return v ? "true" : "false";
          case"number":
            return isFinite(v) ? v : "";
          default:
            return ""
        }
      };
      module.exports = function (obj, sep, eq, name) {
        return sep = sep || "&", eq = eq || "=", null === obj && (obj = void 0), "object" == typeof obj ? map(objectKeys(obj), function (k) {
          var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;
          return isArray(obj[k]) ? map(obj[k], function (v) {
            return ks + encodeURIComponent(stringifyPrimitive(v))
          }).join(sep) : ks + encodeURIComponent(stringifyPrimitive(obj[k]))
        }).join(sep) : name ? encodeURIComponent(stringifyPrimitive(name)) + eq + encodeURIComponent(stringifyPrimitive(obj)) : ""
      };
      var isArray = Array.isArray || function (xs) {
        return "[object Array]" === Object.prototype.toString.call(xs)
      }, objectKeys = Object.keys || function (obj) {
        var res = [];
        for (var key in obj) Object.prototype.hasOwnProperty.call(obj, key) && res.push(key);
        return res
      }
    }, {}],
    7: [function (require, module, exports) {
      "use strict";
      exports.decode = exports.parse = require("./decode"), exports.encode = exports.stringify = require("./encode")
    }, {"./decode": 5, "./encode": 6}],
    8: [function (require, module, exports) {
      function Url () {
        this.protocol = null, this.slashes = null, this.auth = null, this.host = null, this.port = null, this.hostname = null, this.hash = null, this.search = null, this.query = null, this.pathname = null, this.path = null, this.href = null
      }

      function urlParse (url, parseQueryString, slashesDenoteHost) {
        if (url && isObject(url) && url instanceof Url) return url;
        var u = new Url;
        return u.parse(url, parseQueryString, slashesDenoteHost), u
      }

      function urlFormat (obj) {
        return isString(obj) && (obj = urlParse(obj)), obj instanceof Url ? obj.format() : Url.prototype.format.call(obj)
      }

      function urlResolve (source, relative) {
        return urlParse(source, !1, !0).resolve(relative)
      }

      function urlResolveObject (source, relative) {
        return source ? urlParse(source, !1, !0).resolveObject(relative) : relative
      }

      function isString (arg) {
        return "string" == typeof arg
      }

      function isObject (arg) {
        return "object" == typeof arg && null !== arg
      }

      function isNull (arg) {
        return null === arg
      }

      function isNullOrUndefined (arg) {
        return null == arg
      }

      var punycode = require("punycode");
      exports.parse = urlParse, exports.resolve = urlResolve, exports.resolveObject = urlResolveObject, exports.format = urlFormat, exports.Url = Url;
      var protocolPattern = /^([a-z0-9.+-]+:)/i, portPattern = /:[0-9]*$/,
        delims = ["<", ">", '"', "`", " ", "\r", "\n", "\t"], unwise = ["{", "}", "|", "\\", "^", "`"].concat(delims),
        autoEscape = ["'"].concat(unwise), nonHostChars = ["%", "/", "?", ";", "#"].concat(autoEscape),
        hostEndingChars = ["/", "?", "#"], hostnameMaxLen = 255, hostnamePartPattern = /^[a-z0-9A-Z_-]{0,63}$/,
        hostnamePartStart = /^([a-z0-9A-Z_-]{0,63})(.*)$/, unsafeProtocol = {javascript: !0, "javascript:": !0},
        hostlessProtocol = {javascript: !0, "javascript:": !0}, slashedProtocol = {
          http: !0,
          https: !0,
          ftp: !0,
          gopher: !0,
          file: !0,
          "http:": !0,
          "https:": !0,
          "ftp:": !0,
          "gopher:": !0,
          "file:": !0
        }, querystring = require("querystring");
      Url.prototype.parse = function (url, parseQueryString, slashesDenoteHost) {
        if (!isString(url)) throw new TypeError("Parameter 'url' must be a string, not " + typeof url);
        var rest = url;
        rest = rest.trim();
        var proto = protocolPattern.exec(rest);
        if (proto) {
          proto = proto[0];
          var lowerProto = proto.toLowerCase();
          this.protocol = lowerProto, rest = rest.substr(proto.length)
        }
        if (slashesDenoteHost || proto || rest.match(/^\/\/[^@\/]+@[^@\/]+/)) {
          var slashes = "//" === rest.substr(0, 2);
          !slashes || proto && hostlessProtocol[proto] || (rest = rest.substr(2), this.slashes = !0)
        }
        if (!hostlessProtocol[proto] && (slashes || proto && !slashedProtocol[proto])) {
          for (var hostEnd = -1, i = 0; i < hostEndingChars.length; i++) {
            var hec = rest.indexOf(hostEndingChars[i]);
            hec !== -1 && (hostEnd === -1 || hec < hostEnd) && (hostEnd = hec)
          }
          var auth, atSign;
          atSign = hostEnd === -1 ? rest.lastIndexOf("@") : rest.lastIndexOf("@", hostEnd), atSign !== -1 && (auth = rest.slice(0, atSign), rest = rest.slice(atSign + 1), this.auth = decodeURIComponent(auth)), hostEnd = -1;
          for (var i = 0; i < nonHostChars.length; i++) {
            var hec = rest.indexOf(nonHostChars[i]);
            hec !== -1 && (hostEnd === -1 || hec < hostEnd) && (hostEnd = hec)
          }
          hostEnd === -1 && (hostEnd = rest.length), this.host = rest.slice(0, hostEnd), rest = rest.slice(hostEnd), this.parseHost(), this.hostname = this.hostname || "";
          var ipv6Hostname = "[" === this.hostname[0] && "]" === this.hostname[this.hostname.length - 1];
          if (!ipv6Hostname) for (var hostparts = this.hostname.split(/\./), i = 0, l = hostparts.length; i < l; i++) {
            var part = hostparts[i];
            if (part && !part.match(hostnamePartPattern)) {
              for (var newpart = "", j = 0, k = part.length; j < k; j++) newpart += part.charCodeAt(j) > 127 ? "x" : part[j];
              if (!newpart.match(hostnamePartPattern)) {
                var validParts = hostparts.slice(0, i), notHost = hostparts.slice(i + 1),
                  bit = part.match(hostnamePartStart);
                bit && (validParts.push(bit[1]), notHost.unshift(bit[2])), notHost.length && (rest = "/" + notHost.join(".") + rest), this.hostname = validParts.join(".");
                break
              }
            }
          }
          if (this.hostname.length > hostnameMaxLen ? this.hostname = "" : this.hostname = this.hostname.toLowerCase(), !ipv6Hostname) {
            for (var domainArray = this.hostname.split("."), newOut = [], i = 0; i < domainArray.length; ++i) {
              var s = domainArray[i];
              newOut.push(s.match(/[^A-Za-z0-9_-]/) ? "xn--" + punycode.encode(s) : s)
            }
            this.hostname = newOut.join(".")
          }
          var p = this.port ? ":" + this.port : "", h = this.hostname || "";
          this.host = h + p, this.href += this.host, ipv6Hostname && (this.hostname = this.hostname.substr(1, this.hostname.length - 2), "/" !== rest[0] && (rest = "/" + rest))
        }
        if (!unsafeProtocol[lowerProto]) for (var i = 0, l = autoEscape.length; i < l; i++) {
          var ae = autoEscape[i], esc = encodeURIComponent(ae);
          esc === ae && (esc = escape(ae)), rest = rest.split(ae).join(esc)
        }
        var hash = rest.indexOf("#");
        hash !== -1 && (this.hash = rest.substr(hash), rest = rest.slice(0, hash));
        var qm = rest.indexOf("?");
        if (qm !== -1 ? (this.search = rest.substr(qm), this.query = rest.substr(qm + 1), parseQueryString && (this.query = querystring.parse(this.query)), rest = rest.slice(0, qm)) : parseQueryString && (this.search = "", this.query = {}), rest && (this.pathname = rest), slashedProtocol[lowerProto] && this.hostname && !this.pathname && (this.pathname = "/"), this.pathname || this.search) {
          var p = this.pathname || "", s = this.search || "";
          this.path = p + s
        }
        return this.href = this.format(), this
      }, Url.prototype.format = function () {
        var auth = this.auth || "";
        auth && (auth = encodeURIComponent(auth), auth = auth.replace(/%3A/i, ":"), auth += "@");
        var protocol = this.protocol || "", pathname = this.pathname || "", hash = this.hash || "", host = !1,
          query = "";
        this.host ? host = auth + this.host : this.hostname && (host = auth + (this.hostname.indexOf(":") === -1 ? this.hostname : "[" + this.hostname + "]"), this.port && (host += ":" + this.port)), this.query && isObject(this.query) && Object.keys(this.query).length && (query = querystring.stringify(this.query));
        var search = this.search || query && "?" + query || "";
        return protocol && ":" !== protocol.substr(-1) && (protocol += ":"), this.slashes || (!protocol || slashedProtocol[protocol]) && host !== !1 ? (host = "//" + (host || ""), pathname && "/" !== pathname.charAt(0) && (pathname = "/" + pathname)) : host || (host = ""), hash && "#" !== hash.charAt(0) && (hash = "#" + hash), search && "?" !== search.charAt(0) && (search = "?" + search), pathname = pathname.replace(/[?#]/g, function (match) {
          return encodeURIComponent(match)
        }), search = search.replace("#", "%23"), protocol + host + pathname + search + hash
      }, Url.prototype.resolve = function (relative) {
        return this.resolveObject(urlParse(relative, !1, !0)).format()
      }, Url.prototype.resolveObject = function (relative) {
        if (isString(relative)) {
          var rel = new Url;
          rel.parse(relative, !1, !0), relative = rel
        }
        var result = new Url;
        if (Object.keys(this).forEach(function (k) {
          result[k] = this[k]
        }, this), result.hash = relative.hash, "" === relative.href) return result.href = result.format(), result;
        if (relative.slashes && !relative.protocol) return Object.keys(relative).forEach(function (k) {
          "protocol" !== k && (result[k] = relative[k])
        }), slashedProtocol[result.protocol] && result.hostname && !result.pathname && (result.path = result.pathname = "/"), result.href = result.format(), result;
        if (relative.protocol && relative.protocol !== result.protocol) {
          if (!slashedProtocol[relative.protocol]) return Object.keys(relative).forEach(function (k) {
            result[k] = relative[k]
          }), result.href = result.format(), result;
          if (result.protocol = relative.protocol, relative.host || hostlessProtocol[relative.protocol]) result.pathname = relative.pathname; else {
            for (var relPath = (relative.pathname || "").split("/"); relPath.length && !(relative.host = relPath.shift());) ;
            relative.host || (relative.host = ""), relative.hostname || (relative.hostname = ""), "" !== relPath[0] && relPath.unshift(""), relPath.length < 2 && relPath.unshift(""), result.pathname = relPath.join("/")
          }
          if (result.search = relative.search, result.query = relative.query, result.host = relative.host || "", result.auth = relative.auth, result.hostname = relative.hostname || relative.host, result.port = relative.port, result.pathname || result.search) {
            var p = result.pathname || "", s = result.search || "";
            result.path = p + s
          }
          return result.slashes = result.slashes || relative.slashes, result.href = result.format(), result
        }
        var isSourceAbs = result.pathname && "/" === result.pathname.charAt(0),
          isRelAbs = relative.host || relative.pathname && "/" === relative.pathname.charAt(0),
          mustEndAbs = isRelAbs || isSourceAbs || result.host && relative.pathname, removeAllDots = mustEndAbs,
          srcPath = result.pathname && result.pathname.split("/") || [],
          relPath = relative.pathname && relative.pathname.split("/") || [],
          psychotic = result.protocol && !slashedProtocol[result.protocol];
        if (psychotic && (result.hostname = "", result.port = null, result.host && ("" === srcPath[0] ? srcPath[0] = result.host : srcPath.unshift(result.host)), result.host = "", relative.protocol && (relative.hostname = null, relative.port = null, relative.host && ("" === relPath[0] ? relPath[0] = relative.host : relPath.unshift(relative.host)), relative.host = null), mustEndAbs = mustEndAbs && ("" === relPath[0] || "" === srcPath[0])), isRelAbs) result.host = relative.host || "" === relative.host ? relative.host : result.host, result.hostname = relative.hostname || "" === relative.hostname ? relative.hostname : result.hostname, result.search = relative.search, result.query = relative.query, srcPath = relPath; else if (relPath.length) srcPath || (srcPath = []), srcPath.pop(), srcPath = srcPath.concat(relPath), result.search = relative.search, result.query = relative.query; else if (!isNullOrUndefined(relative.search)) {
          if (psychotic) {
            result.hostname = result.host = srcPath.shift();
            var authInHost = !!(result.host && result.host.indexOf("@") > 0) && result.host.split("@");
            authInHost && (result.auth = authInHost.shift(), result.host = result.hostname = authInHost.shift())
          }
          return result.search = relative.search, result.query = relative.query, isNull(result.pathname) && isNull(result.search) || (result.path = (result.pathname ? result.pathname : "") + (result.search ? result.search : "")), result.href = result.format(), result
        }
        if (!srcPath.length) return result.pathname = null, result.search ? result.path = "/" + result.search : result.path = null, result.href = result.format(), result;
        for (var last = srcPath.slice(-1)[0], hasTrailingSlash = (result.host || relative.host) && ("." === last || ".." === last) || "" === last, up = 0, i = srcPath.length; i >= 0; i--) last = srcPath[i], "." == last ? srcPath.splice(i, 1) : ".." === last ? (srcPath.splice(i, 1), up++) : up && (srcPath.splice(i, 1), up--);
        if (!mustEndAbs && !removeAllDots) for (; up--; up) srcPath.unshift("..");
        !mustEndAbs || "" === srcPath[0] || srcPath[0] && "/" === srcPath[0].charAt(0) || srcPath.unshift(""), hasTrailingSlash && "/" !== srcPath.join("/").substr(-1) && srcPath.push("");
        var isAbsolute = "" === srcPath[0] || srcPath[0] && "/" === srcPath[0].charAt(0);
        if (psychotic) {
          result.hostname = result.host = isAbsolute ? "" : srcPath.length ? srcPath.shift() : "";
          var authInHost = !!(result.host && result.host.indexOf("@") > 0) && result.host.split("@");
          authInHost && (result.auth = authInHost.shift(), result.host = result.hostname = authInHost.shift())
        }
        return mustEndAbs = mustEndAbs || result.host && srcPath.length, mustEndAbs && !isAbsolute && srcPath.unshift(""), srcPath.length ? result.pathname = srcPath.join("/") : (result.pathname = null, result.path = null), isNull(result.pathname) && isNull(result.search) || (result.path = (result.pathname ? result.pathname : "") + (result.search ? result.search : "")), result.auth = relative.auth || result.auth, result.slashes = result.slashes || relative.slashes, result.href = result.format(), result
      }, Url.prototype.parseHost = function () {
        var host = this.host, port = portPattern.exec(host);
        port && (port = port[0], ":" !== port && (this.port = port.substr(1)), host = host.substr(0, host.length - port.length)), host && (this.hostname = host)
      }
    }, {punycode: 4, querystring: 7}],
    9: [function (require, module, exports) {
      "use strict";

      function earcut (data, holeIndices, dim) {
        dim = dim || 2;
        var hasHoles = holeIndices && holeIndices.length, outerLen = hasHoles ? holeIndices[0] * dim : data.length,
          outerNode = filterPoints(linkedList(data, 0, outerLen, dim, !0)), triangles = [];
        if (!outerNode) return triangles;
        var minX, minY, maxX, maxY, x, y, size;
        if (hasHoles && (outerNode = eliminateHoles(data, holeIndices, outerNode, dim)), data.length > 80 * dim) {
          minX = maxX = data[0], minY = maxY = data[1];
          for (var i = dim; i < outerLen; i += dim) x = data[i], y = data[i + 1], x < minX && (minX = x), y < minY && (minY = y), x > maxX && (maxX = x), y > maxY && (maxY = y);
          size = Math.max(maxX - minX, maxY - minY)
        }
        return earcutLinked(outerNode, triangles, dim, minX, minY, size), triangles
      }

      function linkedList (data, start, end, dim, clockwise) {
        var i, j, last, sum = 0;
        for (i = start, j = end - dim; i < end; i += dim) sum += (data[j] - data[i]) * (data[i + 1] + data[j + 1]), j = i;
        if (clockwise === sum > 0) for (i = start; i < end; i += dim) last = insertNode(i, data[i], data[i + 1], last); else for (i = end - dim; i >= start; i -= dim) last = insertNode(i, data[i], data[i + 1], last);
        return last
      }

      function filterPoints (start, end) {
        if (!start) return start;
        end || (end = start);
        var again, p = start;
        do if (again = !1, p.steiner || !equals(p, p.next) && 0 !== area(p.prev, p, p.next)) p = p.next; else {
          if (removeNode(p), p = end = p.prev, p === p.next) return null;
          again = !0
        } while (again || p !== end);
        return end
      }

      function earcutLinked (ear, triangles, dim, minX, minY, size, pass) {
        if (ear) {
          !pass && size && indexCurve(ear, minX, minY, size);
          for (var prev, next, stop = ear; ear.prev !== ear.next;) if (prev = ear.prev, next = ear.next, size ? isEarHashed(ear, minX, minY, size) : isEar(ear)) triangles.push(prev.i / dim), triangles.push(ear.i / dim), triangles.push(next.i / dim), removeNode(ear), ear = next.next, stop = next.next; else if (ear = next, ear === stop) {
            pass ? 1 === pass ? (ear = cureLocalIntersections(ear, triangles, dim), earcutLinked(ear, triangles, dim, minX, minY, size, 2)) : 2 === pass && splitEarcut(ear, triangles, dim, minX, minY, size) : earcutLinked(filterPoints(ear), triangles, dim, minX, minY, size, 1);
            break
          }
        }
      }

      function isEar (ear) {
        var a = ear.prev, b = ear, c = ear.next;
        if (area(a, b, c) >= 0) return !1;
        for (var p = ear.next.next; p !== ear.prev;) {
          if (pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) && area(p.prev, p, p.next) >= 0) return !1;
          p = p.next
        }
        return !0
      }

      function isEarHashed (ear, minX, minY, size) {
        var a = ear.prev, b = ear, c = ear.next;
        if (area(a, b, c) >= 0) return !1;
        for (var minTX = a.x < b.x ? a.x < c.x ? a.x : c.x : b.x < c.x ? b.x : c.x, minTY = a.y < b.y ? a.y < c.y ? a.y : c.y : b.y < c.y ? b.y : c.y, maxTX = a.x > b.x ? a.x > c.x ? a.x : c.x : b.x > c.x ? b.x : c.x, maxTY = a.y > b.y ? a.y > c.y ? a.y : c.y : b.y > c.y ? b.y : c.y, minZ = zOrder(minTX, minTY, minX, minY, size), maxZ = zOrder(maxTX, maxTY, minX, minY, size), p = ear.nextZ; p && p.z <= maxZ;) {
          if (p !== ear.prev && p !== ear.next && pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) && area(p.prev, p, p.next) >= 0) return !1;
          p = p.nextZ
        }
        for (p = ear.prevZ; p && p.z >= minZ;) {
          if (p !== ear.prev && p !== ear.next && pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) && area(p.prev, p, p.next) >= 0) return !1;
          p = p.prevZ
        }
        return !0
      }

      function cureLocalIntersections (start, triangles, dim) {
        var p = start;
        do {
          var a = p.prev, b = p.next.next;
          intersects(a, p, p.next, b) && locallyInside(a, b) && locallyInside(b, a) && (triangles.push(a.i / dim), triangles.push(p.i / dim), triangles.push(b.i / dim), removeNode(p), removeNode(p.next), p = start = b), p = p.next
        } while (p !== start);
        return p
      }

      function splitEarcut (start, triangles, dim, minX, minY, size) {
        var a = start;
        do {
          for (var b = a.next.next; b !== a.prev;) {
            if (a.i !== b.i && isValidDiagonal(a, b)) {
              var c = splitPolygon(a, b);
              return a = filterPoints(a, a.next), c = filterPoints(c, c.next), earcutLinked(a, triangles, dim, minX, minY, size), void earcutLinked(c, triangles, dim, minX, minY, size)
            }
            b = b.next
          }
          a = a.next
        } while (a !== start)
      }

      function eliminateHoles (data, holeIndices, outerNode, dim) {
        var i, len, start, end, list, queue = [];
        for (i = 0, len = holeIndices.length; i < len; i++) start = holeIndices[i] * dim, end = i < len - 1 ? holeIndices[i + 1] * dim : data.length, list = linkedList(data, start, end, dim, !1), list === list.next && (list.steiner = !0), list = filterPoints(list), list && queue.push(getLeftmost(list));
        for (queue.sort(compareX), i = 0; i < queue.length; i++) eliminateHole(queue[i], outerNode), outerNode = filterPoints(outerNode, outerNode.next);
        return outerNode
      }

      function compareX (a, b) {
        return a.x - b.x
      }

      function eliminateHole (hole, outerNode) {
        if (outerNode = findHoleBridge(hole, outerNode)) {
          var b = splitPolygon(outerNode, hole);
          filterPoints(b, b.next)
        }
      }

      function findHoleBridge (hole, outerNode) {
        var m, p = outerNode, hx = hole.x, hy = hole.y, qx = -(1 / 0);
        do {
          if (hy <= p.y && hy >= p.next.y) {
            var x = p.x + (hy - p.y) * (p.next.x - p.x) / (p.next.y - p.y);
            x <= hx && x > qx && (qx = x, m = p.x < p.next.x ? p : p.next)
          }
          p = p.next
        } while (p !== outerNode);
        if (!m) return null;
        var tan, stop = m, tanMin = 1 / 0;
        for (p = m.next; p !== stop;) hx >= p.x && p.x >= m.x && pointInTriangle(hy < m.y ? hx : qx, hy, m.x, m.y, hy < m.y ? qx : hx, hy, p.x, p.y) && (tan = Math.abs(hy - p.y) / (hx - p.x), (tan < tanMin || tan === tanMin && p.x > m.x) && locallyInside(p, hole) && (m = p, tanMin = tan)), p = p.next;
        return m
      }

      function indexCurve (start, minX, minY, size) {
        var p = start;
        do null === p.z && (p.z = zOrder(p.x, p.y, minX, minY, size)), p.prevZ = p.prev, p.nextZ = p.next, p = p.next; while (p !== start);
        p.prevZ.nextZ = null, p.prevZ = null, sortLinked(p)
      }

      function sortLinked (list) {
        var i, p, q, e, tail, numMerges, pSize, qSize, inSize = 1;
        do {
          for (p = list, list = null, tail = null, numMerges = 0; p;) {
            for (numMerges++, q = p, pSize = 0, i = 0; i < inSize && (pSize++, q = q.nextZ, q); i++) ;
            for (qSize = inSize; pSize > 0 || qSize > 0 && q;) 0 === pSize ? (e = q, q = q.nextZ, qSize--) : 0 !== qSize && q ? p.z <= q.z ? (e = p, p = p.nextZ, pSize--) : (e = q, q = q.nextZ, qSize--) : (e = p, p = p.nextZ, pSize--), tail ? tail.nextZ = e : list = e, e.prevZ = tail, tail = e;
            p = q
          }
          tail.nextZ = null, inSize *= 2
        } while (numMerges > 1);
        return list
      }

      function zOrder (x, y, minX, minY, size) {
        return x = 32767 * (x - minX) / size, y = 32767 * (y - minY) / size, x = 16711935 & (x | x << 8), x = 252645135 & (x | x << 4), x = 858993459 & (x | x << 2), x = 1431655765 & (x | x << 1), y = 16711935 & (y | y << 8), y = 252645135 & (y | y << 4), y = 858993459 & (y | y << 2), y = 1431655765 & (y | y << 1), x | y << 1
      }

      function getLeftmost (start) {
        var p = start, leftmost = start;
        do p.x < leftmost.x && (leftmost = p), p = p.next; while (p !== start);
        return leftmost
      }

      function pointInTriangle (ax, ay, bx, by, cx, cy, px, py) {
        return (cx - px) * (ay - py) - (ax - px) * (cy - py) >= 0 && (ax - px) * (by - py) - (bx - px) * (ay - py) >= 0 && (bx - px) * (cy - py) - (cx - px) * (by - py) >= 0
      }

      function isValidDiagonal (a, b) {
        return equals(a, b) || a.next.i !== b.i && a.prev.i !== b.i && !intersectsPolygon(a, b) && locallyInside(a, b) && locallyInside(b, a) && middleInside(a, b)
      }

      function area (p, q, r) {
        return (q.y - p.y) * (r.x - q.x) - (q.x - p.x) * (r.y - q.y)
      }

      function equals (p1, p2) {
        return p1.x === p2.x && p1.y === p2.y
      }

      function intersects (p1, q1, p2, q2) {
        return area(p1, q1, p2) > 0 != area(p1, q1, q2) > 0 && area(p2, q2, p1) > 0 != area(p2, q2, q1) > 0
      }

      function intersectsPolygon (a, b) {
        var p = a;
        do {
          if (p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i && intersects(p, p.next, a, b)) return !0;
          p = p.next
        } while (p !== a);
        return !1
      }

      function locallyInside (a, b) {
        return area(a.prev, a, a.next) < 0 ? area(a, b, a.next) >= 0 && area(a, a.prev, b) >= 0 : area(a, b, a.prev) < 0 || area(a, a.next, b) < 0
      }

      function middleInside (a, b) {
        var p = a, inside = !1, px = (a.x + b.x) / 2, py = (a.y + b.y) / 2;
        do p.y > py != p.next.y > py && px < (p.next.x - p.x) * (py - p.y) / (p.next.y - p.y) + p.x && (inside = !inside), p = p.next; while (p !== a);
        return inside
      }

      function splitPolygon (a, b) {
        var a2 = new Node(a.i, a.x, a.y), b2 = new Node(b.i, b.x, b.y), an = a.next, bp = b.prev;
        return a.next = b, b.prev = a, a2.next = an, an.prev = a2, b2.next = a2, a2.prev = b2, bp.next = b2, b2.prev = bp, b2
      }

      function insertNode (i, x, y, last) {
        var p = new Node(i, x, y);
        return last ? (p.next = last.next, p.prev = last, last.next.prev = p, last.next = p) : (p.prev = p, p.next = p), p
      }

      function removeNode (p) {
        p.next.prev = p.prev, p.prev.next = p.next, p.prevZ && (p.prevZ.nextZ = p.nextZ), p.nextZ && (p.nextZ.prevZ = p.prevZ)
      }

      function Node (i, x, y) {
        this.i = i, this.x = x, this.y = y, this.prev = null, this.next = null, this.z = null, this.prevZ = null, this.nextZ = null, this.steiner = !1
      }

      module.exports = earcut
    }, {}],
    10: [function (require, module, exports) {
      "use strict";

      function EE (fn, context, once) {
        this.fn = fn, this.context = context, this.once = once || !1
      }

      function EventEmitter () {
      }

      var prefix = "function" != typeof Object.create && "~";
      EventEmitter.prototype._events = void 0, EventEmitter.prototype.listeners = function (event, exists) {
        var evt = prefix ? prefix + event : event, available = this._events && this._events[evt];
        if (exists) return !!available;
        if (!available) return [];
        if (available.fn) return [available.fn];
        for (var i = 0, l = available.length, ee = new Array(l); i < l; i++) ee[i] = available[i].fn;
        return ee
      }, EventEmitter.prototype.emit = function (event, a1, a2, a3, a4, a5) {
        var evt = prefix ? prefix + event : event;
        if (!this._events || !this._events[evt]) return !1;
        var args, i, listeners = this._events[evt], len = arguments.length;
        if ("function" == typeof listeners.fn) {
          switch (listeners.once && this.removeListener(event, listeners.fn, void 0, !0), len) {
            case 1:
              return listeners.fn.call(listeners.context), !0;
            case 2:
              return listeners.fn.call(listeners.context, a1), !0;
            case 3:
              return listeners.fn.call(listeners.context, a1, a2), !0;
            case 4:
              return listeners.fn.call(listeners.context, a1, a2, a3), !0;
            case 5:
              return listeners.fn.call(listeners.context, a1, a2, a3, a4), !0;
            case 6:
              return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), !0
          }
          for (i = 1, args = new Array(len - 1); i < len; i++) args[i - 1] = arguments[i];
          listeners.fn.apply(listeners.context, args)
        } else {
          var j, length = listeners.length;
          for (i = 0; i < length; i++) switch (listeners[i].once && this.removeListener(event, listeners[i].fn, void 0, !0), len) {
            case 1:
              listeners[i].fn.call(listeners[i].context);
              break;
            case 2:
              listeners[i].fn.call(listeners[i].context, a1);
              break;
            case 3:
              listeners[i].fn.call(listeners[i].context, a1, a2);
              break;
            default:
              if (!args) for (j = 1, args = new Array(len - 1); j < len; j++) args[j - 1] = arguments[j];
              listeners[i].fn.apply(listeners[i].context, args)
          }
        }
        return !0
      }, EventEmitter.prototype.on = function (event, fn, context) {
        var listener = new EE(fn, context || this), evt = prefix ? prefix + event : event;
        return this._events || (this._events = prefix ? {} : Object.create(null)), this._events[evt] ? this._events[evt].fn ? this._events[evt] = [this._events[evt], listener] : this._events[evt].push(listener) : this._events[evt] = listener, this
      }, EventEmitter.prototype.once = function (event, fn, context) {
        var listener = new EE(fn, context || this, !0), evt = prefix ? prefix + event : event;
        return this._events || (this._events = prefix ? {} : Object.create(null)), this._events[evt] ? this._events[evt].fn ? this._events[evt] = [this._events[evt], listener] : this._events[evt].push(listener) : this._events[evt] = listener, this
      }, EventEmitter.prototype.removeListener = function (event, fn, context, once) {
        var evt = prefix ? prefix + event : event;
        if (!this._events || !this._events[evt]) return this;
        var listeners = this._events[evt], events = [];
        if (fn) if (listeners.fn) (listeners.fn !== fn || once && !listeners.once || context && listeners.context !== context) && events.push(listeners); else for (var i = 0, length = listeners.length; i < length; i++) (listeners[i].fn !== fn || once && !listeners[i].once || context && listeners[i].context !== context) && events.push(listeners[i]);
        return events.length ? this._events[evt] = 1 === events.length ? events[0] : events : delete this._events[evt], this
      }, EventEmitter.prototype.removeAllListeners = function (event) {
        return this._events ? (event ? delete this._events[prefix ? prefix + event : event] : this._events = prefix ? {} : Object.create(null), this) : this
      }, EventEmitter.prototype.off = EventEmitter.prototype.removeListener, EventEmitter.prototype.addListener = EventEmitter.prototype.on, EventEmitter.prototype.setMaxListeners = function () {
        return this
      }, EventEmitter.prefixed = prefix, "undefined" != typeof module && (module.exports = EventEmitter)
    }, {}],
    11: [function (require, module, exports) {
      "use strict";

      function toObject (val) {
        if (null === val || void 0 === val) throw new TypeError("Object.assign cannot be called with null or undefined");
        return Object(val)
      }

      var hasOwnProperty = Object.prototype.hasOwnProperty, propIsEnumerable = Object.prototype.propertyIsEnumerable;
      module.exports = Object.assign || function (target, source) {
        for (var from, symbols, to = toObject(target), s = 1; s < arguments.length; s++) {
          from = Object(arguments[s]);
          for (var key in from) hasOwnProperty.call(from, key) && (to[key] = from[key]);
          if (Object.getOwnPropertySymbols) {
            symbols = Object.getOwnPropertySymbols(from);
            for (var i = 0; i < symbols.length; i++) propIsEnumerable.call(from, symbols[i]) && (to[symbols[i]] = from[symbols[i]])
          }
        }
        return to
      }
    }, {}],
    12: [function (require, module, exports) {
      (function (process) {
        !function () {
          function only_once (fn) {
            var called = !1;
            return function () {
              if (called) throw new Error("Callback was already called.");
              called = !0, fn.apply(root, arguments)
            }
          }

          var root, previous_async, async = {};
          root = this, null != root && (previous_async = root.async), async.noConflict = function () {
            return root.async = previous_async, async
          };
          var _toString = Object.prototype.toString, _isArray = Array.isArray || function (obj) {
            return "[object Array]" === _toString.call(obj)
          }, _each = function (arr, iterator) {
            for (var i = 0; i < arr.length; i += 1) iterator(arr[i], i, arr)
          }, _map = function (arr, iterator) {
            if (arr.map) return arr.map(iterator);
            var results = [];
            return _each(arr, function (x, i, a) {
              results.push(iterator(x, i, a))
            }), results
          }, _reduce = function (arr, iterator, memo) {
            return arr.reduce ? arr.reduce(iterator, memo) : (_each(arr, function (x, i, a) {
              memo = iterator(memo, x, i, a)
            }), memo)
          }, _keys = function (obj) {
            if (Object.keys) return Object.keys(obj);
            var keys = [];
            for (var k in obj) obj.hasOwnProperty(k) && keys.push(k);
            return keys
          };
          "undefined" != typeof process && process.nextTick ? (async.nextTick = process.nextTick, "undefined" != typeof setImmediate ? async.setImmediate = function (fn) {
            setImmediate(fn)
          } : async.setImmediate = async.nextTick) : "function" == typeof setImmediate ? (async.nextTick = function (fn) {
            setImmediate(fn)
          }, async.setImmediate = async.nextTick) : (async.nextTick = function (fn) {
            setTimeout(fn, 0)
          }, async.setImmediate = async.nextTick), async.each = function (arr, iterator, callback) {
            function done (err) {
              err ? (callback(err), callback = function () {
              }) : (completed += 1, completed >= arr.length && callback())
            }

            if (callback = callback || function () {
            }, !arr.length) return callback();
            var completed = 0;
            _each(arr, function (x) {
              iterator(x, only_once(done))
            })
          }, async.forEach = async.each, async.eachSeries = function (arr, iterator, callback) {
            if (callback = callback || function () {
            }, !arr.length) return callback();
            var completed = 0, iterate = function () {
              iterator(arr[completed], function (err) {
                err ? (callback(err), callback = function () {
                }) : (completed += 1, completed >= arr.length ? callback() : iterate())
              })
            };
            iterate()
          }, async.forEachSeries = async.eachSeries, async.eachLimit = function (arr, limit, iterator, callback) {
            var fn = _eachLimit(limit);
            fn.apply(null, [arr, iterator, callback])
          }, async.forEachLimit = async.eachLimit;
          var _eachLimit = function (limit) {
            return function (arr, iterator, callback) {
              if (callback = callback || function () {
              }, !arr.length || limit <= 0) return callback();
              var completed = 0, started = 0, running = 0;
              !function replenish () {
                if (completed >= arr.length) return callback();
                for (; running < limit && started < arr.length;) started += 1, running += 1, iterator(arr[started - 1], function (err) {
                  err ? (callback(err), callback = function () {
                  }) : (completed += 1, running -= 1, completed >= arr.length ? callback() : replenish())
                })
              }()
            }
          }, doParallel = function (fn) {
            return function () {
              var args = Array.prototype.slice.call(arguments);
              return fn.apply(null, [async.each].concat(args))
            }
          }, doParallelLimit = function (limit, fn) {
            return function () {
              var args = Array.prototype.slice.call(arguments);
              return fn.apply(null, [_eachLimit(limit)].concat(args))
            }
          }, doSeries = function (fn) {
            return function () {
              var args = Array.prototype.slice.call(arguments);
              return fn.apply(null, [async.eachSeries].concat(args))
            }
          }, _asyncMap = function (eachfn, arr, iterator, callback) {
            if (arr = _map(arr, function (x, i) {
              return {index: i, value: x}
            }), callback) {
              var results = [];
              eachfn(arr, function (x, callback) {
                iterator(x.value, function (err, v) {
                  results[x.index] = v, callback(err)
                })
              }, function (err) {
                callback(err, results)
              })
            } else eachfn(arr, function (x, callback) {
              iterator(x.value, function (err) {
                callback(err)
              })
            })
          };
          async.map = doParallel(_asyncMap), async.mapSeries = doSeries(_asyncMap), async.mapLimit = function (arr, limit, iterator, callback) {
            return _mapLimit(limit)(arr, iterator, callback)
          };
          var _mapLimit = function (limit) {
            return doParallelLimit(limit, _asyncMap)
          };
          async.reduce = function (arr, memo, iterator, callback) {
            async.eachSeries(arr, function (x, callback) {
              iterator(memo, x, function (err, v) {
                memo = v, callback(err)
              })
            }, function (err) {
              callback(err, memo)
            })
          }, async.inject = async.reduce, async.foldl = async.reduce, async.reduceRight = function (arr, memo, iterator, callback) {
            var reversed = _map(arr, function (x) {
              return x
            }).reverse();
            async.reduce(reversed, memo, iterator, callback)
          }, async.foldr = async.reduceRight;
          var _filter = function (eachfn, arr, iterator, callback) {
            var results = [];
            arr = _map(arr, function (x, i) {
              return {index: i, value: x}
            }), eachfn(arr, function (x, callback) {
              iterator(x.value, function (v) {
                v && results.push(x), callback()
              })
            }, function (err) {
              callback(_map(results.sort(function (a, b) {
                return a.index - b.index
              }), function (x) {
                return x.value
              }))
            })
          };
          async.filter = doParallel(_filter), async.filterSeries = doSeries(_filter), async.select = async.filter, async.selectSeries = async.filterSeries;
          var _reject = function (eachfn, arr, iterator, callback) {
            var results = [];
            arr = _map(arr, function (x, i) {
              return {index: i, value: x}
            }), eachfn(arr, function (x, callback) {
              iterator(x.value, function (v) {
                v || results.push(x), callback()
              })
            }, function (err) {
              callback(_map(results.sort(function (a, b) {
                return a.index - b.index
              }), function (x) {
                return x.value
              }))
            })
          };
          async.reject = doParallel(_reject), async.rejectSeries = doSeries(_reject);
          var _detect = function (eachfn, arr, iterator, main_callback) {
            eachfn(arr, function (x, callback) {
              iterator(x, function (result) {
                result ? (main_callback(x), main_callback = function () {
                }) : callback()
              })
            }, function (err) {
              main_callback()
            })
          };
          async.detect = doParallel(_detect), async.detectSeries = doSeries(_detect), async.some = function (arr, iterator, main_callback) {
            async.each(arr, function (x, callback) {
              iterator(x, function (v) {
                v && (main_callback(!0), main_callback = function () {
                }), callback()
              })
            }, function (err) {
              main_callback(!1)
            })
          }, async.any = async.some, async.every = function (arr, iterator, main_callback) {
            async.each(arr, function (x, callback) {
              iterator(x, function (v) {
                v || (main_callback(!1), main_callback = function () {
                }), callback()
              })
            }, function (err) {
              main_callback(!0)
            })
          }, async.all = async.every, async.sortBy = function (arr, iterator, callback) {
            async.map(arr, function (x, callback) {
              iterator(x, function (err, criteria) {
                err ? callback(err) : callback(null, {value: x, criteria: criteria})
              })
            }, function (err, results) {
              if (err) return callback(err);
              var fn = function (left, right) {
                var a = left.criteria, b = right.criteria;
                return a < b ? -1 : a > b ? 1 : 0
              };
              callback(null, _map(results.sort(fn), function (x) {
                return x.value
              }))
            })
          }, async.auto = function (tasks, callback) {
            callback = callback || function () {
            };
            var keys = _keys(tasks), remainingTasks = keys.length;
            if (!remainingTasks) return callback();
            var results = {}, listeners = [], addListener = function (fn) {
              listeners.unshift(fn)
            }, removeListener = function (fn) {
              for (var i = 0; i < listeners.length; i += 1) if (listeners[i] === fn) return void listeners.splice(i, 1)
            }, taskComplete = function () {
              remainingTasks--, _each(listeners.slice(0), function (fn) {
                fn()
              })
            };
            addListener(function () {
              if (!remainingTasks) {
                var theCallback = callback;
                callback = function () {
                }, theCallback(null, results)
              }
            }), _each(keys, function (k) {
              var task = _isArray(tasks[k]) ? tasks[k] : [tasks[k]], taskCallback = function (err) {
                var args = Array.prototype.slice.call(arguments, 1);
                if (args.length <= 1 && (args = args[0]), err) {
                  var safeResults = {};
                  _each(_keys(results), function (rkey) {
                    safeResults[rkey] = results[rkey]
                  }), safeResults[k] = args, callback(err, safeResults), callback = function () {
                  }
                } else results[k] = args, async.setImmediate(taskComplete)
              }, requires = task.slice(0, Math.abs(task.length - 1)) || [], ready = function () {
                return _reduce(requires, function (a, x) {
                  return a && results.hasOwnProperty(x)
                }, !0) && !results.hasOwnProperty(k)
              };
              if (ready()) task[task.length - 1](taskCallback, results); else {
                var listener = function () {
                  ready() && (removeListener(listener), task[task.length - 1](taskCallback, results))
                };
                addListener(listener)
              }
            })
          }, async.retry = function (times, task, callback) {
            var DEFAULT_TIMES = 5, attempts = [];
            "function" == typeof times && (callback = task, task = times, times = DEFAULT_TIMES), times = parseInt(times, 10) || DEFAULT_TIMES;
            var wrappedTask = function (wrappedCallback, wrappedResults) {
              for (var retryAttempt = function (task, finalAttempt) {
                return function (seriesCallback) {
                  task(function (err, result) {
                    seriesCallback(!err || finalAttempt, {err: err, result: result})
                  }, wrappedResults)
                }
              }; times;) attempts.push(retryAttempt(task, !(times -= 1)));
              async.series(attempts, function (done, data) {
                data = data[data.length - 1], (wrappedCallback || callback)(data.err, data.result)
              })
            };
            return callback ? wrappedTask() : wrappedTask
          }, async.waterfall = function (tasks, callback) {
            if (callback = callback || function () {
            }, !_isArray(tasks)) {
              var err = new Error("First argument to waterfall must be an array of functions");
              return callback(err)
            }
            if (!tasks.length) return callback();
            var wrapIterator = function (iterator) {
              return function (err) {
                if (err) callback.apply(null, arguments), callback = function () {
                }; else {
                  var args = Array.prototype.slice.call(arguments, 1), next = iterator.next();
                  next ? args.push(wrapIterator(next)) : args.push(callback), async.setImmediate(function () {
                    iterator.apply(null, args)
                  })
                }
              }
            };
            wrapIterator(async.iterator(tasks))()
          };
          var _parallel = function (eachfn, tasks, callback) {
            if (callback = callback || function () {
            }, _isArray(tasks)) eachfn.map(tasks, function (fn, callback) {
              fn && fn(function (err) {
                var args = Array.prototype.slice.call(arguments, 1);
                args.length <= 1 && (args = args[0]), callback.call(null, err, args)
              })
            }, callback); else {
              var results = {};
              eachfn.each(_keys(tasks), function (k, callback) {
                tasks[k](function (err) {
                  var args = Array.prototype.slice.call(arguments, 1);
                  args.length <= 1 && (args = args[0]), results[k] = args, callback(err)
                })
              }, function (err) {
                callback(err, results)
              })
            }
          };
          async.parallel = function (tasks, callback) {
            _parallel({map: async.map, each: async.each}, tasks, callback)
          }, async.parallelLimit = function (tasks, limit, callback) {
            _parallel({map: _mapLimit(limit), each: _eachLimit(limit)}, tasks, callback)
          }, async.series = function (tasks, callback) {
            if (callback = callback || function () {
            }, _isArray(tasks)) async.mapSeries(tasks, function (fn, callback) {
              fn && fn(function (err) {
                var args = Array.prototype.slice.call(arguments, 1);
                args.length <= 1 && (args = args[0]), callback.call(null, err, args)
              })
            }, callback); else {
              var results = {};
              async.eachSeries(_keys(tasks), function (k, callback) {
                tasks[k](function (err) {
                  var args = Array.prototype.slice.call(arguments, 1);
                  args.length <= 1 && (args = args[0]), results[k] = args, callback(err)
                })
              }, function (err) {
                callback(err, results)
              })
            }
          }, async.iterator = function (tasks) {
            var makeCallback = function (index) {
              var fn = function () {
                return tasks.length && tasks[index].apply(null, arguments), fn.next()
              };
              return fn.next = function () {
                return index < tasks.length - 1 ? makeCallback(index + 1) : null
              }, fn
            };
            return makeCallback(0)
          }, async.apply = function (fn) {
            var args = Array.prototype.slice.call(arguments, 1);
            return function () {
              return fn.apply(null, args.concat(Array.prototype.slice.call(arguments)))
            }
          };
          var _concat = function (eachfn, arr, fn, callback) {
            var r = [];
            eachfn(arr, function (x, cb) {
              fn(x, function (err, y) {
                r = r.concat(y || []), cb(err)
              })
            }, function (err) {
              callback(err, r)
            })
          };
          async.concat = doParallel(_concat), async.concatSeries = doSeries(_concat), async.whilst = function (test, iterator, callback) {
            test() ? iterator(function (err) {
              return err ? callback(err) : void async.whilst(test, iterator, callback)
            }) : callback()
          }, async.doWhilst = function (iterator, test, callback) {
            iterator(function (err) {
              if (err) return callback(err);
              var args = Array.prototype.slice.call(arguments, 1);
              test.apply(null, args) ? async.doWhilst(iterator, test, callback) : callback()
            })
          }, async.until = function (test, iterator, callback) {
            test() ? callback() : iterator(function (err) {
              return err ? callback(err) : void async.until(test, iterator, callback)
            })
          }, async.doUntil = function (iterator, test, callback) {
            iterator(function (err) {
              if (err) return callback(err);
              var args = Array.prototype.slice.call(arguments, 1);
              test.apply(null, args) ? callback() : async.doUntil(iterator, test, callback)
            })
          }, async.queue = function (worker, concurrency) {
            function _insert (q, data, pos, callback) {
              return q.started || (q.started = !0), _isArray(data) || (data = [data]), 0 == data.length ? async.setImmediate(function () {
                q.drain && q.drain()
              }) : void _each(data, function (task) {
                var item = {data: task, callback: "function" == typeof callback ? callback : null};
                pos ? q.tasks.unshift(item) : q.tasks.push(item), q.saturated && q.tasks.length === q.concurrency && q.saturated(), async.setImmediate(q.process)
              })
            }

            void 0 === concurrency && (concurrency = 1);
            var workers = 0, q = {
              tasks: [],
              concurrency: concurrency,
              saturated: null,
              empty: null,
              drain: null,
              started: !1,
              paused: !1,
              push: function (data, callback) {
                _insert(q, data, !1, callback)
              },
              kill: function () {
                q.drain = null, q.tasks = []
              },
              unshift: function (data, callback) {
                _insert(q, data, !0, callback)
              },
              process: function () {
                if (!q.paused && workers < q.concurrency && q.tasks.length) {
                  var task = q.tasks.shift();
                  q.empty && 0 === q.tasks.length && q.empty(), workers += 1;
                  var next = function () {
                    workers -= 1, task.callback && task.callback.apply(task, arguments), q.drain && q.tasks.length + workers === 0 && q.drain(), q.process()
                  }, cb = only_once(next);
                  worker(task.data, cb)
                }
              },
              length: function () {
                return q.tasks.length
              },
              running: function () {
                return workers
              },
              idle: function () {
                return q.tasks.length + workers === 0
              },
              pause: function () {
                q.paused !== !0 && (q.paused = !0)
              },
              resume: function () {
                if (q.paused !== !1) {
                  q.paused = !1;
                  for (var w = 1; w <= q.concurrency; w++) async.setImmediate(q.process)
                }
              }
            };
            return q
          }, async.priorityQueue = function (worker, concurrency) {
            function _compareTasks (a, b) {
              return a.priority - b.priority
            }

            function _binarySearch (sequence, item, compare) {
              for (var beg = -1, end = sequence.length - 1; beg < end;) {
                var mid = beg + (end - beg + 1 >>> 1);
                compare(item, sequence[mid]) >= 0 ? beg = mid : end = mid - 1
              }
              return beg
            }

            function _insert (q, data, priority, callback) {
              return q.started || (q.started = !0), _isArray(data) || (data = [data]), 0 == data.length ? async.setImmediate(function () {
                q.drain && q.drain()
              }) : void _each(data, function (task) {
                var item = {data: task, priority: priority, callback: "function" == typeof callback ? callback : null};
                q.tasks.splice(_binarySearch(q.tasks, item, _compareTasks) + 1, 0, item), q.saturated && q.tasks.length === q.concurrency && q.saturated(), async.setImmediate(q.process)
              })
            }

            var q = async.queue(worker, concurrency);
            return q.push = function (data, priority, callback) {
              _insert(q, data, priority, callback)
            }, delete q.unshift, q
          }, async.cargo = function (worker, payload) {
            var working = !1, tasks = [], cargo = {
              tasks: tasks,
              payload: payload,
              saturated: null,
              empty: null,
              drain: null,
              drained: !0,
              push: function (data, callback) {
                _isArray(data) || (data = [data]), _each(data, function (task) {
                  tasks.push({
                    data: task,
                    callback: "function" == typeof callback ? callback : null
                  }), cargo.drained = !1, cargo.saturated && tasks.length === payload && cargo.saturated()
                }), async.setImmediate(cargo.process)
              },
              process: function process () {
                if (!working) {
                  if (0 === tasks.length) return cargo.drain && !cargo.drained && cargo.drain(), void(cargo.drained = !0);
                  var ts = "number" == typeof payload ? tasks.splice(0, payload) : tasks.splice(0, tasks.length),
                    ds = _map(ts, function (task) {
                      return task.data
                    });
                  cargo.empty && cargo.empty(), working = !0, worker(ds, function () {
                    working = !1;
                    var args = arguments;
                    _each(ts, function (data) {
                      data.callback && data.callback.apply(null, args)
                    }), process()
                  })
                }
              },
              length: function () {
                return tasks.length
              },
              running: function () {
                return working
              }
            };
            return cargo
          };
          var _console_fn = function (name) {
            return function (fn) {
              var args = Array.prototype.slice.call(arguments, 1);
              fn.apply(null, args.concat([function (err) {
                var args = Array.prototype.slice.call(arguments, 1);
                "undefined" != typeof console && (err ? console.error : console[name] && _each(args, function (x) {
                }))
              }]))
            }
          };
          async.log = _console_fn("log"), async.dir = _console_fn("dir"), async.memoize = function (fn, hasher) {
            var memo = {}, queues = {};
            hasher = hasher || function (x) {
              return x
            };
            var memoized = function () {
              var args = Array.prototype.slice.call(arguments), callback = args.pop(), key = hasher.apply(null, args);
              key in memo ? async.nextTick(function () {
                callback.apply(null, memo[key])
              }) : key in queues ? queues[key].push(callback) : (queues[key] = [callback], fn.apply(null, args.concat([function () {
                memo[key] = arguments;
                var q = queues[key];
                delete queues[key];
                for (var i = 0, l = q.length; i < l; i++) q[i].apply(null, arguments)
              }])))
            };
            return memoized.memo = memo, memoized.unmemoized = fn, memoized
          }, async.unmemoize = function (fn) {
            return function () {
              return (fn.unmemoized || fn).apply(null, arguments)
            }
          }, async.times = function (count, iterator, callback) {
            for (var counter = [], i = 0; i < count; i++) counter.push(i);
            return async.map(counter, iterator, callback)
          }, async.timesSeries = function (count, iterator, callback) {
            for (var counter = [], i = 0; i < count; i++) counter.push(i);
            return async.mapSeries(counter, iterator, callback)
          }, async.seq = function () {
            var fns = arguments;
            return function () {
              var that = this, args = Array.prototype.slice.call(arguments), callback = args.pop();
              async.reduce(fns, args, function (newargs, fn, cb) {
                fn.apply(that, newargs.concat([function () {
                  var err = arguments[0], nextargs = Array.prototype.slice.call(arguments, 1);
                  cb(err, nextargs)
                }]))
              }, function (err, results) {
                callback.apply(that, [err].concat(results))
              })
            }
          }, async.compose = function () {
            return async.seq.apply(null, Array.prototype.reverse.call(arguments))
          };
          var _applyEach = function (eachfn, fns) {
            var go = function () {
              var that = this, args = Array.prototype.slice.call(arguments), callback = args.pop();
              return eachfn(fns, function (fn, cb) {
                fn.apply(that, args.concat([cb]))
              }, callback)
            };
            if (arguments.length > 2) {
              var args = Array.prototype.slice.call(arguments, 2);
              return go.apply(this, args)
            }
            return go
          };
          async.applyEach = doParallel(_applyEach), async.applyEachSeries = doSeries(_applyEach), async.forever = function (fn, callback) {
            function next (err) {
              if (err) {
                if (callback) return callback(err);
                throw err
              }
              fn(next)
            }

            next()
          }, "undefined" != typeof module && module.exports ? module.exports = async : "undefined" != typeof define && define.amd ? define([], function () {
            return async
          }) : root.async = async
        }()
      }).call(this, require("_process"))
    }, {_process: 3}],
    13: [function (require, module, exports) {
      function Loader (baseUrl, concurrency) {
        EventEmitter.call(this), concurrency = concurrency || 10, this.baseUrl = baseUrl || "", this.progress = 0, this.loading = !1, this._progressChunk = 0, this._beforeMiddleware = [], this._afterMiddleware = [], this._boundLoadResource = this._loadResource.bind(this), this._boundOnLoad = this._onLoad.bind(this), this._buffer = [], this._numToLoad = 0, this._queue = async.queue(this._boundLoadResource, concurrency), this.resources = {}
      }

      var async = require("async"), urlParser = require("url"), Resource = require("./Resource"),
        EventEmitter = require("eventemitter3");
      Loader.prototype = Object.create(EventEmitter.prototype), Loader.prototype.constructor = Loader, module.exports = Loader, Loader.prototype.add = Loader.prototype.enqueue = function (name, url, options, cb) {
        if (Array.isArray(name)) {
          for (var i = 0; i < name.length; ++i) this.add(name[i]);
          return this
        }
        if ("object" == typeof name && (cb = url || name.callback || name.onComplete, options = name, url = name.url, name = name.name || name.key || name.url), "string" != typeof url && (cb = options, options = url, url = name), "string" != typeof url) throw new Error("No url passed to add resource to loader.");
        if ("function" == typeof options && (cb = options, options = null), this.resources[name]) throw new Error('Resource with name "' + name + '" already exists.');
        return url = this._handleBaseUrl(url), this.resources[name] = new Resource(name, url, options), "function" == typeof cb && this.resources[name].once("afterMiddleware", cb), this._numToLoad++, this._queue.started ? (this._queue.push(this.resources[name]), this._progressChunk = (100 - this.progress) / (this._queue.length() + this._queue.running())) : (this._buffer.push(this.resources[name]), this._progressChunk = 100 / this._buffer.length), this
      }, Loader.prototype._handleBaseUrl = function (url) {
        var parsedUrl = urlParser.parse(url);
        return parsedUrl.protocol || 0 === parsedUrl.pathname.indexOf("//") ? url : this.baseUrl.length && this.baseUrl.lastIndexOf("/") !== this.baseUrl.length - 1 && url.lastIndexOf("/") !== url.length - 1 ? this.baseUrl + "/" + url : this.baseUrl + url
      }, Loader.prototype.before = Loader.prototype.pre = function (fn) {
        return this._beforeMiddleware.push(fn), this
      }, Loader.prototype.after = Loader.prototype.use = function (fn) {
        return this._afterMiddleware.push(fn), this
      }, Loader.prototype.reset = function () {
        this.progress = 0, this.loading = !1, this._progressChunk = 0, this._buffer.length = 0, this._numToLoad = 0, this._queue.kill(), this._queue.started = !1, this.resources = {}
      }, Loader.prototype.load = function (cb) {
        if ("function" == typeof cb && this.once("complete", cb), this._queue.started) return this;
        this.emit("start", this);
        for (var i = 0; i < this._buffer.length; ++i) this._queue.push(this._buffer[i]);
        return this._buffer.length = 0, this
      }, Loader.prototype._loadResource = function (resource, dequeue) {
        var self = this;
        resource._dequeue = dequeue, this._runMiddleware(resource, this._beforeMiddleware, function () {
          resource.load(self._boundOnLoad)
        })
      }, Loader.prototype._onComplete = function () {
        this.emit("complete", this, this.resources)
      }, Loader.prototype._onLoad = function (resource) {
        this.progress += this._progressChunk, this.emit("progress", this, resource), this._runMiddleware(resource, this._afterMiddleware, function () {
          resource.emit("afterMiddleware", resource), this._numToLoad--, 0 === this._numToLoad && (this.progress = 100, this._onComplete()), resource.error ? this.emit("error", resource.error, this, resource) : this.emit("load", this, resource)
        }), resource._dequeue()
      }, Loader.prototype._runMiddleware = function (resource, fns, cb) {
        var self = this;
        async.eachSeries(fns, function (fn, next) {
          fn.call(self, resource, next)
        }, cb.bind(this, resource))
      }, Loader.LOAD_TYPE = Resource.LOAD_TYPE, Loader.XHR_READY_STATE = Resource.XHR_READY_STATE, Loader.XHR_RESPONSE_TYPE = Resource.XHR_RESPONSE_TYPE
    }, {"./Resource": 14, async: 12, eventemitter3: 10, url: 8}],
    14: [function (require, module, exports) {
      function Resource (name, url, options) {
        if (EventEmitter.call(this), options = options || {}, "string" != typeof name || "string" != typeof url) throw new Error("Both name and url are required for constructing a resource.");
        this.name = name, this.url = url, this.isDataUrl = 0 === this.url.indexOf("data:"), this.data = null, this.crossOrigin = options.crossOrigin === !0 ? "anonymous" : null, this.loadType = options.loadType || this._determineLoadType(), this.xhrType = options.xhrType, this.error = null, this.xhr = null, this.isJson = !1, this.isXml = !1, this.isImage = !1, this.isAudio = !1, this.isVideo = !1, this._dequeue = null, this._boundComplete = this.complete.bind(this), this._boundOnError = this._onError.bind(this), this._boundOnProgress = this._onProgress.bind(this), this._boundXhrOnError = this._xhrOnError.bind(this), this._boundXhrOnAbort = this._xhrOnAbort.bind(this), this._boundXhrOnLoad = this._xhrOnLoad.bind(this), this._boundXdrOnTimeout = this._xdrOnTimeout.bind(this)
      }

      function reqType (xhr) {
        return xhr.toString().replace("object ", "")
      }

      function setExtMap (map, extname, val) {
        extname && 0 === extname.indexOf(".") && (extname = extname.substring(1)), extname && (map[extname] = val)
      }

      var EventEmitter = require("eventemitter3"), _url = require("url"),
        useXdr = !(!window.XDomainRequest || "withCredentials" in new XMLHttpRequest), tempAnchor = null;
      Resource.prototype = Object.create(EventEmitter.prototype), Resource.prototype.constructor = Resource, module.exports = Resource, Resource.prototype.complete = function () {
        this.data && this.data.removeEventListener && (this.data.removeEventListener("error", this._boundOnError), this.data.removeEventListener("load", this._boundComplete), this.data.removeEventListener("progress", this._boundOnProgress), this.data.removeEventListener("canplaythrough", this._boundComplete)), this.xhr && (this.xhr.removeEventListener ? (this.xhr.removeEventListener("error", this._boundXhrOnError), this.xhr.removeEventListener("abort", this._boundXhrOnAbort), this.xhr.removeEventListener("progress", this._boundOnProgress), this.xhr.removeEventListener("load", this._boundXhrOnLoad)) : (this.xhr.onerror = null, this.xhr.ontimeout = null, this.xhr.onprogress = null, this.xhr.onload = null)), this.emit("complete", this)
      }, Resource.prototype.load = function (cb) {
        switch (this.emit("start", this), cb && this.once("complete", cb), "string" != typeof this.crossOrigin && (this.crossOrigin = this._determineCrossOrigin(this.url)), this.loadType) {
          case Resource.LOAD_TYPE.IMAGE:
            this._loadImage();
            break;
          case Resource.LOAD_TYPE.AUDIO:
            this._loadElement("audio");
            break;
          case Resource.LOAD_TYPE.VIDEO:
            this._loadElement("video");
            break;
          case Resource.LOAD_TYPE.XHR:
          default:
            useXdr && this.crossOrigin ? this._loadXdr() : this._loadXhr()
        }
      }, Resource.prototype._loadImage = function () {
        this.data = new Image, this.crossOrigin && (this.data.crossOrigin = this.crossOrigin), this.data.src = this.url, this.isImage = !0, this.data.addEventListener("error", this._boundOnError, !1), this.data.addEventListener("load", this._boundComplete, !1), this.data.addEventListener("progress", this._boundOnProgress, !1)
      }, Resource.prototype._loadElement = function (type) {
        if ("audio" === type && "undefined" != typeof Audio ? this.data = new Audio : this.data = document.createElement(type), null === this.data) return this.error = new Error("Unsupported element " + type), void this.complete();
        if (navigator.isCocoonJS) this.data.src = Array.isArray(this.url) ? this.url[0] : this.url; else if (Array.isArray(this.url)) for (var i = 0; i < this.url.length; ++i) this.data.appendChild(this._createSource(type, this.url[i])); else this.data.appendChild(this._createSource(type, this.url));
        this["is" + type[0].toUpperCase() + type.substring(1)] = !0, this.data.addEventListener("error", this._boundOnError, !1), this.data.addEventListener("load", this._boundComplete, !1), this.data.addEventListener("progress", this._boundOnProgress, !1), this.data.addEventListener("canplaythrough", this._boundComplete, !1), this.data.load()
      }, Resource.prototype._loadXhr = function () {
        "string" != typeof this.xhrType && (this.xhrType = this._determineXhrType());
        var xhr = this.xhr = new XMLHttpRequest;
        xhr.open("GET", this.url, !0), this.xhrType === Resource.XHR_RESPONSE_TYPE.JSON || this.xhrType === Resource.XHR_RESPONSE_TYPE.DOCUMENT ? xhr.responseType = Resource.XHR_RESPONSE_TYPE.TEXT : xhr.responseType = this.xhrType, xhr.addEventListener("error", this._boundXhrOnError, !1), xhr.addEventListener("abort", this._boundXhrOnAbort, !1), xhr.addEventListener("progress", this._boundOnProgress, !1), xhr.addEventListener("load", this._boundXhrOnLoad, !1), xhr.send()
      }, Resource.prototype._loadXdr = function () {
        "string" != typeof this.xhrType && (this.xhrType = this._determineXhrType());
        var xdr = this.xhr = new XDomainRequest;
        xdr.timeout = 5e3, xdr.onerror = this._boundXhrOnError, xdr.ontimeout = this._boundXdrOnTimeout, xdr.onprogress = this._boundOnProgress, xdr.onload = this._boundXhrOnLoad, xdr.open("GET", this.url, !0), setTimeout(function () {
          xdr.send()
        }, 0)
      }, Resource.prototype._createSource = function (type, url, mime) {
        mime || (mime = type + "/" + url.substr(url.lastIndexOf(".") + 1));
        var source = document.createElement("source");
        return source.src = url, source.type = mime, source
      }, Resource.prototype._onError = function (event) {
        this.error = new Error("Failed to load element using " + event.target.nodeName), this.complete()
      }, Resource.prototype._onProgress = function (event) {
        event && event.lengthComputable && this.emit("progress", this, event.loaded / event.total)
      }, Resource.prototype._xhrOnError = function () {
        this.error = new Error(reqType(this.xhr) + " Request failed. Status: " + this.xhr.status + ', text: "' + this.xhr.statusText + '"'), this.complete()
      }, Resource.prototype._xhrOnAbort = function () {
        this.error = new Error(reqType(this.xhr) + " Request was aborted by the user."), this.complete()
      }, Resource.prototype._xdrOnTimeout = function () {
        this.error = new Error(reqType(this.xhr) + " Request timed out."), this.complete()
      }, Resource.prototype._xhrOnLoad = function () {
        var xhr = this.xhr, status = void 0 !== xhr.status ? xhr.status : 200;
        if (200 === status || 204 === status || 0 === status && xhr.responseText.length > 0) if (this.xhrType === Resource.XHR_RESPONSE_TYPE.TEXT) this.data = xhr.responseText; else if (this.xhrType === Resource.XHR_RESPONSE_TYPE.JSON) try {
          this.data = JSON.parse(xhr.responseText), this.isJson = !0
        } catch (e) {
          this.error = new Error("Error trying to parse loaded json:", e)
        } else if (this.xhrType === Resource.XHR_RESPONSE_TYPE.DOCUMENT) try {
          if (window.DOMParser) {
            var domparser = new DOMParser;
            this.data = domparser.parseFromString(xhr.responseText, "text/xml")
          } else {
            var div = document.createElement("div");
            div.innerHTML = xhr.responseText, this.data = div
          }
          this.isXml = !0
        } catch (e) {
          this.error = new Error("Error trying to parse loaded xml:", e)
        } else this.data = xhr.response || xhr.responseText; else this.error = new Error("[" + xhr.status + "]" + xhr.statusText + ":" + xhr.responseURL);
        this.complete()
      }, Resource.prototype._determineCrossOrigin = function (url, loc) {
        if (0 === url.indexOf("data:")) return "";
        loc = loc || window.location, tempAnchor || (tempAnchor = document.createElement("a")), tempAnchor.href = url, url = _url.parse(tempAnchor.href);
        var samePort = !url.port && "" === loc.port || url.port === loc.port;
        return url.hostname === loc.hostname && samePort && url.protocol === loc.protocol ? "" : "anonymous"
      }, Resource.prototype._determineXhrType = function () {
        return Resource._xhrTypeMap[this._getExtension()] || Resource.XHR_RESPONSE_TYPE.TEXT
      }, Resource.prototype._determineLoadType = function () {
        return Resource._loadTypeMap[this._getExtension()] || Resource.LOAD_TYPE.XHR
      }, Resource.prototype._getExtension = function () {
        var ext, url = this.url;
        if (this.isDataUrl) {
          var slashIndex = url.indexOf("/");
          ext = url.substring(slashIndex + 1, url.indexOf(";", slashIndex))
        } else {
          var queryStart = url.indexOf("?");
          queryStart !== -1 && (url = url.substring(0, queryStart)), ext = url.substring(url.lastIndexOf(".") + 1)
        }
        return ext
      }, Resource.prototype._getMimeFromXhrType = function (type) {
        switch (type) {
          case Resource.XHR_RESPONSE_TYPE.BUFFER:
            return "application/octet-binary";
          case Resource.XHR_RESPONSE_TYPE.BLOB:
            return "application/blob";
          case Resource.XHR_RESPONSE_TYPE.DOCUMENT:
            return "application/xml";
          case Resource.XHR_RESPONSE_TYPE.JSON:
            return "application/json";
          case Resource.XHR_RESPONSE_TYPE.DEFAULT:
          case Resource.XHR_RESPONSE_TYPE.TEXT:
          default:
            return "text/plain"
        }
      }, Resource.LOAD_TYPE = {XHR: 1, IMAGE: 2, AUDIO: 3, VIDEO: 4}, Resource.XHR_READY_STATE = {
        UNSENT: 0,
        OPENED: 1,
        HEADERS_RECEIVED: 2,
        LOADING: 3,
        DONE: 4
      }, Resource.XHR_RESPONSE_TYPE = {
        DEFAULT: "text",
        BUFFER: "arraybuffer",
        BLOB: "blob",
        DOCUMENT: "document",
        JSON: "json",
        TEXT: "text"
      }, Resource._loadTypeMap = {
        gif: Resource.LOAD_TYPE.IMAGE,
        png: Resource.LOAD_TYPE.IMAGE,
        bmp: Resource.LOAD_TYPE.IMAGE,
        jpg: Resource.LOAD_TYPE.IMAGE,
        jpeg: Resource.LOAD_TYPE.IMAGE,
        tif: Resource.LOAD_TYPE.IMAGE,
        tiff: Resource.LOAD_TYPE.IMAGE,
        webp: Resource.LOAD_TYPE.IMAGE,
        tga: Resource.LOAD_TYPE.IMAGE
      }, Resource._xhrTypeMap = {
        xhtml: Resource.XHR_RESPONSE_TYPE.DOCUMENT,
        html: Resource.XHR_RESPONSE_TYPE.DOCUMENT,
        htm: Resource.XHR_RESPONSE_TYPE.DOCUMENT,
        xml: Resource.XHR_RESPONSE_TYPE.DOCUMENT,
        tmx: Resource.XHR_RESPONSE_TYPE.DOCUMENT,
        tsx: Resource.XHR_RESPONSE_TYPE.DOCUMENT,
        svg: Resource.XHR_RESPONSE_TYPE.DOCUMENT,
        gif: Resource.XHR_RESPONSE_TYPE.BLOB,
        png: Resource.XHR_RESPONSE_TYPE.BLOB,
        bmp: Resource.XHR_RESPONSE_TYPE.BLOB,
        jpg: Resource.XHR_RESPONSE_TYPE.BLOB,
        jpeg: Resource.XHR_RESPONSE_TYPE.BLOB,
        tif: Resource.XHR_RESPONSE_TYPE.BLOB,
        tiff: Resource.XHR_RESPONSE_TYPE.BLOB,
        webp: Resource.XHR_RESPONSE_TYPE.BLOB,
        tga: Resource.XHR_RESPONSE_TYPE.BLOB,
        json: Resource.XHR_RESPONSE_TYPE.JSON,
        text: Resource.XHR_RESPONSE_TYPE.TEXT,
        txt: Resource.XHR_RESPONSE_TYPE.TEXT
      }, Resource.setExtensionLoadType = function (extname, loadType) {
        setExtMap(Resource._loadTypeMap, extname, loadType)
      }, Resource.setExtensionXhrType = function (extname, xhrType) {
        setExtMap(Resource._xhrTypeMap, extname, xhrType)
      }
    }, {eventemitter3: 10, url: 8}],
    15: [function (require, module, exports) {
      module.exports = {
        _keyStr: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
        encodeBinary: function (input) {
          for (var bytebuffer, output = "", encodedCharIndexes = new Array(4), inx = 0, jnx = 0, paddingBytes = 0; inx < input.length;) {
            for (bytebuffer = new Array(3), jnx = 0; jnx < bytebuffer.length; jnx++) inx < input.length ? bytebuffer[jnx] = 255 & input.charCodeAt(inx++) : bytebuffer[jnx] = 0;
            switch (encodedCharIndexes[0] = bytebuffer[0] >> 2, encodedCharIndexes[1] = (3 & bytebuffer[0]) << 4 | bytebuffer[1] >> 4, encodedCharIndexes[2] = (15 & bytebuffer[1]) << 2 | bytebuffer[2] >> 6, encodedCharIndexes[3] = 63 & bytebuffer[2], paddingBytes = inx - (input.length - 1)) {
              case 2:
                encodedCharIndexes[3] = 64, encodedCharIndexes[2] = 64;
                break;
              case 1:
                encodedCharIndexes[3] = 64
            }
            for (jnx = 0; jnx < encodedCharIndexes.length; jnx++) output += this._keyStr.charAt(encodedCharIndexes[jnx])
          }
          return output
        }
      }
    }, {}],
    16: [function (require, module, exports) {
      module.exports = require("./Loader"), module.exports.Resource = require("./Resource"), module.exports.middleware = {
        caching: {memory: require("./middlewares/caching/memory")},
        parsing: {blob: require("./middlewares/parsing/blob")}
      }
    }, {"./Loader": 13, "./Resource": 14, "./middlewares/caching/memory": 17, "./middlewares/parsing/blob": 18}],
    17: [function (require, module, exports) {
      var cache = {};
      module.exports = function () {
        return function (resource, next) {
          cache[resource.url] ? (resource.data = cache[resource.url], resource.complete()) : (resource.once("complete", function () {
            cache[this.url] = this.data
          }), next())
        }
      }
    }, {}],
    18: [function (require, module, exports) {
      var Resource = require("../../Resource"), b64 = require("../../b64");
      window.URL = window.URL || window.webkitURL, module.exports = function () {
        return function (resource, next) {
          if (!resource.data) return next();
          if (resource.xhr && resource.xhrType === Resource.XHR_RESPONSE_TYPE.BLOB) if (window.Blob && "string" != typeof resource.data) {
            if (0 === resource.data.type.indexOf("image")) {
              var src = URL.createObjectURL(resource.data);
              resource.blob = resource.data, resource.data = new Image, resource.data.src = src, resource.isImage = !0, resource.data.onload = function () {
                URL.revokeObjectURL(src), resource.data.onload = null, next()
              }
            }
          } else {
            var type = resource.xhr.getResponseHeader("content-type");
            type && 0 === type.indexOf("image") && (resource.data = new Image, resource.data.src = "data:" + type + ";base64," + b64.encodeBinary(resource.xhr.responseText), resource.isImage = !0, resource.data.onload = function () {
              resource.data.onload = null, next()
            })
          } else next()
        }
      }
    }, {"../../Resource": 14, "../../b64": 15}],
    19: [function (require, module, exports) {
      module.exports = {
        name: "pixi.js",
        version: "3.0.9-dev",
        description: "Pixi.js is a fast lightweight 2D library that works across all devices.",
        author: "Mat Groves",
        contributors: ["Chad Engler <chad@pantherdev.com>", "Richard Davey <rdavey@gmail.com>"],
        main: "./src/index.js",
        homepage: "http://goodboydigital.com/",
        bugs: "https://github.com/pixijs/pixi.js/issues",
        license: "MIT",
        repository: {type: "git", url: "https://github.com/pixijs/pixi.js.git"},
        scripts: {
          start: "gulp && gulp watch",
          test: "gulp && testem ci",
          build: "gulp",
          docs: "jsdoc -c ./gulp/util/jsdoc.conf.json -R README.md"
        },
        files: ["bin/", "src/", "CONTRIBUTING.md", "LICENSE", "package.json", "README.md"],
        dependencies: {
          async: "^1.4.2",
          brfs: "^1.4.1",
          earcut: "^2.0.2",
          eventemitter3: "^1.1.1",
          "gulp-header": "^1.7.1",
          "object-assign": "^4.0.1",
          "resource-loader": "^1.6.2"
        },
        devDependencies: {
          browserify: "^11.1.0",
          chai: "^3.2.0",
          del: "^2.0.2",
          gulp: "^3.9.0",
          "gulp-cached": "^1.1.0",
          "gulp-concat": "^2.6.0",
          "gulp-debug": "^2.1.0",
          "gulp-jshint": "^1.11.2",
          "gulp-mirror": "^0.4.0",
          "gulp-plumber": "^1.0.1",
          "gulp-rename": "^1.2.2",
          "gulp-sourcemaps": "^1.5.2",
          "gulp-uglify": "^1.4.1",
          "gulp-util": "^3.0.6",
          "jaguarjs-jsdoc": "git+https://github.com/davidshimjs/jaguarjs-jsdoc.git",
          jsdoc: "^3.3.2",
          "jshint-summary": "^0.4.0",
          minimist: "^1.2.0",
          mocha: "^2.3.2",
          "require-dir": "^0.3.0",
          "run-sequence": "^1.1.2",
          testem: "^0.9.4",
          "vinyl-buffer": "^1.0.0",
          "vinyl-source-stream": "^1.1.0",
          watchify: "^3.4.0"
        },
        browserify: {transform: ["brfs"]}
      }
    }, {}],
    20: [function (require, module, exports) {
      var CONST = {
        VERSION: require("../../package.json").version,
        PI_2: 2 * Math.PI,
        RAD_TO_DEG: 180 / Math.PI,
        DEG_TO_RAD: Math.PI / 180,
        TARGET_FPMS: .06,
        RENDERER_TYPE: {UNKNOWN: 0, WEBGL: 1, CANVAS: 2},
        BLEND_MODES: {
          NORMAL: 0,
          ADD: 1,
          MULTIPLY: 2,
          SCREEN: 3,
          OVERLAY: 4,
          DARKEN: 5,
          LIGHTEN: 6,
          COLOR_DODGE: 7,
          COLOR_BURN: 8,
          HARD_LIGHT: 9,
          SOFT_LIGHT: 10,
          DIFFERENCE: 11,
          EXCLUSION: 12,
          HUE: 13,
          SATURATION: 14,
          COLOR: 15,
          LUMINOSITY: 16
        },
        DRAW_MODES: {
          POINTS: 0,
          LINES: 1,
          LINE_LOOP: 2,
          LINE_STRIP: 3,
          TRIANGLES: 4,
          TRIANGLE_STRIP: 5,
          TRIANGLE_FAN: 6
        },
        SCALE_MODES: {DEFAULT: 0, LINEAR: 0, NEAREST: 1},
        RETINA_PREFIX: /@(.+)x/,
        RESOLUTION: 1,
        FILTER_RESOLUTION: 1,
        DEFAULT_RENDER_OPTIONS: {
          view: null,
          resolution: 1,
          antialias: !1,
          forceFXAA: !1,
          autoResize: !1,
          transparent: !1,
          backgroundColor: 0,
          clearBeforeRender: !0,
          preserveDrawingBuffer: !1,
          roundPixels: !1
        },
        SHAPES: {POLY: 0, RECT: 1, CIRC: 2, ELIP: 3, RREC: 4},
        SPRITE_BATCH_SIZE: 2e3
      };
      module.exports = CONST
    }, {"../../package.json": 19}],
    21: [function (require, module, exports) {
      function Container () {
        DisplayObject.call(this), this.children = []
      }

      var math = require("../math"), DisplayObject = require("./DisplayObject"),
        RenderTexture = require("../textures/RenderTexture"), _tempMatrix = new math.Matrix;
      Container.prototype = Object.create(DisplayObject.prototype), Container.prototype.constructor = Container, module.exports = Container, Object.defineProperties(Container.prototype, {
        width: {
          get: function () {
            return this.scale.x * this.getLocalBounds().width
          }, set: function (value) {
            var width = this.getLocalBounds().width;
            0 !== width ? this.scale.x = value / width : this.scale.x = 1, this._width = value
          }
        }, height: {
          get: function () {
            return this.scale.y * this.getLocalBounds().height
          }, set: function (value) {
            var height = this.getLocalBounds().height;
            0 !== height ? this.scale.y = value / height : this.scale.y = 1, this._height = value
          }
        }
      }), Container.prototype.onChildrenChange = function () {
      }, Container.prototype.addChild = function (child) {
        var argumentsLength = arguments.length;
        if (argumentsLength > 1) for (var i = 0; i < argumentsLength; i++) this.addChild(arguments[i]); else child.parent && child.parent.removeChild(child), child.parent = this, this.children.push(child), this.onChildrenChange(this.children.length - 1), child.emit("added", this);
        return child
      }, Container.prototype.addChildAt = function (child, index) {
        if (index >= 0 && index <= this.children.length) return child.parent && child.parent.removeChild(child), child.parent = this, this.children.splice(index, 0, child), this.onChildrenChange(index), child.emit("added", this), child;
        throw new Error(child + "addChildAt: The index " + index + " supplied is out of bounds " + this.children.length)
      }, Container.prototype.swapChildren = function (child, child2) {
        if (child !== child2) {
          var index1 = this.getChildIndex(child), index2 = this.getChildIndex(child2);
          if (index1 < 0 || index2 < 0) throw new Error("swapChildren: Both the supplied DisplayObjects must be children of the caller.");
          this.children[index1] = child2, this.children[index2] = child, this.onChildrenChange(index1 < index2 ? index1 : index2)
        }
      }, Container.prototype.getChildIndex = function (child) {
        var index = this.children.indexOf(child);
        if (index === -1) throw new Error("The supplied DisplayObject must be a child of the caller");
        return index
      }, Container.prototype.setChildIndex = function (child, index) {
        if (index < 0 || index >= this.children.length) throw new Error("The supplied index is out of bounds");
        var currentIndex = this.getChildIndex(child);
        this.children.splice(currentIndex, 1), this.children.splice(index, 0, child), this.onChildrenChange(index)
      }, Container.prototype.getChildAt = function (index) {
        if (index < 0 || index >= this.children.length) throw new Error("getChildAt: Supplied index " + index + " does not exist in the child list, or the supplied DisplayObject is not a child of the caller");
        return this.children[index]
      }, Container.prototype.removeChild = function (child) {
        var argumentsLength = arguments.length;
        if (argumentsLength > 1) for (var i = 0; i < argumentsLength; i++) this.removeChild(arguments[i]); else {
          var index = this.children.indexOf(child);
          if (index === -1) return;
          child.parent = null, this.children.splice(index, 1), this.onChildrenChange(index), child.emit("removed", this)
        }
        return child
      }, Container.prototype.removeChildAt = function (index) {
        var child = this.getChildAt(index);
        return child.parent = null, this.children.splice(index, 1), this.onChildrenChange(index), child.emit("removed", this), child
      }, Container.prototype.removeChildren = function (beginIndex, endIndex) {
        var removed, i, begin = beginIndex || 0, end = "number" == typeof endIndex ? endIndex : this.children.length,
          range = end - begin;
        if (range > 0 && range <= end) {
          for (removed = this.children.splice(begin, range), i = 0; i < removed.length; ++i) removed[i].parent = null;
          for (this.onChildrenChange(beginIndex), i = 0; i < removed.length; ++i) removed[i].emit("removed", this);
          return removed
        }
        if (0 === range && 0 === this.children.length) return [];
        throw new RangeError("removeChildren: numeric values are outside the acceptable range.");
      }, Container.prototype.generateTexture = function (renderer, resolution, scaleMode) {
        var bounds = this.getLocalBounds(),
          renderTexture = new RenderTexture(renderer, 0 | bounds.width, 0 | bounds.height, scaleMode, resolution);
        return _tempMatrix.tx = -bounds.x, _tempMatrix.ty = -bounds.y, renderTexture.render(this, _tempMatrix), renderTexture
      }, Container.prototype.updateTransform = function () {
        if (this.visible) {
          this.displayObjectUpdateTransform();
          for (var i = 0, j = this.children.length; i < j; ++i) this.children[i].updateTransform()
        }
      }, Container.prototype.containerUpdateTransform = Container.prototype.updateTransform, Container.prototype.getBounds = function () {
        if (!this._currentBounds) {
          if (0 === this.children.length) return math.Rectangle.EMPTY;
          for (var childBounds, childMaxX, childMaxY, minX = 1 / 0, minY = 1 / 0, maxX = -(1 / 0), maxY = -(1 / 0), childVisible = !1, i = 0, j = this.children.length; i < j; ++i) {
            var child = this.children[i];
            child.visible && (childVisible = !0, childBounds = this.children[i].getBounds(), minX = minX < childBounds.x ? minX : childBounds.x, minY = minY < childBounds.y ? minY : childBounds.y, childMaxX = childBounds.width + childBounds.x, childMaxY = childBounds.height + childBounds.y, maxX = maxX > childMaxX ? maxX : childMaxX, maxY = maxY > childMaxY ? maxY : childMaxY)
          }
          if (!childVisible) return math.Rectangle.EMPTY;
          var bounds = this._bounds;
          bounds.x = minX, bounds.y = minY, bounds.width = maxX - minX, bounds.height = maxY - minY, this._currentBounds = bounds
        }
        return this._currentBounds
      }, Container.prototype.containerGetBounds = Container.prototype.getBounds, Container.prototype.getLocalBounds = function () {
        var matrixCache = this.worldTransform;
        this.worldTransform = math.Matrix.IDENTITY;
        for (var i = 0, j = this.children.length; i < j; ++i) this.children[i].updateTransform();
        return this.worldTransform = matrixCache, this._currentBounds = null, this.getBounds(math.Matrix.IDENTITY)
      }, Container.prototype.renderWebGL = function (renderer) {
        if (this.visible && !(this.worldAlpha <= 0) && this.renderable) {
          var i, j;
          if (this._mask || this._filters) {
            for (renderer.currentRenderer.flush(), this._filters && this._filters.length && renderer.filterManager.pushFilter(this, this._filters), this._mask && renderer.maskManager.pushMask(this, this._mask), renderer.currentRenderer.start(), this._renderWebGL(renderer), i = 0, j = this.children.length; i < j; i++) this.children[i].renderWebGL(renderer);
            renderer.currentRenderer.flush(), this._mask && renderer.maskManager.popMask(this, this._mask), this._filters && renderer.filterManager.popFilter(), renderer.currentRenderer.start()
          } else for (this._renderWebGL(renderer), i = 0, j = this.children.length; i < j; ++i) this.children[i].renderWebGL(renderer)
        }
      }, Container.prototype._renderWebGL = function (renderer) {
      }, Container.prototype._renderCanvas = function (renderer) {
      }, Container.prototype.renderCanvas = function (renderer) {
        if (this.visible && !(this.alpha <= 0) && this.renderable) {
          this._mask && renderer.maskManager.pushMask(this._mask, renderer), this._renderCanvas(renderer);
          for (var i = 0, j = this.children.length; i < j; ++i) this.children[i].renderCanvas(renderer);
          this._mask && renderer.maskManager.popMask(renderer)
        }
      }, Container.prototype.destroy = function (destroyChildren) {
        if (DisplayObject.prototype.destroy.call(this), destroyChildren) for (var i = 0, j = this.children.length; i < j; ++i) this.children[i].destroy(destroyChildren);
        this.removeChildren(), this.children = null
      }
    }, {"../math": 31, "../textures/RenderTexture": 70, "./DisplayObject": 22}],
    22: [function (require, module, exports) {
      function DisplayObject () {
        EventEmitter.call(this), this.position = new math.Point, this.scale = new math.Point(1, 1), this.pivot = new math.Point(0, 0), this.skew = new math.Point(0, 0), this.rotation = 0, this.alpha = 1, this.visible = !0, this.renderable = !0, this.parent = null, this.worldAlpha = 1, this.worldTransform = new math.Matrix, this.filterArea = null, this._sr = 0, this._cr = 1, this._bounds = new math.Rectangle(0, 0, 1, 1), this._currentBounds = null, this._mask = null
      }

      var math = require("../math"), RenderTexture = require("../textures/RenderTexture"),
        EventEmitter = require("eventemitter3"), CONST = require("../const"), _tempMatrix = new math.Matrix,
        _tempDisplayObjectParent = {worldTransform: new math.Matrix, worldAlpha: 1, children: []};
      DisplayObject.prototype = Object.create(EventEmitter.prototype), DisplayObject.prototype.constructor = DisplayObject, module.exports = DisplayObject, Object.defineProperties(DisplayObject.prototype, {
        x: {
          get: function () {
            return this.position.x
          }, set: function (value) {
            this.position.x = value
          }
        }, y: {
          get: function () {
            return this.position.y
          }, set: function (value) {
            this.position.y = value
          }
        }, worldVisible: {
          get: function () {
            var item = this;
            do {
              if (!item.visible) return !1;
              item = item.parent
            } while (item);
            return !0
          }
        }, mask: {
          get: function () {
            return this._mask
          }, set: function (value) {
            this._mask && (this._mask.renderable = !0), this._mask = value, this._mask && (this._mask.renderable = !1)
          }
        }, filters: {
          get: function () {
            return this._filters && this._filters.slice()
          }, set: function (value) {
            this._filters = value && value.slice()
          }
        }
      }), DisplayObject.prototype.updateTransform = function () {
        var a, b, c, d, tx, ty, pt = this.parent.worldTransform, wt = this.worldTransform;
        this.skew.x || this.skew.y ? (_tempMatrix.setTransform(this.position.x, this.position.y, this.pivot.x, this.pivot.y, this.scale.x, this.scale.y, this.rotation, this.skew.x, this.skew.y), wt.a = _tempMatrix.a * pt.a + _tempMatrix.b * pt.c, wt.b = _tempMatrix.a * pt.b + _tempMatrix.b * pt.d, wt.c = _tempMatrix.c * pt.a + _tempMatrix.d * pt.c, wt.d = _tempMatrix.c * pt.b + _tempMatrix.d * pt.d, wt.tx = _tempMatrix.tx * pt.a + _tempMatrix.ty * pt.c + pt.tx, wt.ty = _tempMatrix.tx * pt.b + _tempMatrix.ty * pt.d + pt.ty) : this.rotation % CONST.PI_2 ? (this.rotation !== this.rotationCache && (this.rotationCache = this.rotation, this._sr = Math.sin(this.rotation), this._cr = Math.cos(this.rotation)), a = this._cr * this.scale.x, b = this._sr * this.scale.x, c = -this._sr * this.scale.y, d = this._cr * this.scale.y, tx = this.position.x, ty = this.position.y, (this.pivot.x || this.pivot.y) && (tx -= this.pivot.x * a + this.pivot.y * c, ty -= this.pivot.x * b + this.pivot.y * d), wt.a = a * pt.a + b * pt.c, wt.b = a * pt.b + b * pt.d, wt.c = c * pt.a + d * pt.c, wt.d = c * pt.b + d * pt.d, wt.tx = tx * pt.a + ty * pt.c + pt.tx, wt.ty = tx * pt.b + ty * pt.d + pt.ty) : (a = this.scale.x, d = this.scale.y, tx = this.position.x - this.pivot.x * a, ty = this.position.y - this.pivot.y * d, wt.a = a * pt.a, wt.b = a * pt.b, wt.c = d * pt.c, wt.d = d * pt.d, wt.tx = tx * pt.a + ty * pt.c + pt.tx, wt.ty = tx * pt.b + ty * pt.d + pt.ty), this.worldAlpha = this.alpha * this.parent.worldAlpha, this._currentBounds = null
      }, DisplayObject.prototype.displayObjectUpdateTransform = DisplayObject.prototype.updateTransform, DisplayObject.prototype.getBounds = function (matrix) {
        return math.Rectangle.EMPTY
      }, DisplayObject.prototype.getLocalBounds = function () {
        return this.getBounds(math.Matrix.IDENTITY)
      }, DisplayObject.prototype.toGlobal = function (position) {
        return this.parent ? this.displayObjectUpdateTransform() : (this.parent = _tempDisplayObjectParent, this.displayObjectUpdateTransform(), this.parent = null), this.worldTransform.apply(position)
      }, DisplayObject.prototype.toLocal = function (position, from) {
        return from && (position = from.toGlobal(position)), this.parent ? this.displayObjectUpdateTransform() : (this.parent = _tempDisplayObjectParent, this.displayObjectUpdateTransform(), this.parent = null), this.worldTransform.applyInverse(position)
      }, DisplayObject.prototype.renderWebGL = function (renderer) {
      }, DisplayObject.prototype.renderCanvas = function (renderer) {
      }, DisplayObject.prototype.generateTexture = function (renderer, scaleMode, resolution) {
        var bounds = this.getLocalBounds(),
          renderTexture = new RenderTexture(renderer, 0 | bounds.width, 0 | bounds.height, scaleMode, resolution);
        return _tempMatrix.tx = -bounds.x, _tempMatrix.ty = -bounds.y, renderTexture.render(this, _tempMatrix), renderTexture
      }, DisplayObject.prototype.setParent = function (container) {
        if (!container || !container.addChild) throw new Error("setParent: Argument must be a Container");
        return container.addChild(this), container
      }, DisplayObject.prototype.setTransform = function (x, y, scaleX, scaleY, rotation, skewX, skewY, pivotX, pivotY) {
        return this.position.x = x || 0, this.position.y = y || 0, this.scale.x = scaleX ? scaleX : 1, this.scale.y = scaleY ? scaleY : 1, this.rotation = rotation || 0, this.skew.x = skewX || 0, this.skew.y = skewY || 0, this.pivot.x = pivotX || 0, this.pivot.y = pivotY || 0, this
      }, DisplayObject.prototype.destroy = function () {
        this.position = null, this.scale = null, this.pivot = null, this.skew = null, this.parent = null, this._bounds = null, this._currentBounds = null, this._mask = null, this.worldTransform = null, this.filterArea = null
      }
    }, {"../const": 20, "../math": 31, "../textures/RenderTexture": 70, eventemitter3: 10}],
    23: [function (require, module, exports) {
      function Graphics () {
        Container.call(this), this.type = "graphics", this.fillAlpha = 1, this.lineWidth = 0, this.lineColor = 0, this.graphicsData = [], this.tint = 16777215, this._prevTint = 16777215, this.blendMode = CONST.BLEND_MODES.NORMAL, this.currentPath = null, this._webGL = {}, this.isMask = !1, this.boundsPadding = 0, this._localBounds = new math.Rectangle(0, 0, 1, 1), this.dirty = !0, this.glDirty = !1, this.boundsDirty = !0, this.cachedSpriteDirty = !1
      }

      var Container = require("../display/Container"), Texture = require("../textures/Texture"),
        CanvasBuffer = require("../renderers/canvas/utils/CanvasBuffer"),
        CanvasGraphics = require("../renderers/canvas/utils/CanvasGraphics"), GraphicsData = require("./GraphicsData"),
        math = require("../math"), CONST = require("../const"), tempPoint = new math.Point;
      Graphics.prototype = Object.create(Container.prototype), Graphics.prototype.constructor = Graphics, module.exports = Graphics, Graphics.prototype.clone = function () {
        var clone = new Graphics;
        clone.renderable = this.renderable, clone.fillAlpha = this.fillAlpha, clone.lineWidth = this.lineWidth, clone.lineColor = this.lineColor, clone.tint = this.tint, clone.blendMode = this.blendMode, clone.isMask = this.isMask, clone.boundsPadding = this.boundsPadding, clone.dirty = !0, clone.glDirty = !0, clone.cachedSpriteDirty = this.cachedSpriteDirty;
        for (var i = 0; i < this.graphicsData.length; ++i) clone.graphicsData.push(this.graphicsData[i].clone());
        return clone.currentPath = clone.graphicsData[clone.graphicsData.length - 1], clone.updateLocalBounds(), clone
      }, Graphics.prototype.lineStyle = function (lineWidth, color, alpha) {
        if (this.lineWidth = lineWidth || 0, this.lineColor = color || 0, this.lineAlpha = void 0 === alpha ? 1 : alpha, this.currentPath) if (this.currentPath.shape.points.length) {
          var shape = new math.Polygon(this.currentPath.shape.points.slice(-2));
          shape.closed = !1, this.drawShape(shape)
        } else this.currentPath.lineWidth = this.lineWidth, this.currentPath.lineColor = this.lineColor, this.currentPath.lineAlpha = this.lineAlpha;
        return this
      }, Graphics.prototype.moveTo = function (x, y) {
        var shape = new math.Polygon([x, y]);
        return shape.closed = !1, this.drawShape(shape), this
      }, Graphics.prototype.lineTo = function (x, y) {
        return this.currentPath.shape.points.push(x, y), this.dirty = !0, this
      }, Graphics.prototype.quadraticCurveTo = function (cpX, cpY, toX, toY) {
        this.currentPath ? 0 === this.currentPath.shape.points.length && (this.currentPath.shape.points = [0, 0]) : this.moveTo(0, 0);
        var xa, ya, n = 20, points = this.currentPath.shape.points;
        0 === points.length && this.moveTo(0, 0);
        for (var fromX = points[points.length - 2], fromY = points[points.length - 1], j = 0, i = 1; i <= n; ++i) j = i / n, xa = fromX + (cpX - fromX) * j, ya = fromY + (cpY - fromY) * j, points.push(xa + (cpX + (toX - cpX) * j - xa) * j, ya + (cpY + (toY - cpY) * j - ya) * j);
        return this.dirty = this.boundsDirty = !0, this
      }, Graphics.prototype.bezierCurveTo = function (cpX, cpY, cpX2, cpY2, toX, toY) {
        this.currentPath ? 0 === this.currentPath.shape.points.length && (this.currentPath.shape.points = [0, 0]) : this.moveTo(0, 0);
        for (var dt, dt2, dt3, t2, t3, n = 20, points = this.currentPath.shape.points, fromX = points[points.length - 2], fromY = points[points.length - 1], j = 0, i = 1; i <= n; ++i) j = i / n, dt = 1 - j, dt2 = dt * dt, dt3 = dt2 * dt, t2 = j * j, t3 = t2 * j, points.push(dt3 * fromX + 3 * dt2 * j * cpX + 3 * dt * t2 * cpX2 + t3 * toX, dt3 * fromY + 3 * dt2 * j * cpY + 3 * dt * t2 * cpY2 + t3 * toY);
        return this.dirty = this.boundsDirty = !0, this
      }, Graphics.prototype.arcTo = function (x1, y1, x2, y2, radius) {
        this.currentPath ? 0 === this.currentPath.shape.points.length && this.currentPath.shape.points.push(x1, y1) : this.moveTo(x1, y1);
        var points = this.currentPath.shape.points, fromX = points[points.length - 2],
          fromY = points[points.length - 1], a1 = fromY - y1, b1 = fromX - x1, a2 = y2 - y1, b2 = x2 - x1,
          mm = Math.abs(a1 * b2 - b1 * a2);
        if (mm < 1e-8 || 0 === radius) points[points.length - 2] === x1 && points[points.length - 1] === y1 || points.push(x1, y1); else {
          var dd = a1 * a1 + b1 * b1, cc = a2 * a2 + b2 * b2, tt = a1 * a2 + b1 * b2, k1 = radius * Math.sqrt(dd) / mm,
            k2 = radius * Math.sqrt(cc) / mm, j1 = k1 * tt / dd, j2 = k2 * tt / cc, cx = k1 * b2 + k2 * b1,
            cy = k1 * a2 + k2 * a1, px = b1 * (k2 + j1), py = a1 * (k2 + j1), qx = b2 * (k1 + j2), qy = a2 * (k1 + j2),
            startAngle = Math.atan2(py - cy, px - cx), endAngle = Math.atan2(qy - cy, qx - cx);
          this.arc(cx + x1, cy + y1, radius, startAngle, endAngle, b1 * a2 > b2 * a1)
        }
        return this.dirty = this.boundsDirty = !0, this
      }, Graphics.prototype.arc = function (cx, cy, radius, startAngle, endAngle, anticlockwise) {
        if (anticlockwise = anticlockwise || !1, startAngle === endAngle) return this;
        !anticlockwise && endAngle <= startAngle ? endAngle += 2 * Math.PI : anticlockwise && startAngle <= endAngle && (startAngle += 2 * Math.PI);
        var sweep = anticlockwise ? (startAngle - endAngle) * -1 : endAngle - startAngle,
          segs = 40 * Math.ceil(Math.abs(sweep) / (2 * Math.PI));
        if (0 === sweep) return this;
        var startX = cx + Math.cos(startAngle) * radius, startY = cy + Math.sin(startAngle) * radius;
        this.currentPath ? this.currentPath.shape.points.push(startX, startY) : this.moveTo(startX, startY);
        for (var points = this.currentPath.shape.points, theta = sweep / (2 * segs), theta2 = 2 * theta, cTheta = Math.cos(theta), sTheta = Math.sin(theta), segMinus = segs - 1, remainder = segMinus % 1 / segMinus, i = 0; i <= segMinus; i++) {
          var real = i + remainder * i, angle = theta + startAngle + theta2 * real, c = Math.cos(angle),
            s = -Math.sin(angle);
          points.push((cTheta * c + sTheta * s) * radius + cx, (cTheta * -s + sTheta * c) * radius + cy)
        }
        return this.dirty = this.boundsDirty = !0, this
      }, Graphics.prototype.beginFill = function (color, alpha) {
        return this.filling = !0, this.fillColor = color || 0, this.fillAlpha = void 0 === alpha ? 1 : alpha, this.currentPath && this.currentPath.shape.points.length <= 2 && (this.currentPath.fill = this.filling, this.currentPath.fillColor = this.fillColor, this.currentPath.fillAlpha = this.fillAlpha), this
      }, Graphics.prototype.endFill = function () {
        return this.filling = !1, this.fillColor = null, this.fillAlpha = 1, this
      }, Graphics.prototype.drawRect = function (x, y, width, height) {
        return this.drawShape(new math.Rectangle(x, y, width, height)), this
      }, Graphics.prototype.drawRoundedRect = function (x, y, width, height, radius) {
        return this.drawShape(new math.RoundedRectangle(x, y, width, height, radius)), this
      }, Graphics.prototype.drawCircle = function (x, y, radius) {
        return this.drawShape(new math.Circle(x, y, radius)), this
      }, Graphics.prototype.drawEllipse = function (x, y, width, height) {
        return this.drawShape(new math.Ellipse(x, y, width, height)), this
      }, Graphics.prototype.drawPolygon = function (path) {
        var points = path, closed = !0;
        if (points instanceof math.Polygon && (closed = points.closed, points = points.points), !Array.isArray(points)) {
          points = new Array(arguments.length);
          for (var i = 0; i < points.length; ++i) points[i] = arguments[i]
        }
        var shape = new math.Polygon(points);
        return shape.closed = closed, this.drawShape(shape), this
      }, Graphics.prototype.clear = function () {
        return this.lineWidth = 0, this.filling = !1, this.dirty = !0, this.clearDirty = !0, this.graphicsData = [], this
      }, Graphics.prototype.generateTexture = function (renderer, resolution, scaleMode) {
        resolution = resolution || 1;
        var bounds = this.getLocalBounds(),
          canvasBuffer = new CanvasBuffer(bounds.width * resolution, bounds.height * resolution),
          texture = Texture.fromCanvas(canvasBuffer.canvas, scaleMode);
        return texture.baseTexture.resolution = resolution, canvasBuffer.context.scale(resolution, resolution), canvasBuffer.context.translate(-bounds.x, -bounds.y), CanvasGraphics.renderGraphics(this, canvasBuffer.context), texture
      }, Graphics.prototype._renderWebGL = function (renderer) {
        this.glDirty && (this.dirty = !0, this.glDirty = !1), renderer.setObjectRenderer(renderer.plugins.graphics), renderer.plugins.graphics.render(this)
      }, Graphics.prototype._renderCanvas = function (renderer) {
        if (this.isMask !== !0) {
          this._prevTint !== this.tint && (this.dirty = !0);
          var context = renderer.context, transform = this.worldTransform,
            compositeOperation = renderer.blendModes[this.blendMode];
          compositeOperation !== context.globalCompositeOperation && (context.globalCompositeOperation = compositeOperation);
          var resolution = renderer.resolution;
          context.setTransform(transform.a * resolution, transform.b * resolution, transform.c * resolution, transform.d * resolution, transform.tx * resolution, transform.ty * resolution), CanvasGraphics.renderGraphics(this, context)
        }
      }, Graphics.prototype.getBounds = function (matrix) {
        if (!this._currentBounds) {
          if (!this.renderable) return math.Rectangle.EMPTY;
          this.boundsDirty && (this.updateLocalBounds(), this.glDirty = !0, this.cachedSpriteDirty = !0, this.boundsDirty = !1);
          var bounds = this._localBounds, w0 = bounds.x, w1 = bounds.width + bounds.x, h0 = bounds.y,
            h1 = bounds.height + bounds.y, worldTransform = matrix || this.worldTransform, a = worldTransform.a,
            b = worldTransform.b, c = worldTransform.c, d = worldTransform.d, tx = worldTransform.tx,
            ty = worldTransform.ty, x1 = a * w1 + c * h1 + tx, y1 = d * h1 + b * w1 + ty, x2 = a * w0 + c * h1 + tx,
            y2 = d * h1 + b * w0 + ty, x3 = a * w0 + c * h0 + tx, y3 = d * h0 + b * w0 + ty, x4 = a * w1 + c * h0 + tx,
            y4 = d * h0 + b * w1 + ty, maxX = x1, maxY = y1, minX = x1, minY = y1;
          minX = x2 < minX ? x2 : minX, minX = x3 < minX ? x3 : minX, minX = x4 < minX ? x4 : minX, minY = y2 < minY ? y2 : minY, minY = y3 < minY ? y3 : minY, minY = y4 < minY ? y4 : minY, maxX = x2 > maxX ? x2 : maxX, maxX = x3 > maxX ? x3 : maxX, maxX = x4 > maxX ? x4 : maxX, maxY = y2 > maxY ? y2 : maxY, maxY = y3 > maxY ? y3 : maxY, maxY = y4 > maxY ? y4 : maxY, this._bounds.x = minX, this._bounds.width = maxX - minX, this._bounds.y = minY, this._bounds.height = maxY - minY, this._currentBounds = this._bounds
        }
        return this._currentBounds
      }, Graphics.prototype.containsPoint = function (point) {
        this.worldTransform.applyInverse(point, tempPoint);
        for (var graphicsData = this.graphicsData, i = 0; i < graphicsData.length; i++) {
          var data = graphicsData[i];
          if (data.fill && data.shape && data.shape.contains(tempPoint.x, tempPoint.y)) return !0
        }
        return !1
      }, Graphics.prototype.updateLocalBounds = function () {
        var minX = 1 / 0, maxX = -(1 / 0), minY = 1 / 0, maxY = -(1 / 0);
        if (this.graphicsData.length) for (var shape, points, x, y, w, h, i = 0; i < this.graphicsData.length; i++) {
          var data = this.graphicsData[i], type = data.type, lineWidth = data.lineWidth;
          if (shape = data.shape, type === CONST.SHAPES.RECT || type === CONST.SHAPES.RREC) x = shape.x - lineWidth / 2, y = shape.y - lineWidth / 2, w = shape.width + lineWidth, h = shape.height + lineWidth, minX = x < minX ? x : minX, maxX = x + w > maxX ? x + w : maxX, minY = y < minY ? y : minY, maxY = y + h > maxY ? y + h : maxY; else if (type === CONST.SHAPES.CIRC) x = shape.x, y = shape.y, w = shape.radius + lineWidth / 2, h = shape.radius + lineWidth / 2, minX = x - w < minX ? x - w : minX, maxX = x + w > maxX ? x + w : maxX, minY = y - h < minY ? y - h : minY, maxY = y + h > maxY ? y + h : maxY; else if (type === CONST.SHAPES.ELIP) x = shape.x, y = shape.y, w = shape.width + lineWidth / 2, h = shape.height + lineWidth / 2, minX = x - w < minX ? x - w : minX, maxX = x + w > maxX ? x + w : maxX, minY = y - h < minY ? y - h : minY, maxY = y + h > maxY ? y + h : maxY; else {
            points = shape.points;
            for (var j = 0; j < points.length; j += 2) x = points[j], y = points[j + 1], minX = x - lineWidth < minX ? x - lineWidth : minX, maxX = x + lineWidth > maxX ? x + lineWidth : maxX, minY = y - lineWidth < minY ? y - lineWidth : minY, maxY = y + lineWidth > maxY ? y + lineWidth : maxY
          }
        } else minX = 0, maxX = 0, minY = 0, maxY = 0;
        var padding = this.boundsPadding;
        this._localBounds.x = minX - padding, this._localBounds.width = maxX - minX + 2 * padding, this._localBounds.y = minY - padding, this._localBounds.height = maxY - minY + 2 * padding
      }, Graphics.prototype.drawShape = function (shape) {
        this.currentPath && this.currentPath.shape.points.length <= 2 && this.graphicsData.pop(), this.currentPath = null;
        var data = new GraphicsData(this.lineWidth, this.lineColor, this.lineAlpha, this.fillColor, this.fillAlpha, this.filling, shape);
        return this.graphicsData.push(data), data.type === CONST.SHAPES.POLY && (data.shape.closed = data.shape.closed || this.filling, this.currentPath = data), this.dirty = this.boundsDirty = !0, data
      }, Graphics.prototype.destroy = function () {
        Container.prototype.destroy.apply(this, arguments);
        for (var i = 0; i < this.graphicsData.length; ++i) this.graphicsData[i].destroy();
        for (var id in this._webgl) for (var j = 0; j < this._webgl[id].data.length; ++j) this._webgl[id].data[j].destroy();
        this.graphicsData = null, this.currentPath = null, this._webgl = null, this._localBounds = null
      }
    }, {
      "../const": 20,
      "../display/Container": 21,
      "../math": 31,
      "../renderers/canvas/utils/CanvasBuffer": 43,
      "../renderers/canvas/utils/CanvasGraphics": 44,
      "../textures/Texture": 71,
      "./GraphicsData": 24
    }],
    24: [function (require, module, exports) {
      function GraphicsData (lineWidth, lineColor, lineAlpha, fillColor, fillAlpha, fill, shape) {
        this.lineWidth = lineWidth, this.lineColor = lineColor, this.lineAlpha = lineAlpha, this._lineTint = lineColor, this.fillColor = fillColor, this.fillAlpha = fillAlpha, this._fillTint = fillColor, this.fill = fill, this.shape = shape, this.type = shape.type
      }

      GraphicsData.prototype.constructor = GraphicsData, module.exports = GraphicsData, GraphicsData.prototype.clone = function () {
        return new GraphicsData(this.lineWidth, this.lineColor, this.lineAlpha, this.fillColor, this.fillAlpha, this.fill, this.shape)
      }, GraphicsData.prototype.destroy = function () {
        this.shape = null
      }
    }, {}],
    25: [function (require, module, exports) {
      function GraphicsPharell () {
        Graphics.call(this), this.type = "pharell", this.noiseScale = 0, this.noiseTime = 0, this.noiseTimeScale = 0, this.noiseValue = 0, this.px = 0, this.py = 0, this.dx = 0, this.dy = 0, this.rad = 0, this.rectMask = [-1e3, -1e3, 1e3, 1e3], this.mapNoise = null
      }

      var Graphics = require("./Graphics");
      GraphicsPharell.prototype = Object.create(Graphics.prototype), GraphicsPharell.prototype.constructor = GraphicsPharell, module.exports = GraphicsPharell
    }, {"./Graphics": 23}],
    26: [function (require, module, exports) {
      function GraphicsRenderer (renderer) {
        ObjectRenderer.call(this, renderer), this.graphicsDataPool = [], this.primitiveShader = null, this.complexPrimitiveShader = null, this.maximumSimplePolySize = 200
      }

      var utils = require("../../utils"), math = require("../../math"), CONST = require("../../const"),
        ObjectRenderer = require("../../renderers/webgl/utils/ObjectRenderer"),
        WebGLRenderer = require("../../renderers/webgl/WebGLRenderer"),
        WebGLGraphicsData = require("./WebGLGraphicsData"), earcut = require("earcut");
      GraphicsRenderer.prototype = Object.create(ObjectRenderer.prototype), GraphicsRenderer.prototype.constructor = GraphicsRenderer, module.exports = GraphicsRenderer, WebGLRenderer.registerPlugin("graphics", GraphicsRenderer), GraphicsRenderer.prototype.onContextChange = function () {
      }, GraphicsRenderer.prototype.destroy = function () {
        ObjectRenderer.prototype.destroy.call(this);
        for (var i = 0; i < this.graphicsDataPool.length; ++i) this.graphicsDataPool[i].destroy();
        this.graphicsDataPool = null
      }, GraphicsRenderer.prototype.render = function (graphics) {
        this.textureCount = 1;
        var webGLData, renderer = this.renderer, gl = renderer.gl,
          shader = renderer.shaderManager.plugins.primitiveShader;
        !graphics.dirty && graphics._webGL[gl.id] || this.updateGraphics(graphics);
        var webGL = graphics._webGL[gl.id];
        renderer.blendModeManager.setBlendMode(graphics.blendMode);
        for (var i = 0, n = webGL.data.length; i < n; i++) {
          if (webGLData = webGL.data[i], 1 === webGL.data[i].mode) renderer.stencilManager.pushStencil(graphics, webGLData), gl.uniform1f(renderer.shaderManager.complexPrimitiveShader.uniforms.alpha._location, graphics.worldAlpha * webGLData.alpha), gl.drawElements(gl.TRIANGLE_FAN, 4, gl.UNSIGNED_SHORT, 2 * (webGLData.indices.length - 4)), renderer.stencilManager.popStencil(graphics, webGLData); else {
            if (shader = renderer.shaderManager.primitiveShader, "pharell" == graphics.type && (shader = renderer.shaderManager.primitivePharellShader, shader.textureCount = 1), renderer.shaderManager.setShader(shader), gl.uniformMatrix3fv(shader.uniforms.translationMatrix._location, !1, graphics.worldTransform.toArray(!0)), gl.uniformMatrix3fv(shader.uniforms.projectionMatrix._location, !1, renderer.currentRenderTarget.projectionMatrix.toArray(!0)), gl.uniform3fv(shader.uniforms.tint._location, utils.hex2rgb(graphics.tint)), gl.uniform1f(shader.uniforms.alpha._location, graphics.worldAlpha), "pharell" == graphics.type) {
              gl.uniform1f(shader.uniforms.noiseScale._location, graphics.noiseScale), gl.uniform1f(shader.uniforms.noiseTime._location, graphics.noiseTime), gl.uniform1f(shader.uniforms.noiseTimeScale._location, graphics.noiseTimeScale), gl.uniform1f(shader.uniforms.noiseValue._location, graphics.noiseValue), gl.uniform1f(shader.uniforms.px._location, graphics.px), gl.uniform1f(shader.uniforms.py._location, graphics.py), gl.uniform1f(shader.uniforms.dx._location, graphics.dx), gl.uniform1f(shader.uniforms.dy._location, graphics.dy), gl.uniform1f(shader.uniforms.rad._location, graphics.rad), gl.uniform4f(shader.uniforms.rectMask._location, graphics.rectMask[0], graphics.rectMask[1], graphics.rectMask[2], graphics.rectMask[3]);
              var uniform = shader.uniforms.mapNoise;
              if (uniform.value = graphics.mapNoise, uniform && uniform.value.baseTexture && uniform.value.baseTexture.hasLoaded) {
                gl.activeTexture(gl["TEXTURE" + shader.textureCount]);
                var texture = uniform.value.baseTexture._glTextures[gl.id];
                texture || (shader.initSampler2D(uniform), texture = uniform.value.baseTexture._glTextures[gl.id]), gl.bindTexture(gl.TEXTURE_2D, texture), gl.uniform1i(shader.uniforms.mapNoise._location, shader.textureCount), shader.textureCount++
              }
            }
            gl.bindBuffer(gl.ARRAY_BUFFER, webGLData.buffer), gl.vertexAttribPointer(shader.attributes.aVertexPosition, 2, gl.FLOAT, !1, 24, 0), gl.vertexAttribPointer(shader.attributes.aColor, 4, gl.FLOAT, !1, 24, 8), gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, webGLData.indexBuffer), gl.drawElements(gl.TRIANGLE_STRIP, webGLData.indices.length, gl.UNSIGNED_SHORT, 0)
          }
          renderer.drawCount++
        }
      }, GraphicsRenderer.prototype.updateGraphics = function (graphics) {
        var gl = this.renderer.gl, webGL = graphics._webGL[gl.id];
        webGL || (webGL = graphics._webGL[gl.id] = {lastIndex: 0, data: [], gl: gl}), graphics.dirty = !1;
        var i;
        if (graphics.clearDirty) {
          for (graphics.clearDirty = !1, i = 0; i < webGL.data.length; i++) {
            var graphicsData = webGL.data[i];
            graphicsData.reset(), this.graphicsDataPool.push(graphicsData)
          }
          webGL.data = [], webGL.lastIndex = 0
        }
        var webGLData;
        for (i = webGL.lastIndex; i < graphics.graphicsData.length; i++) {
          var data = graphics.graphicsData[i];
          if (data.type === CONST.SHAPES.POLY) {
            if (data.points = data.shape.points.slice(), data.shape.closed && (data.points[0] === data.points[data.points.length - 2] && data.points[1] === data.points[data.points.length - 1] || data.points.push(data.points[0], data.points[1])), data.fill && data.points.length >= 6) if (data.points.length < 2 * this.maximumSimplePolySize) {
              webGLData = this.switchMode(webGL, 0);
              var canDrawUsingSimple = this.buildPoly(data, webGLData);
              canDrawUsingSimple || (webGLData = this.switchMode(webGL, 1), this.buildComplexPoly(data, webGLData))
            } else webGLData = this.switchMode(webGL, 1), this.buildComplexPoly(data, webGLData);
            data.lineWidth > 0 && (webGLData = this.switchMode(webGL, 0), this.buildLine(data, webGLData))
          } else webGLData = this.switchMode(webGL, 0), data.type === CONST.SHAPES.RECT ? this.buildRectangle(data, webGLData) : data.type === CONST.SHAPES.CIRC || data.type === CONST.SHAPES.ELIP ? this.buildCircle(data, webGLData) : data.type === CONST.SHAPES.RREC && this.buildRoundedRectangle(data, webGLData);
          webGL.lastIndex++
        }
        for (i = 0; i < webGL.data.length; i++) webGLData = webGL.data[i], webGLData.dirty && webGLData.upload()
      }, GraphicsRenderer.prototype.switchMode = function (webGL, type) {
        var webGLData;
        return webGL.data.length ? (webGLData = webGL.data[webGL.data.length - 1], (webGLData.points.length > 32e4 || webGLData.mode !== type || 1 === type) && (webGLData = this.graphicsDataPool.pop() || new WebGLGraphicsData(webGL.gl), webGLData.mode = type, webGL.data.push(webGLData))) : (webGLData = this.graphicsDataPool.pop() || new WebGLGraphicsData(webGL.gl), webGLData.mode = type, webGL.data.push(webGLData)), webGLData.dirty = !0, webGLData
      }, GraphicsRenderer.prototype.buildRectangle = function (graphicsData, webGLData) {
        var rectData = graphicsData.shape, x = rectData.x, y = rectData.y, width = rectData.width,
          height = rectData.height;
        if (graphicsData.fill) {
          var color = utils.hex2rgb(graphicsData.fillColor), alpha = graphicsData.fillAlpha, r = color[0] * alpha,
            g = color[1] * alpha, b = color[2] * alpha, verts = webGLData.points, indices = webGLData.indices,
            vertPos = verts.length / 6;
          verts.push(x, y), verts.push(r, g, b, alpha), verts.push(x + width, y), verts.push(r, g, b, alpha), verts.push(x, y + height), verts.push(r, g, b, alpha), verts.push(x + width, y + height), verts.push(r, g, b, alpha), indices.push(vertPos, vertPos, vertPos + 1, vertPos + 2, vertPos + 3, vertPos + 3)
        }
        if (graphicsData.lineWidth) {
          var tempPoints = graphicsData.points;
          graphicsData.points = [x, y, x + width, y, x + width, y + height, x, y + height, x, y], this.buildLine(graphicsData, webGLData), graphicsData.points = tempPoints
        }
      }, GraphicsRenderer.prototype.buildRoundedRectangle = function (graphicsData, webGLData) {
        var rrectData = graphicsData.shape, x = rrectData.x, y = rrectData.y, width = rrectData.width,
          height = rrectData.height, radius = rrectData.radius, recPoints = [];
        if (recPoints.push(x, y + radius), this.quadraticBezierCurve(x, y + height - radius, x, y + height, x + radius, y + height, recPoints), this.quadraticBezierCurve(x + width - radius, y + height, x + width, y + height, x + width, y + height - radius, recPoints), this.quadraticBezierCurve(x + width, y + radius, x + width, y, x + width - radius, y, recPoints), this.quadraticBezierCurve(x + radius, y, x, y, x, y + radius + 1e-10, recPoints), graphicsData.fill) {
          var color = utils.hex2rgb(graphicsData.fillColor), alpha = graphicsData.fillAlpha, r = color[0] * alpha,
            g = color[1] * alpha, b = color[2] * alpha, verts = webGLData.points, indices = webGLData.indices,
            vecPos = verts.length / 6, triangles = earcut(recPoints, null, 2), i = 0;
          for (i = 0; i < triangles.length; i += 3) indices.push(triangles[i] + vecPos), indices.push(triangles[i] + vecPos), indices.push(triangles[i + 1] + vecPos), indices.push(triangles[i + 2] + vecPos), indices.push(triangles[i + 2] + vecPos);
          for (i = 0; i < recPoints.length; i++) verts.push(recPoints[i], recPoints[++i], r, g, b, alpha)
        }
        if (graphicsData.lineWidth) {
          var tempPoints = graphicsData.points;
          graphicsData.points = recPoints, this.buildLine(graphicsData, webGLData), graphicsData.points = tempPoints
        }
      }, GraphicsRenderer.prototype.quadraticBezierCurve = function (fromX, fromY, cpX, cpY, toX, toY, out) {
        function getPt (n1, n2, perc) {
          var diff = n2 - n1;
          return n1 + diff * perc
        }

        for (var xa, ya, xb, yb, x, y, n = 20, points = out || [], j = 0, i = 0; i <= n; i++) j = i / n, xa = getPt(fromX, cpX, j), ya = getPt(fromY, cpY, j), xb = getPt(cpX, toX, j), yb = getPt(cpY, toY, j), x = getPt(xa, xb, j), y = getPt(ya, yb, j), points.push(x, y);
        return points
      }, GraphicsRenderer.prototype.buildCircle = function (graphicsData, webGLData) {
        var width, height, circleData = graphicsData.shape, x = circleData.x, y = circleData.y;
        graphicsData.type === CONST.SHAPES.CIRC ? (width = circleData.radius, height = circleData.radius) : (width = circleData.width, height = circleData.height);
        var totalSegs = Math.floor(30 * Math.sqrt(circleData.radius)) || Math.floor(15 * Math.sqrt(circleData.width + circleData.height)),
          seg = 2 * Math.PI / totalSegs, i = 0;
        if (graphicsData.fill) {
          var color = utils.hex2rgb(graphicsData.fillColor), alpha = graphicsData.fillAlpha, r = color[0] * alpha,
            g = color[1] * alpha, b = color[2] * alpha, verts = webGLData.points, indices = webGLData.indices,
            vecPos = verts.length / 6;
          for (indices.push(vecPos), i = 0; i < totalSegs + 1; i++) verts.push(x, y, r, g, b, alpha), verts.push(x + Math.sin(seg * i) * width, y + Math.cos(seg * i) * height, r, g, b, alpha), indices.push(vecPos++, vecPos++);
          indices.push(vecPos - 1)
        }
        if (graphicsData.lineWidth) {
          var tempPoints = graphicsData.points;
          for (graphicsData.points = [], i = 0; i < totalSegs + 1; i++) graphicsData.points.push(x + Math.sin(seg * i) * width, y + Math.cos(seg * i) * height);
          this.buildLine(graphicsData, webGLData), graphicsData.points = tempPoints
        }
      }, GraphicsRenderer.prototype.buildLine = function (graphicsData, webGLData) {
        var i = 0, points = graphicsData.points;
        if (0 !== points.length) {
          var firstPoint = new math.Point(points[0], points[1]),
            lastPoint = new math.Point(points[points.length - 2], points[points.length - 1]);
          if (firstPoint.x === lastPoint.x && firstPoint.y === lastPoint.y) {
            points = points.slice(), points.pop(), points.pop(), lastPoint = new math.Point(points[points.length - 2], points[points.length - 1]);
            var midPointX = lastPoint.x + .5 * (firstPoint.x - lastPoint.x),
              midPointY = lastPoint.y + .5 * (firstPoint.y - lastPoint.y);
            points.unshift(midPointX, midPointY), points.push(midPointX, midPointY)
          }
          var px, py, p1x, p1y, p2x, p2y, p3x, p3y, perpx, perpy, perp2x, perp2y, perp3x, perp3y, a1, b1, c1, a2, b2,
            c2, denom, pdist, dist, verts = webGLData.points, indices = webGLData.indices, length = points.length / 2,
            indexCount = points.length, indexStart = verts.length / 6, width = graphicsData.lineWidth / 2,
            color = utils.hex2rgb(graphicsData.lineColor), alpha = graphicsData.lineAlpha, r = color[0] * alpha,
            g = color[1] * alpha, b = color[2] * alpha;
          for (p1x = points[0], p1y = points[1], p2x = points[2], p2y = points[3], perpx = -(p1y - p2y), perpy = p1x - p2x, dist = Math.sqrt(perpx * perpx + perpy * perpy), perpx /= dist, perpy /= dist, perpx *= width, perpy *= width, verts.push(p1x - perpx, p1y - perpy, r, g, b, alpha), verts.push(p1x + perpx, p1y + perpy, r, g, b, alpha), i = 1; i < length - 1; i++) p1x = points[2 * (i - 1)], p1y = points[2 * (i - 1) + 1], p2x = points[2 * i], p2y = points[2 * i + 1], p3x = points[2 * (i + 1)], p3y = points[2 * (i + 1) + 1], perpx = -(p1y - p2y), perpy = p1x - p2x, dist = Math.sqrt(perpx * perpx + perpy * perpy), perpx /= dist, perpy /= dist, perpx *= width, perpy *= width, perp2x = -(p2y - p3y), perp2y = p2x - p3x, dist = Math.sqrt(perp2x * perp2x + perp2y * perp2y), perp2x /= dist, perp2y /= dist, perp2x *= width, perp2y *= width, a1 = -perpy + p1y - (-perpy + p2y), b1 = -perpx + p2x - (-perpx + p1x), c1 = (-perpx + p1x) * (-perpy + p2y) - (-perpx + p2x) * (-perpy + p1y),
            a2 = -perp2y + p3y - (-perp2y + p2y), b2 = -perp2x + p2x - (-perp2x + p3x), c2 = (-perp2x + p3x) * (-perp2y + p2y) - (-perp2x + p2x) * (-perp2y + p3y), denom = a1 * b2 - a2 * b1, Math.abs(denom) < .1 ? (denom += 10.1, verts.push(p2x - perpx, p2y - perpy, r, g, b, alpha), verts.push(p2x + perpx, p2y + perpy, r, g, b, alpha)) : (px = (b1 * c2 - b2 * c1) / denom, py = (a2 * c1 - a1 * c2) / denom, pdist = (px - p2x) * (px - p2x) + (py - p2y) + (py - p2y), pdist > 19600 ? (perp3x = perpx - perp2x, perp3y = perpy - perp2y, dist = Math.sqrt(perp3x * perp3x + perp3y * perp3y), perp3x /= dist, perp3y /= dist, perp3x *= width, perp3y *= width, verts.push(p2x - perp3x, p2y - perp3y), verts.push(r, g, b, alpha), verts.push(p2x + perp3x, p2y + perp3y), verts.push(r, g, b, alpha), verts.push(p2x - perp3x, p2y - perp3y), verts.push(r, g, b, alpha), indexCount++) : (verts.push(px, py), verts.push(r, g, b, alpha), verts.push(p2x - (px - p2x), p2y - (py - p2y)), verts.push(r, g, b, alpha)));
          for (p1x = points[2 * (length - 2)], p1y = points[2 * (length - 2) + 1], p2x = points[2 * (length - 1)], p2y = points[2 * (length - 1) + 1], perpx = -(p1y - p2y), perpy = p1x - p2x, dist = Math.sqrt(perpx * perpx + perpy * perpy), perpx /= dist, perpy /= dist, perpx *= width, perpy *= width, verts.push(p2x - perpx, p2y - perpy), verts.push(r, g, b, alpha), verts.push(p2x + perpx, p2y + perpy), verts.push(r, g, b, alpha), indices.push(indexStart), i = 0; i < indexCount; i++) indices.push(indexStart++);
          indices.push(indexStart - 1)
        }
      }, GraphicsRenderer.prototype.buildComplexPoly = function (graphicsData, webGLData) {
        var points = graphicsData.points.slice();
        if (!(points.length < 6)) {
          var indices = webGLData.indices;
          webGLData.points = points, webGLData.alpha = graphicsData.fillAlpha, webGLData.color = utils.hex2rgb(graphicsData.fillColor);
          for (var x, y, minX = 1 / 0, maxX = -(1 / 0), minY = 1 / 0, maxY = -(1 / 0), i = 0; i < points.length; i += 2) x = points[i], y = points[i + 1], minX = x < minX ? x : minX, maxX = x > maxX ? x : maxX, minY = y < minY ? y : minY, maxY = y > maxY ? y : maxY;
          points.push(minX, minY, maxX, minY, maxX, maxY, minX, maxY);
          var length = points.length / 2;
          for (i = 0; i < length; i++) indices.push(i)
        }
      }, GraphicsRenderer.prototype.buildPoly = function (graphicsData, webGLData) {
        var points = graphicsData.points;
        if (!(points.length < 6)) {
          var verts = webGLData.points, indices = webGLData.indices, length = points.length / 2,
            color = utils.hex2rgb(graphicsData.fillColor), alpha = graphicsData.fillAlpha, r = color[0] * alpha,
            g = color[1] * alpha, b = color[2] * alpha, triangles = earcut(points, null, 2);
          if (!triangles) return !1;
          var vertPos = verts.length / 6, i = 0;
          for (i = 0; i < triangles.length; i += 3) indices.push(triangles[i] + vertPos), indices.push(triangles[i] + vertPos), indices.push(triangles[i + 1] + vertPos), indices.push(triangles[i + 2] + vertPos), indices.push(triangles[i + 2] + vertPos);
          for (i = 0; i < length; i++) verts.push(points[2 * i], points[2 * i + 1], r, g, b, alpha);
          return !0
        }
      }
    }, {
      "../../const": 20,
      "../../math": 31,
      "../../renderers/webgl/WebGLRenderer": 47,
      "../../renderers/webgl/utils/ObjectRenderer": 62,
      "../../utils": 76,
      "./WebGLGraphicsData": 27,
      earcut: 9
    }],
    27: [function (require, module, exports) {
      function WebGLGraphicsData (gl) {
        this.gl = gl, this.color = [0, 0, 0], this.points = [], this.indices = [], this.buffer = gl.createBuffer(), this.indexBuffer = gl.createBuffer(), this.mode = 1, this.alpha = 1, this.dirty = !0, this.glPoints = null, this.glIndices = null
      }

      WebGLGraphicsData.prototype.constructor = WebGLGraphicsData, module.exports = WebGLGraphicsData, WebGLGraphicsData.prototype.reset = function () {
        this.points.length = 0, this.indices.length = 0
      }, WebGLGraphicsData.prototype.upload = function () {
        var gl = this.gl;
        this.glPoints = new Float32Array(this.points), gl.bindBuffer(gl.ARRAY_BUFFER, this.buffer), gl.bufferData(gl.ARRAY_BUFFER, this.glPoints, gl.STATIC_DRAW), this.glIndices = new Uint16Array(this.indices), gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.indexBuffer), gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, this.glIndices, gl.STATIC_DRAW), this.dirty = !1
      }, WebGLGraphicsData.prototype.destroy = function () {
        this.color = null, this.points = null, this.indices = null, this.gl.deleteBuffer(this.buffer), this.gl.deleteBuffer(this.indexBuffer), this.gl = null, this.buffer = null, this.indexBuffer = null, this.glPoints = null, this.glIndices = null
      }
    }, {}],
    28: [function (require, module, exports) {
      var core = module.exports = Object.assign(require("./const"), require("./math"), {
        utils: require("./utils"),
        ticker: require("./ticker"),
        DisplayObject: require("./display/DisplayObject"),
        Container: require("./display/Container"),
        Sprite: require("./sprites/Sprite"),
        ParticleContainer: require("./particles/ParticleContainer"),
        SpriteRenderer: require("./sprites/webgl/SpriteRenderer"),
        ParticleRenderer: require("./particles/webgl/ParticleRenderer"),
        Text: require("./text/Text"),
        Graphics: require("./graphics/Graphics"),
        GraphicsPharell: require("./graphics/GraphicsPharell"),
        GraphicsData: require("./graphics/GraphicsData"),
        GraphicsRenderer: require("./graphics/webgl/GraphicsRenderer"),
        Texture: require("./textures/Texture"),
        BaseTexture: require("./textures/BaseTexture"),
        RenderTexture: require("./textures/RenderTexture"),
        VideoBaseTexture: require("./textures/VideoBaseTexture"),
        TextureUvs: require("./textures/TextureUvs"),
        CanvasRenderer: require("./renderers/canvas/CanvasRenderer"),
        CanvasGraphics: require("./renderers/canvas/utils/CanvasGraphics"),
        CanvasBuffer: require("./renderers/canvas/utils/CanvasBuffer"),
        WebGLRenderer: require("./renderers/webgl/WebGLRenderer"),
        ShaderManager: require("./renderers/webgl/managers/ShaderManager"),
        Shader: require("./renderers/webgl/shaders/Shader"),
        ObjectRenderer: require("./renderers/webgl/utils/ObjectRenderer"),
        RenderTarget: require("./renderers/webgl/utils/RenderTarget"),
        AbstractFilter: require("./renderers/webgl/filters/AbstractFilter"),
        FXAAFilter: require("./renderers/webgl/filters/FXAAFilter"),
        SpriteMaskFilter: require("./renderers/webgl/filters/SpriteMaskFilter"),
        autoDetectRenderer: function (width, height, options, noWebGL) {
          return width = width || 800, height = height || 600, !noWebGL && core.utils.isWebGLSupported() ? new core.WebGLRenderer(width, height, options) : new core.CanvasRenderer(width, height, options)
        }
      })
    }, {
      "./const": 20,
      "./display/Container": 21,
      "./display/DisplayObject": 22,
      "./graphics/Graphics": 23,
      "./graphics/GraphicsData": 24,
      "./graphics/GraphicsPharell": 25,
      "./graphics/webgl/GraphicsRenderer": 26,
      "./math": 31,
      "./particles/ParticleContainer": 37,
      "./particles/webgl/ParticleRenderer": 39,
      "./renderers/canvas/CanvasRenderer": 42,
      "./renderers/canvas/utils/CanvasBuffer": 43,
      "./renderers/canvas/utils/CanvasGraphics": 44,
      "./renderers/webgl/WebGLRenderer": 47,
      "./renderers/webgl/filters/AbstractFilter": 48,
      "./renderers/webgl/filters/FXAAFilter": 49,
      "./renderers/webgl/filters/SpriteMaskFilter": 50,
      "./renderers/webgl/managers/ShaderManager": 54,
      "./renderers/webgl/shaders/Shader": 60,
      "./renderers/webgl/utils/ObjectRenderer": 62,
      "./renderers/webgl/utils/RenderTarget": 64,
      "./sprites/Sprite": 66,
      "./sprites/webgl/SpriteRenderer": 67,
      "./text/Text": 68,
      "./textures/BaseTexture": 69,
      "./textures/RenderTexture": 70,
      "./textures/Texture": 71,
      "./textures/TextureUvs": 72,
      "./textures/VideoBaseTexture": 73,
      "./ticker": 75,
      "./utils": 76
    }],
    29: [function (require, module, exports) {
      function Matrix () {
        this.a = 1, this.b = 0, this.c = 0, this.d = 1, this.tx = 0, this.ty = 0
      }

      var Point = require("./Point");
      Matrix.prototype.constructor = Matrix, module.exports = Matrix, Matrix.prototype.fromArray = function (array) {
        this.a = array[0], this.b = array[1], this.c = array[3], this.d = array[4], this.tx = array[2], this.ty = array[5]
      }, Matrix.prototype.set = function (a, b, c, d, tx, ty) {
        return this.a = a, this.b = b, this.c = c, this.d = d, this.tx = tx, this.ty = ty, this
      }, Matrix.prototype.toArray = function (transpose, out) {
        this.array || (this.array = new Float32Array(9));
        var array = out || this.array;
        return transpose ? (array[0] = this.a, array[1] = this.b, array[2] = 0, array[3] = this.c, array[4] = this.d, array[5] = 0, array[6] = this.tx, array[7] = this.ty, array[8] = 1) : (array[0] = this.a, array[1] = this.c, array[2] = this.tx, array[3] = this.b, array[4] = this.d, array[5] = this.ty, array[6] = 0, array[7] = 0, array[8] = 1), array
      }, Matrix.prototype.apply = function (pos, newPos) {
        newPos = newPos || new Point;
        var x = pos.x, y = pos.y;
        return newPos.x = this.a * x + this.c * y + this.tx, newPos.y = this.b * x + this.d * y + this.ty, newPos
      }, Matrix.prototype.applyInverse = function (pos, newPos) {
        newPos = newPos || new Point;
        var id = 1 / (this.a * this.d + this.c * -this.b), x = pos.x, y = pos.y;
        return newPos.x = this.d * id * x + -this.c * id * y + (this.ty * this.c - this.tx * this.d) * id, newPos.y = this.a * id * y + -this.b * id * x + (-this.ty * this.a + this.tx * this.b) * id, newPos
      }, Matrix.prototype.translate = function (x, y) {
        return this.tx += x, this.ty += y, this
      }, Matrix.prototype.scale = function (x, y) {
        return this.a *= x, this.d *= y, this.c *= x, this.b *= y, this.tx *= x, this.ty *= y, this
      }, Matrix.prototype.rotate = function (angle) {
        var cos = Math.cos(angle), sin = Math.sin(angle), a1 = this.a, c1 = this.c, tx1 = this.tx;
        return this.a = a1 * cos - this.b * sin, this.b = a1 * sin + this.b * cos, this.c = c1 * cos - this.d * sin, this.d = c1 * sin + this.d * cos, this.tx = tx1 * cos - this.ty * sin, this.ty = tx1 * sin + this.ty * cos, this
      }, Matrix.prototype.append = function (matrix) {
        var a1 = this.a, b1 = this.b, c1 = this.c, d1 = this.d;
        return this.a = matrix.a * a1 + matrix.b * c1, this.b = matrix.a * b1 + matrix.b * d1, this.c = matrix.c * a1 + matrix.d * c1, this.d = matrix.c * b1 + matrix.d * d1, this.tx = matrix.tx * a1 + matrix.ty * c1 + this.tx, this.ty = matrix.tx * b1 + matrix.ty * d1 + this.ty, this
      }, Matrix.prototype.setTransform = function (x, y, pivotX, pivotY, scaleX, scaleY, rotation, skewX, skewY) {
        var a, b, c, d, sr, cr, cy, sy, nsx, cx;
        return sr = Math.sin(rotation), cr = Math.cos(rotation), cy = Math.cos(skewY), sy = Math.sin(skewY), nsx = -Math.sin(skewX), cx = Math.cos(skewX), a = cr * scaleX, b = sr * scaleX, c = -sr * scaleY, d = cr * scaleY, this.a = cy * a + sy * c, this.b = cy * b + sy * d, this.c = nsx * a + cx * c, this.d = nsx * b + cx * d, this.tx = x + (pivotX * a + pivotY * c), this.ty = y + (pivotX * b + pivotY * d), this
      }, Matrix.prototype.prepend = function (matrix) {
        var tx1 = this.tx;
        if (1 !== matrix.a || 0 !== matrix.b || 0 !== matrix.c || 1 !== matrix.d) {
          var a1 = this.a, c1 = this.c;
          this.a = a1 * matrix.a + this.b * matrix.c, this.b = a1 * matrix.b + this.b * matrix.d, this.c = c1 * matrix.a + this.d * matrix.c, this.d = c1 * matrix.b + this.d * matrix.d
        }
        return this.tx = tx1 * matrix.a + this.ty * matrix.c + matrix.tx, this.ty = tx1 * matrix.b + this.ty * matrix.d + matrix.ty, this
      }, Matrix.prototype.invert = function () {
        var a1 = this.a, b1 = this.b, c1 = this.c, d1 = this.d, tx1 = this.tx, n = a1 * d1 - b1 * c1;
        return this.a = d1 / n, this.b = -b1 / n, this.c = -c1 / n, this.d = a1 / n, this.tx = (c1 * this.ty - d1 * tx1) / n, this.ty = -(a1 * this.ty - b1 * tx1) / n, this
      }, Matrix.prototype.identity = function () {
        return this.a = 1, this.b = 0, this.c = 0, this.d = 1, this.tx = 0, this.ty = 0, this
      }, Matrix.prototype.clone = function () {
        var matrix = new Matrix;
        return matrix.a = this.a, matrix.b = this.b, matrix.c = this.c, matrix.d = this.d, matrix.tx = this.tx, matrix.ty = this.ty, matrix
      }, Matrix.prototype.copy = function (matrix) {
        return matrix.a = this.a, matrix.b = this.b, matrix.c = this.c, matrix.d = this.d, matrix.tx = this.tx, matrix.ty = this.ty, matrix
      }, Matrix.IDENTITY = new Matrix, Matrix.TEMP_MATRIX = new Matrix
    }, {"./Point": 30}],
    30: [function (require, module, exports) {
      function Point (x, y) {
        this.x = x || 0, this.y = y || 0
      }

      Point.prototype.constructor = Point, module.exports = Point, Point.prototype.clone = function () {
        return new Point(this.x, this.y)
      }, Point.prototype.copy = function (p) {
        this.set(p.x, p.y)
      }, Point.prototype.equals = function (p) {
        return p.x === this.x && p.y === this.y
      }, Point.prototype.set = function (x, y) {
        this.x = x || 0, this.y = y || (0 !== y ? this.x : 0)
      }
    }, {}],
    31: [function (require, module, exports) {
      module.exports = {
        Point: require("./Point"),
        Matrix: require("./Matrix"),
        Circle: require("./shapes/Circle"),
        Ellipse: require("./shapes/Ellipse"),
        Polygon: require("./shapes/Polygon"),
        Rectangle: require("./shapes/Rectangle"),
        RoundedRectangle: require("./shapes/RoundedRectangle")
      }
    }, {
      "./Matrix": 29,
      "./Point": 30,
      "./shapes/Circle": 32,
      "./shapes/Ellipse": 33,
      "./shapes/Polygon": 34,
      "./shapes/Rectangle": 35,
      "./shapes/RoundedRectangle": 36
    }],
    32: [function (require, module, exports) {
      function Circle (x, y, radius) {
        this.x = x || 0, this.y = y || 0, this.radius = radius || 0, this.type = CONST.SHAPES.CIRC
      }

      var Rectangle = require("./Rectangle"), CONST = require("../../const");
      Circle.prototype.constructor = Circle, module.exports = Circle, Circle.prototype.clone = function () {
        return new Circle(this.x, this.y, this.radius)
      }, Circle.prototype.contains = function (x, y) {
        if (this.radius <= 0) return !1;
        var dx = this.x - x, dy = this.y - y, r2 = this.radius * this.radius;
        return dx *= dx, dy *= dy, dx + dy <= r2
      }, Circle.prototype.getBounds = function () {
        return new Rectangle(this.x - this.radius, this.y - this.radius, 2 * this.radius, 2 * this.radius)
      }
    }, {"../../const": 20, "./Rectangle": 35}],
    33: [function (require, module, exports) {
      function Ellipse (x, y, width, height) {
        this.x = x || 0, this.y = y || 0, this.width = width || 0, this.height = height || 0, this.type = CONST.SHAPES.ELIP
      }

      var Rectangle = require("./Rectangle"), CONST = require("../../const");
      Ellipse.prototype.constructor = Ellipse, module.exports = Ellipse, Ellipse.prototype.clone = function () {
        return new Ellipse(this.x, this.y, this.width, this.height)
      }, Ellipse.prototype.contains = function (x, y) {
        if (this.width <= 0 || this.height <= 0) return !1;
        var normx = (x - this.x) / this.width, normy = (y - this.y) / this.height;
        return normx *= normx, normy *= normy, normx + normy <= 1
      }, Ellipse.prototype.getBounds = function () {
        return new Rectangle(this.x - this.width, this.y - this.height, this.width, this.height)
      }
    }, {"../../const": 20, "./Rectangle": 35}],
    34: [function (require, module, exports) {
      function Polygon (points_) {
        var points = points_;
        if (!Array.isArray(points)) {
          points = new Array(arguments.length);
          for (var a = 0; a < points.length; ++a) points[a] = arguments[a]
        }
        if (points[0] instanceof Point) {
          for (var p = [], i = 0, il = points.length; i < il; i++) p.push(points[i].x, points[i].y);
          points = p
        }
        this.closed = !0, this.points = points, this.type = CONST.SHAPES.POLY
      }

      var Point = require("../Point"), CONST = require("../../const");
      Polygon.prototype.constructor = Polygon, module.exports = Polygon, Polygon.prototype.clone = function () {
        return new Polygon(this.points.slice())
      }, Polygon.prototype.contains = function (x, y) {
        for (var inside = !1, length = this.points.length / 2, i = 0, j = length - 1; i < length; j = i++) {
          var xi = this.points[2 * i], yi = this.points[2 * i + 1], xj = this.points[2 * j],
            yj = this.points[2 * j + 1], intersect = yi > y != yj > y && x < (xj - xi) * (y - yi) / (yj - yi) + xi;
          intersect && (inside = !inside)
        }
        return inside
      }
    }, {"../../const": 20, "../Point": 30}],
    35: [function (require, module, exports) {
      function Rectangle (x, y, width, height) {
        this.x = x || 0, this.y = y || 0, this.width = width || 0, this.height = height || 0, this.type = CONST.SHAPES.RECT
      }

      var CONST = require("../../const");
      Rectangle.prototype.constructor = Rectangle, module.exports = Rectangle, Rectangle.EMPTY = new Rectangle(0, 0, 0, 0), Rectangle.prototype.clone = function () {
        return new Rectangle(this.x, this.y, this.width, this.height)
      }, Rectangle.prototype.contains = function (x, y) {
        return !(this.width <= 0 || this.height <= 0) && (x >= this.x && x < this.x + this.width && y >= this.y && y < this.y + this.height)
      }
    }, {"../../const": 20}],
    36: [function (require, module, exports) {
      function RoundedRectangle (x, y, width, height, radius) {
        this.x = x || 0, this.y = y || 0, this.width = width || 0, this.height = height || 0, this.radius = radius || 20, this.type = CONST.SHAPES.RREC
      }

      var CONST = require("../../const");
      RoundedRectangle.prototype.constructor = RoundedRectangle, module.exports = RoundedRectangle, RoundedRectangle.prototype.clone = function () {
        return new RoundedRectangle(this.x, this.y, this.width, this.height, this.radius)
      }, RoundedRectangle.prototype.contains = function (x, y) {
        return !(this.width <= 0 || this.height <= 0) && (x >= this.x && x <= this.x + this.width && y >= this.y && y <= this.y + this.height)
      }
    }, {"../../const": 20}],
    37: [function (require, module, exports) {
      function ParticleContainer (maxSize, properties, batchSize) {
        Container.call(this), batchSize = batchSize || 15e3, maxSize = maxSize || 15e3;
        var maxBatchSize = 16384;
        batchSize > maxBatchSize && (batchSize = maxBatchSize), batchSize > maxSize && (batchSize = maxSize), this._properties = [!1, !0, !1, !1, !1], this._maxSize = maxSize, this._batchSize = batchSize, this._buffers = null, this._bufferToUpdate = 0, this.interactiveChildren = !1, this.blendMode = CONST.BLEND_MODES.NORMAL, this.roundPixels = !0, this.setProperties(properties)
      }

      var Container = require("../display/Container"), CONST = require("../const");
      ParticleContainer.prototype = Object.create(Container.prototype), ParticleContainer.prototype.constructor = ParticleContainer, module.exports = ParticleContainer, ParticleContainer.prototype.setProperties = function (properties) {
        properties && (this._properties[0] = "scale" in properties ? !!properties.scale : this._properties[0], this._properties[1] = "position" in properties ? !!properties.position : this._properties[1], this._properties[2] = "rotation" in properties ? !!properties.rotation : this._properties[2], this._properties[3] = "uvs" in properties ? !!properties.uvs : this._properties[3], this._properties[4] = "alpha" in properties ? !!properties.alpha : this._properties[4])
      }, ParticleContainer.prototype.updateTransform = function () {
        this.displayObjectUpdateTransform()
      }, ParticleContainer.prototype.renderWebGL = function (renderer) {
        this.visible && !(this.worldAlpha <= 0) && this.children.length && this.renderable && (renderer.setObjectRenderer(renderer.plugins.particle), renderer.plugins.particle.render(this))
      }, ParticleContainer.prototype.onChildrenChange = function (smallestChildIndex) {
        var bufferIndex = Math.floor(smallestChildIndex / this._batchSize);
        bufferIndex < this._bufferToUpdate && (this._bufferToUpdate = bufferIndex)
      }, ParticleContainer.prototype.renderCanvas = function (renderer) {
        if (this.visible && !(this.worldAlpha <= 0) && this.children.length && this.renderable) {
          var context = renderer.context, transform = this.worldTransform, isRotated = !0, positionX = 0, positionY = 0,
            finalWidth = 0, finalHeight = 0;
          context.globalAlpha = this.worldAlpha, this.displayObjectUpdateTransform();
          for (var i = 0; i < this.children.length; ++i) {
            var child = this.children[i];
            if (child.visible) {
              var frame = child.texture.frame;
              if (context.globalAlpha = this.worldAlpha * child.alpha, child.rotation % (2 * Math.PI) === 0) isRotated && (context.setTransform(transform.a, transform.b, transform.c, transform.d, transform.tx, transform.ty), isRotated = !1), positionX = child.anchor.x * (-frame.width * child.scale.x) + child.position.x + .5, positionY = child.anchor.y * (-frame.height * child.scale.y) + child.position.y + .5, finalWidth = frame.width * child.scale.x, finalHeight = frame.height * child.scale.y; else {
                isRotated || (isRotated = !0), child.displayObjectUpdateTransform();
                var childTransform = child.worldTransform;
                renderer.roundPixels ? context.setTransform(childTransform.a, childTransform.b, childTransform.c, childTransform.d, 0 | childTransform.tx, 0 | childTransform.ty) : context.setTransform(childTransform.a, childTransform.b, childTransform.c, childTransform.d, childTransform.tx, childTransform.ty), positionX = child.anchor.x * -frame.width + .5, positionY = child.anchor.y * -frame.height + .5, finalWidth = frame.width, finalHeight = frame.height
              }
              context.drawImage(child.texture.baseTexture.source, frame.x, frame.y, frame.width, frame.height, positionX, positionY, finalWidth, finalHeight)
            }
          }
        }
      }, ParticleContainer.prototype.destroy = function () {
        if (Container.prototype.destroy.apply(this, arguments), this._buffers) for (var i = 0; i < this._buffers.length; ++i) this._buffers[i].destroy();
        this._properties = null, this._buffers = null
      }
    }, {"../const": 20, "../display/Container": 21}],
    38: [function (require, module, exports) {
      function ParticleBuffer (gl, properties, dynamicPropertyFlags, size) {
        this.gl = gl, this.vertSize = 2, this.vertByteSize = 4 * this.vertSize, this.size = size, this.dynamicProperties = [], this.staticProperties = [];
        for (var i = 0; i < properties.length; i++) {
          var property = properties[i];
          dynamicPropertyFlags[i] ? this.dynamicProperties.push(property) : this.staticProperties.push(property)
        }
        this.staticStride = 0, this.staticBuffer = null, this.staticData = null, this.dynamicStride = 0, this.dynamicBuffer = null, this.dynamicData = null, this.initBuffers()
      }

      ParticleBuffer.prototype.constructor = ParticleBuffer, module.exports = ParticleBuffer, ParticleBuffer.prototype.initBuffers = function () {
        var i, property, gl = this.gl, dynamicOffset = 0;
        for (this.dynamicStride = 0, i = 0; i < this.dynamicProperties.length; i++) property = this.dynamicProperties[i], property.offset = dynamicOffset, dynamicOffset += property.size, this.dynamicStride += property.size;
        this.dynamicData = new Float32Array(this.size * this.dynamicStride * 4), this.dynamicBuffer = gl.createBuffer(), gl.bindBuffer(gl.ARRAY_BUFFER, this.dynamicBuffer), gl.bufferData(gl.ARRAY_BUFFER, this.dynamicData, gl.DYNAMIC_DRAW);
        var staticOffset = 0;
        for (this.staticStride = 0, i = 0; i < this.staticProperties.length; i++) property = this.staticProperties[i], property.offset = staticOffset, staticOffset += property.size, this.staticStride += property.size;
        this.staticData = new Float32Array(this.size * this.staticStride * 4), this.staticBuffer = gl.createBuffer(), gl.bindBuffer(gl.ARRAY_BUFFER, this.staticBuffer), gl.bufferData(gl.ARRAY_BUFFER, this.staticData, gl.DYNAMIC_DRAW)
      }, ParticleBuffer.prototype.uploadDynamic = function (children, startIndex, amount) {
        for (var gl = this.gl, i = 0; i < this.dynamicProperties.length; i++) {
          var property = this.dynamicProperties[i];
          property.uploadFunction(children, startIndex, amount, this.dynamicData, this.dynamicStride, property.offset)
        }
        gl.bindBuffer(gl.ARRAY_BUFFER, this.dynamicBuffer), gl.bufferSubData(gl.ARRAY_BUFFER, 0, this.dynamicData)
      }, ParticleBuffer.prototype.uploadStatic = function (children, startIndex, amount) {
        for (var gl = this.gl, i = 0; i < this.staticProperties.length; i++) {
          var property = this.staticProperties[i];
          property.uploadFunction(children, startIndex, amount, this.staticData, this.staticStride, property.offset)
        }
        gl.bindBuffer(gl.ARRAY_BUFFER, this.staticBuffer), gl.bufferSubData(gl.ARRAY_BUFFER, 0, this.staticData)
      }, ParticleBuffer.prototype.bind = function () {
        var i, property, gl = this.gl;
        for (gl.bindBuffer(gl.ARRAY_BUFFER, this.dynamicBuffer), i = 0; i < this.dynamicProperties.length; i++) property = this.dynamicProperties[i], gl.vertexAttribPointer(property.attribute, property.size, gl.FLOAT, !1, 4 * this.dynamicStride, 4 * property.offset);
        for (gl.bindBuffer(gl.ARRAY_BUFFER, this.staticBuffer), i = 0; i < this.staticProperties.length; i++) property = this.staticProperties[i], gl.vertexAttribPointer(property.attribute, property.size, gl.FLOAT, !1, 4 * this.staticStride, 4 * property.offset)
      }, ParticleBuffer.prototype.destroy = function () {
        this.dynamicProperties = null, this.dynamicData = null, this.gl.deleteBuffer(this.dynamicBuffer), this.staticProperties = null, this.staticData = null, this.gl.deleteBuffer(this.staticBuffer)
      }
    }, {}],
    39: [function (require, module, exports) {
      function ParticleRenderer (renderer) {
        ObjectRenderer.call(this, renderer);
        var numIndices = 98304;
        this.indices = new Uint16Array(numIndices);
        for (var i = 0, j = 0; i < numIndices; i += 6, j += 4) this.indices[i + 0] = j + 0, this.indices[i + 1] = j + 1, this.indices[i + 2] = j + 2, this.indices[i + 3] = j + 0, this.indices[i + 4] = j + 2, this.indices[i + 5] = j + 3;
        this.shader = null, this.indexBuffer = null, this.properties = null, this.tempMatrix = new math.Matrix
      }

      var ObjectRenderer = require("../../renderers/webgl/utils/ObjectRenderer"),
        WebGLRenderer = require("../../renderers/webgl/WebGLRenderer"), ParticleShader = require("./ParticleShader"),
        ParticleBuffer = require("./ParticleBuffer"), math = require("../../math");
      ParticleRenderer.prototype = Object.create(ObjectRenderer.prototype), ParticleRenderer.prototype.constructor = ParticleRenderer, module.exports = ParticleRenderer, WebGLRenderer.registerPlugin("particle", ParticleRenderer), ParticleRenderer.prototype.onContextChange = function () {
        var gl = this.renderer.gl;
        this.shader = new ParticleShader(this.renderer.shaderManager), this.indexBuffer = gl.createBuffer(), gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.indexBuffer), gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, this.indices, gl.STATIC_DRAW), this.properties = [{
          attribute: this.shader.attributes.aVertexPosition,
          size: 2,
          uploadFunction: this.uploadVertices,
          offset: 0
        }, {
          attribute: this.shader.attributes.aPositionCoord,
          size: 2,
          uploadFunction: this.uploadPosition,
          offset: 0
        }, {
          attribute: this.shader.attributes.aRotation,
          size: 1,
          uploadFunction: this.uploadRotation,
          offset: 0
        }, {
          attribute: this.shader.attributes.aTextureCoord,
          size: 2,
          uploadFunction: this.uploadUvs,
          offset: 0
        }, {attribute: this.shader.attributes.aColor, size: 1, uploadFunction: this.uploadAlpha, offset: 0}]
      }, ParticleRenderer.prototype.start = function () {
        var gl = this.renderer.gl;
        gl.activeTexture(gl.TEXTURE0), gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.indexBuffer);
        var shader = this.shader;
        this.renderer.shaderManager.setShader(shader)
      }, ParticleRenderer.prototype.render = function (container) {
        var children = container.children, totalChildren = children.length, maxSize = container._maxSize,
          batchSize = container._batchSize;
        if (0 !== totalChildren) {
          totalChildren > maxSize && (totalChildren = maxSize), container._buffers || (container._buffers = this.generateBuffers(container)), this.renderer.blendModeManager.setBlendMode(container.blendMode);
          var gl = this.renderer.gl, m = container.worldTransform.copy(this.tempMatrix);
          m.prepend(this.renderer.currentRenderTarget.projectionMatrix), gl.uniformMatrix3fv(this.shader.uniforms.projectionMatrix._location, !1, m.toArray(!0)), gl.uniform1f(this.shader.uniforms.uAlpha._location, container.worldAlpha);
          var baseTexture = children[0]._texture.baseTexture;
          if (baseTexture._glTextures[gl.id]) gl.bindTexture(gl.TEXTURE_2D, baseTexture._glTextures[gl.id]); else {
            if (!this.renderer.updateTexture(baseTexture)) return;
            container._properties[0] && container._properties[3] || (container._bufferToUpdate = 0)
          }
          for (var i = 0, j = 0; i < totalChildren; i += batchSize, j += 1) {
            var amount = totalChildren - i;
            amount > batchSize && (amount = batchSize);
            var buffer = container._buffers[j];
            buffer.uploadDynamic(children, i, amount), container._bufferToUpdate === j && (buffer.uploadStatic(children, i, amount), container._bufferToUpdate = j + 1), buffer.bind(this.shader), gl.drawElements(gl.TRIANGLES, 6 * amount, gl.UNSIGNED_SHORT, 0), this.renderer.drawCount++
          }
        }
      }, ParticleRenderer.prototype.generateBuffers = function (container) {
        var i, gl = this.renderer.gl, buffers = [], size = container._maxSize, batchSize = container._batchSize,
          dynamicPropertyFlags = container._properties;
        for (i = 0; i < size; i += batchSize) buffers.push(new ParticleBuffer(gl, this.properties, dynamicPropertyFlags, batchSize));
        return buffers
      }, ParticleRenderer.prototype.uploadVertices = function (children, startIndex, amount, array, stride, offset) {
        for (var sprite, texture, trim, sx, sy, w0, w1, h0, h1, i = 0; i < amount; i++) sprite = children[startIndex + i], texture = sprite._texture, sx = sprite.scale.x, sy = sprite.scale.y, texture.trim ? (trim = texture.trim, w1 = trim.x - sprite.anchor.x * trim.width, w0 = w1 + texture.crop.width, h1 = trim.y - sprite.anchor.y * trim.height, h0 = h1 + texture.crop.height) : (w0 = texture._frame.width * (1 - sprite.anchor.x), w1 = texture._frame.width * -sprite.anchor.x, h0 = texture._frame.height * (1 - sprite.anchor.y), h1 = texture._frame.height * -sprite.anchor.y), array[offset] = w1 * sx, array[offset + 1] = h1 * sy, array[offset + stride] = w0 * sx, array[offset + stride + 1] = h1 * sy, array[offset + 2 * stride] = w0 * sx, array[offset + 2 * stride + 1] = h0 * sy, array[offset + 3 * stride] = w1 * sx, array[offset + 3 * stride + 1] = h0 * sy, offset += 4 * stride
      }, ParticleRenderer.prototype.uploadPosition = function (children, startIndex, amount, array, stride, offset) {
        for (var i = 0; i < amount; i++) {
          var spritePosition = children[startIndex + i].position;
          array[offset] = spritePosition.x, array[offset + 1] = spritePosition.y, array[offset + stride] = spritePosition.x, array[offset + stride + 1] = spritePosition.y, array[offset + 2 * stride] = spritePosition.x, array[offset + 2 * stride + 1] = spritePosition.y, array[offset + 3 * stride] = spritePosition.x, array[offset + 3 * stride + 1] = spritePosition.y, offset += 4 * stride
        }
      }, ParticleRenderer.prototype.uploadRotation = function (children, startIndex, amount, array, stride, offset) {
        for (var i = 0; i < amount; i++) {
          var spriteRotation = children[startIndex + i].rotation;
          array[offset] = spriteRotation, array[offset + stride] = spriteRotation, array[offset + 2 * stride] = spriteRotation, array[offset + 3 * stride] = spriteRotation, offset += 4 * stride
        }
      }, ParticleRenderer.prototype.uploadUvs = function (children, startIndex, amount, array, stride, offset) {
        for (var i = 0; i < amount; i++) {
          var textureUvs = children[startIndex + i]._texture._uvs;
          textureUvs ? (array[offset] = textureUvs.x0, array[offset + 1] = textureUvs.y0, array[offset + stride] = textureUvs.x1, array[offset + stride + 1] = textureUvs.y1, array[offset + 2 * stride] = textureUvs.x2, array[offset + 2 * stride + 1] = textureUvs.y2, array[offset + 3 * stride] = textureUvs.x3, array[offset + 3 * stride + 1] = textureUvs.y3, offset += 4 * stride) : (array[offset] = 0, array[offset + 1] = 0, array[offset + stride] = 0, array[offset + stride + 1] = 0, array[offset + 2 * stride] = 0, array[offset + 2 * stride + 1] = 0, array[offset + 3 * stride] = 0, array[offset + 3 * stride + 1] = 0, offset += 4 * stride)
        }
      }, ParticleRenderer.prototype.uploadAlpha = function (children, startIndex, amount, array, stride, offset) {
        for (var i = 0; i < amount; i++) {
          var spriteAlpha = children[startIndex + i].alpha;
          array[offset] = spriteAlpha, array[offset + stride] = spriteAlpha, array[offset + 2 * stride] = spriteAlpha, array[offset + 3 * stride] = spriteAlpha, offset += 4 * stride
        }
      }, ParticleRenderer.prototype.destroy = function () {
        this.renderer.gl && this.renderer.gl.deleteBuffer(this.indexBuffer), ObjectRenderer.prototype.destroy.apply(this, arguments), this.shader.destroy(), this.indices = null, this.tempMatrix = null
      }
    }, {
      "../../math": 31,
      "../../renderers/webgl/WebGLRenderer": 47,
      "../../renderers/webgl/utils/ObjectRenderer": 62,
      "./ParticleBuffer": 38,
      "./ParticleShader": 40
    }],
    40: [function (require, module, exports) {
      function ParticleShader (shaderManager) {
        TextureShader.call(this, shaderManager, ["attribute vec2 aVertexPosition;", "attribute vec2 aTextureCoord;", "attribute float aColor;", "attribute vec2 aPositionCoord;", "attribute vec2 aScale;", "attribute float aRotation;", "uniform mat3 projectionMatrix;", "varying vec2 vTextureCoord;", "varying float vColor;", "void main(void){", "   vec2 v = aVertexPosition;", "   v.x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);", "   v.y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);", "   v = v + aPositionCoord;", "   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);", "   vTextureCoord = aTextureCoord;", "   vColor = aColor;", "}"].join("\n"), ["precision lowp float;", "varying vec2 vTextureCoord;", "varying float vColor;", "uniform sampler2D uSampler;", "uniform float uAlpha;", "void main(void){", "  vec4 color = texture2D(uSampler, vTextureCoord) * vColor * uAlpha;", "  if (color.a == 0.0) discard;", "  gl_FragColor = color;", "}"].join("\n"), {
          uAlpha: {
            type: "1f",
            value: 1
          }
        }, {aPositionCoord: 0, aRotation: 0})
      }

      var TextureShader = require("../../renderers/webgl/shaders/TextureShader");
      ParticleShader.prototype = Object.create(TextureShader.prototype), ParticleShader.prototype.constructor = ParticleShader, module.exports = ParticleShader
    }, {"../../renderers/webgl/shaders/TextureShader": 61}],
    41: [function (require, module, exports) {
      function SystemRenderer (system, width, height, options) {
        if (EventEmitter.call(this), utils.sayHello(system), options) for (var i in CONST.DEFAULT_RENDER_OPTIONS) "undefined" == typeof options[i] && (options[i] = CONST.DEFAULT_RENDER_OPTIONS[i]); else options = CONST.DEFAULT_RENDER_OPTIONS;
        this.type = CONST.RENDERER_TYPE.UNKNOWN, this.width = width || 800, this.height = height || 600, this.view = options.view || document.createElement("canvas"), this.resolution = options.resolution, this.transparent = options.transparent, this.autoResize = options.autoResize || !1, this.blendModes = null, this.preserveDrawingBuffer = options.preserveDrawingBuffer, this.clearBeforeRender = options.clearBeforeRender, this.roundPixels = options.roundPixels, this._backgroundColor = 0, this._backgroundColorRgb = [0, 0, 0], this._backgroundColorString = "#000000", this.backgroundColor = options.backgroundColor || this._backgroundColor, this._tempDisplayObjectParent = {
          worldTransform: new math.Matrix,
          worldAlpha: 1,
          children: []
        }, this._lastObjectRendered = this._tempDisplayObjectParent
      }

      var utils = require("../utils"), math = require("../math"), CONST = require("../const"),
        EventEmitter = require("eventemitter3");
      SystemRenderer.prototype = Object.create(EventEmitter.prototype), SystemRenderer.prototype.constructor = SystemRenderer, module.exports = SystemRenderer, Object.defineProperties(SystemRenderer.prototype, {
        backgroundColor: {
          get: function () {
            return this._backgroundColor
          }, set: function (val) {
            this._backgroundColor = val, this._backgroundColorString = utils.hex2string(val), utils.hex2rgb(val, this._backgroundColorRgb)
          }
        }
      }), SystemRenderer.prototype.resize = function (width, height) {
        this.width = width * this.resolution, this.height = height * this.resolution, this.view.width = this.width, this.view.height = this.height, this.autoResize && (this.view.style.width = this.width / this.resolution + "px", this.view.style.height = this.height / this.resolution + "px")
      }, SystemRenderer.prototype.destroy = function (removeView) {
        removeView && this.view.parentNode && this.view.parentNode.removeChild(this.view), this.type = CONST.RENDERER_TYPE.UNKNOWN, this.width = 0, this.height = 0, this.view = null, this.resolution = 0, this.transparent = !1, this.autoResize = !1, this.blendModes = null, this.preserveDrawingBuffer = !1, this.clearBeforeRender = !1, this.roundPixels = !1, this._backgroundColor = 0, this._backgroundColorRgb = null, this._backgroundColorString = null
      }
    }, {"../const": 20, "../math": 31, "../utils": 76, eventemitter3: 10}],
    42: [function (require, module, exports) {
      function CanvasRenderer (width, height, options) {
        options = options || {}, SystemRenderer.call(this, "Canvas", width, height, options), this.type = CONST.RENDERER_TYPE.CANVAS, this.context = this.view.getContext("2d", {
          alpha: this.transparent
        }), this.refresh = !0, this.maskManager = new CanvasMaskManager, this.smoothProperty = "imageSmoothingEnabled", this.context.imageSmoothingEnabled || (this.context.webkitImageSmoothingEnabled ? this.smoothProperty = "webkitImageSmoothingEnabled" : this.context.mozImageSmoothingEnabled ? this.smoothProperty = "mozImageSmoothingEnabled" : this.context.oImageSmoothingEnabled ? this.smoothProperty = "oImageSmoothingEnabled" : this.context.msImageSmoothingEnabled && (this.smoothProperty = "msImageSmoothingEnabled")), this.initPlugins(), this._mapBlendModes(), this._tempDisplayObjectParent = {
          worldTransform: new math.Matrix,
          worldAlpha: 1
        }, this.resize(width, height)
      }

      var SystemRenderer = require("../SystemRenderer"), CanvasMaskManager = require("./utils/CanvasMaskManager"),
        utils = require("../../utils"), math = require("../../math"), CONST = require("../../const");
      CanvasRenderer.prototype = Object.create(SystemRenderer.prototype), CanvasRenderer.prototype.constructor = CanvasRenderer, module.exports = CanvasRenderer, utils.pluginTarget.mixin(CanvasRenderer), CanvasRenderer.prototype.render = function (object) {
        var cacheParent = object.parent;
        this._lastObjectRendered = object, object.parent = this._tempDisplayObjectParent, object.updateTransform(), object.parent = cacheParent, this.context.setTransform(1, 0, 0, 1, 0, 0), this.context.globalAlpha = 1, this.context.globalCompositeOperation = this.blendModes[CONST.BLEND_MODES.NORMAL], navigator.isCocoonJS && this.view.screencanvas && (this.context.fillStyle = "black", this.context.clear()), this.clearBeforeRender && (this.transparent ? this.context.clearRect(0, 0, this.width, this.height) : (this.context.fillStyle = this._backgroundColorString, this.context.fillRect(0, 0, this.width, this.height))), this.renderDisplayObject(object, this.context)
      }, CanvasRenderer.prototype.destroy = function (removeView) {
        this.destroyPlugins(), SystemRenderer.prototype.destroy.call(this, removeView), this.context = null, this.refresh = !0, this.maskManager.destroy(), this.maskManager = null, this.smoothProperty = null
      }, CanvasRenderer.prototype.renderDisplayObject = function (displayObject, context) {
        var tempContext = this.context;
        this.context = context, displayObject.renderCanvas(this), this.context = tempContext
      }, CanvasRenderer.prototype.resize = function (w, h) {
        SystemRenderer.prototype.resize.call(this, w, h), this.smoothProperty && (this.context[this.smoothProperty] = CONST.SCALE_MODES.DEFAULT === CONST.SCALE_MODES.LINEAR)
      }, CanvasRenderer.prototype._mapBlendModes = function () {
        this.blendModes || (this.blendModes = {}, utils.canUseNewCanvasBlendModes() ? (this.blendModes[CONST.BLEND_MODES.NORMAL] = "source-over", this.blendModes[CONST.BLEND_MODES.ADD] = "lighter", this.blendModes[CONST.BLEND_MODES.MULTIPLY] = "multiply", this.blendModes[CONST.BLEND_MODES.SCREEN] = "screen", this.blendModes[CONST.BLEND_MODES.OVERLAY] = "overlay", this.blendModes[CONST.BLEND_MODES.DARKEN] = "darken", this.blendModes[CONST.BLEND_MODES.LIGHTEN] = "lighten", this.blendModes[CONST.BLEND_MODES.COLOR_DODGE] = "color-dodge", this.blendModes[CONST.BLEND_MODES.COLOR_BURN] = "color-burn", this.blendModes[CONST.BLEND_MODES.HARD_LIGHT] = "hard-light", this.blendModes[CONST.BLEND_MODES.SOFT_LIGHT] = "soft-light", this.blendModes[CONST.BLEND_MODES.DIFFERENCE] = "difference", this.blendModes[CONST.BLEND_MODES.EXCLUSION] = "exclusion", this.blendModes[CONST.BLEND_MODES.HUE] = "hue", this.blendModes[CONST.BLEND_MODES.SATURATION] = "saturate", this.blendModes[CONST.BLEND_MODES.COLOR] = "color", this.blendModes[CONST.BLEND_MODES.LUMINOSITY] = "luminosity") : (this.blendModes[CONST.BLEND_MODES.NORMAL] = "source-over", this.blendModes[CONST.BLEND_MODES.ADD] = "lighter", this.blendModes[CONST.BLEND_MODES.MULTIPLY] = "source-over", this.blendModes[CONST.BLEND_MODES.SCREEN] = "source-over", this.blendModes[CONST.BLEND_MODES.OVERLAY] = "source-over", this.blendModes[CONST.BLEND_MODES.DARKEN] = "source-over", this.blendModes[CONST.BLEND_MODES.LIGHTEN] = "source-over", this.blendModes[CONST.BLEND_MODES.COLOR_DODGE] = "source-over", this.blendModes[CONST.BLEND_MODES.COLOR_BURN] = "source-over", this.blendModes[CONST.BLEND_MODES.HARD_LIGHT] = "source-over", this.blendModes[CONST.BLEND_MODES.SOFT_LIGHT] = "source-over", this.blendModes[CONST.BLEND_MODES.DIFFERENCE] = "source-over", this.blendModes[CONST.BLEND_MODES.EXCLUSION] = "source-over", this.blendModes[CONST.BLEND_MODES.HUE] = "source-over", this.blendModes[CONST.BLEND_MODES.SATURATION] = "source-over", this.blendModes[CONST.BLEND_MODES.COLOR] = "source-over", this.blendModes[CONST.BLEND_MODES.LUMINOSITY] = "source-over"))
      }
    }, {
      "../../const": 20,
      "../../math": 31,
      "../../utils": 76,
      "../SystemRenderer": 41,
      "./utils/CanvasMaskManager": 45
    }],
    43: [function (require, module, exports) {
      function CanvasBuffer (width, height) {
        this.canvas = document.createElement("canvas"), this.context = this.canvas.getContext("2d"), this.canvas.width = width, this.canvas.height = height
      }

      CanvasBuffer.prototype.constructor = CanvasBuffer, module.exports = CanvasBuffer, Object.defineProperties(CanvasBuffer.prototype, {
        width: {
          get: function () {
            return this.canvas.width
          }, set: function (val) {
            this.canvas.width = val
          }
        }, height: {
          get: function () {
            return this.canvas.height
          }, set: function (val) {
            this.canvas.height = val
          }
        }
      }), CanvasBuffer.prototype.clear = function () {
        this.context.setTransform(1, 0, 0, 1, 0, 0), this.context.clearRect(0, 0, this.canvas.width, this.canvas.height)
      }, CanvasBuffer.prototype.resize = function (width, height) {
        this.canvas.width = width, this.canvas.height = height
      }, CanvasBuffer.prototype.destroy = function () {
        this.context = null, this.canvas = null
      }
    }, {}],
    44: [function (require, module, exports) {
      var CONST = require("../../../const"), CanvasGraphics = {};
      module.exports = CanvasGraphics, CanvasGraphics.renderGraphics = function (graphics, context) {
        var worldAlpha = graphics.worldAlpha;
        graphics.dirty && (this.updateGraphicsTint(graphics), graphics.dirty = !1);
        for (var i = 0; i < graphics.graphicsData.length; i++) {
          var data = graphics.graphicsData[i], shape = data.shape, fillColor = data._fillTint,
            lineColor = data._lineTint;
          if (context.lineWidth = data.lineWidth, data.type === CONST.SHAPES.POLY) {
            context.beginPath();
            var points = shape.points;
            context.moveTo(points[0], points[1]);
            for (var j = 1; j < points.length / 2; j++) context.lineTo(points[2 * j], points[2 * j + 1]);
            shape.closed && context.lineTo(points[0], points[1]), points[0] === points[points.length - 2] && points[1] === points[points.length - 1] && context.closePath(), data.fill && (context.globalAlpha = data.fillAlpha * worldAlpha, context.fillStyle = "#" + ("00000" + (0 | fillColor).toString(16)).substr(-6), context.fill()), data.lineWidth && (context.globalAlpha = data.lineAlpha * worldAlpha, context.strokeStyle = "#" + ("00000" + (0 | lineColor).toString(16)).substr(-6), context.stroke())
          } else if (data.type === CONST.SHAPES.RECT) (data.fillColor || 0 === data.fillColor) && (context.globalAlpha = data.fillAlpha * worldAlpha, context.fillStyle = "#" + ("00000" + (0 | fillColor).toString(16)).substr(-6), context.fillRect(shape.x, shape.y, shape.width, shape.height)), data.lineWidth && (context.globalAlpha = data.lineAlpha * worldAlpha, context.strokeStyle = "#" + ("00000" + (0 | lineColor).toString(16)).substr(-6), context.strokeRect(shape.x, shape.y, shape.width, shape.height)); else if (data.type === CONST.SHAPES.CIRC) context.beginPath(), context.arc(shape.x, shape.y, shape.radius, 0, 2 * Math.PI), context.closePath(), data.fill && (context.globalAlpha = data.fillAlpha * worldAlpha, context.fillStyle = "#" + ("00000" + (0 | fillColor).toString(16)).substr(-6), context.fill()), data.lineWidth && (context.globalAlpha = data.lineAlpha * worldAlpha, context.strokeStyle = "#" + ("00000" + (0 | lineColor).toString(16)).substr(-6), context.stroke()); else if (data.type === CONST.SHAPES.ELIP) {
            var w = 2 * shape.width, h = 2 * shape.height, x = shape.x - w / 2, y = shape.y - h / 2;
            context.beginPath();
            var kappa = .5522848, ox = w / 2 * kappa, oy = h / 2 * kappa, xe = x + w, ye = y + h, xm = x + w / 2,
              ym = y + h / 2;
            context.moveTo(x, ym), context.bezierCurveTo(x, ym - oy, xm - ox, y, xm, y), context.bezierCurveTo(xm + ox, y, xe, ym - oy, xe, ym), context.bezierCurveTo(xe, ym + oy, xm + ox, ye, xm, ye), context.bezierCurveTo(xm - ox, ye, x, ym + oy, x, ym), context.closePath(), data.fill && (context.globalAlpha = data.fillAlpha * worldAlpha, context.fillStyle = "#" + ("00000" + (0 | fillColor).toString(16)).substr(-6), context.fill()), data.lineWidth && (context.globalAlpha = data.lineAlpha * worldAlpha, context.strokeStyle = "#" + ("00000" + (0 | lineColor).toString(16)).substr(-6), context.stroke())
          } else if (data.type === CONST.SHAPES.RREC) {
            var rx = shape.x, ry = shape.y, width = shape.width, height = shape.height, radius = shape.radius,
              maxRadius = Math.min(width, height) / 2 | 0;
            radius = radius > maxRadius ? maxRadius : radius, context.beginPath(), context.moveTo(rx, ry + radius), context.lineTo(rx, ry + height - radius), context.quadraticCurveTo(rx, ry + height, rx + radius, ry + height), context.lineTo(rx + width - radius, ry + height), context.quadraticCurveTo(rx + width, ry + height, rx + width, ry + height - radius), context.lineTo(rx + width, ry + radius), context.quadraticCurveTo(rx + width, ry, rx + width - radius, ry), context.lineTo(rx + radius, ry), context.quadraticCurveTo(rx, ry, rx, ry + radius), context.closePath(), (data.fillColor || 0 === data.fillColor) && (context.globalAlpha = data.fillAlpha * worldAlpha, context.fillStyle = "#" + ("00000" + (0 | fillColor).toString(16)).substr(-6), context.fill()), data.lineWidth && (context.globalAlpha = data.lineAlpha * worldAlpha, context.strokeStyle = "#" + ("00000" + (0 | lineColor).toString(16)).substr(-6), context.stroke())
          }
        }
      }, CanvasGraphics.renderGraphicsMask = function (graphics, context) {
        var len = graphics.graphicsData.length;
        if (0 !== len) {
          context.beginPath();
          for (var i = 0; i < len; i++) {
            var data = graphics.graphicsData[i], shape = data.shape;
            if (data.type === CONST.SHAPES.POLY) {
              var points = shape.points;
              context.moveTo(points[0], points[1]);
              for (var j = 1; j < points.length / 2; j++) context.lineTo(points[2 * j], points[2 * j + 1]);
              points[0] === points[points.length - 2] && points[1] === points[points.length - 1] && context.closePath()
            } else if (data.type === CONST.SHAPES.RECT) context.rect(shape.x, shape.y, shape.width, shape.height), context.closePath(); else if (data.type === CONST.SHAPES.CIRC) context.arc(shape.x, shape.y, shape.radius, 0, 2 * Math.PI), context.closePath(); else if (data.type === CONST.SHAPES.ELIP) {
              var w = 2 * shape.width, h = 2 * shape.height, x = shape.x - w / 2, y = shape.y - h / 2, kappa = .5522848,
                ox = w / 2 * kappa, oy = h / 2 * kappa, xe = x + w, ye = y + h, xm = x + w / 2, ym = y + h / 2;
              context.moveTo(x, ym), context.bezierCurveTo(x, ym - oy, xm - ox, y, xm, y), context.bezierCurveTo(xm + ox, y, xe, ym - oy, xe, ym), context.bezierCurveTo(xe, ym + oy, xm + ox, ye, xm, ye), context.bezierCurveTo(xm - ox, ye, x, ym + oy, x, ym), context.closePath()
            } else if (data.type === CONST.SHAPES.RREC) {
              var rx = shape.x, ry = shape.y, width = shape.width, height = shape.height, radius = shape.radius,
                maxRadius = Math.min(width, height) / 2 | 0;
              radius = radius > maxRadius ? maxRadius : radius, context.moveTo(rx, ry + radius), context.lineTo(rx, ry + height - radius), context.quadraticCurveTo(rx, ry + height, rx + radius, ry + height), context.lineTo(rx + width - radius, ry + height), context.quadraticCurveTo(rx + width, ry + height, rx + width, ry + height - radius), context.lineTo(rx + width, ry + radius), context.quadraticCurveTo(rx + width, ry, rx + width - radius, ry), context.lineTo(rx + radius, ry), context.quadraticCurveTo(rx, ry, rx, ry + radius), context.closePath()
            }
          }
        }
      }, CanvasGraphics.updateGraphicsTint = function (graphics) {
        if (16777215 !== graphics.tint || graphics._prevTint !== graphics.tint) {
          graphics._prevTint = graphics.tint;
          for (var tintR = (graphics.tint >> 16 & 255) / 255, tintG = (graphics.tint >> 8 & 255) / 255, tintB = (255 & graphics.tint) / 255, i = 0; i < graphics.graphicsData.length; i++) {
            var data = graphics.graphicsData[i], fillColor = 0 | data.fillColor, lineColor = 0 | data.lineColor;
            data._fillTint = ((fillColor >> 16 & 255) / 255 * tintR * 255 << 16) + ((fillColor >> 8 & 255) / 255 * tintG * 255 << 8) + (255 & fillColor) / 255 * tintB * 255, data._lineTint = ((lineColor >> 16 & 255) / 255 * tintR * 255 << 16) + ((lineColor >> 8 & 255) / 255 * tintG * 255 << 8) + (255 & lineColor) / 255 * tintB * 255
          }
        }
      }
    }, {"../../../const": 20}],
    45: [function (require, module, exports) {
      function CanvasMaskManager () {
      }

      var CanvasGraphics = require("./CanvasGraphics");
      CanvasMaskManager.prototype.constructor = CanvasMaskManager, module.exports = CanvasMaskManager, CanvasMaskManager.prototype.pushMask = function (maskData, renderer) {
        renderer.context.save();
        var cacheAlpha = maskData.alpha, transform = maskData.worldTransform, resolution = renderer.resolution;
        renderer.context.setTransform(transform.a * resolution, transform.b * resolution, transform.c * resolution, transform.d * resolution, transform.tx * resolution, transform.ty * resolution), maskData.texture || (CanvasGraphics.renderGraphicsMask(maskData, renderer.context), renderer.context.clip()), maskData.worldAlpha = cacheAlpha
      }, CanvasMaskManager.prototype.popMask = function (renderer) {
        renderer.context.restore()
      }, CanvasMaskManager.prototype.destroy = function () {
      }
    }, {"./CanvasGraphics": 44}],
    46: [function (require, module, exports) {
      var utils = require("../../../utils"), CanvasTinter = {};
      module.exports = CanvasTinter, CanvasTinter.getTintedTexture = function (sprite, color) {
        var texture = sprite.texture;
        color = CanvasTinter.roundColor(color);
        var stringColor = "#" + ("00000" + (0 | color).toString(16)).substr(-6);
        if (texture.tintCache = texture.tintCache || {}, texture.tintCache[stringColor]) return texture.tintCache[stringColor];
        var canvas = CanvasTinter.canvas || document.createElement("canvas");
        if (CanvasTinter.tintMethod(texture, color, canvas), CanvasTinter.convertTintToImage) {
          var tintImage = new Image;
          tintImage.src = canvas.toDataURL(), texture.tintCache[stringColor] = tintImage
        } else texture.tintCache[stringColor] = canvas, CanvasTinter.canvas = null;
        return canvas
      }, CanvasTinter.tintWithMultiply = function (texture, color, canvas) {
        var context = canvas.getContext("2d"), resolution = texture.baseTexture.resolution, crop = texture.crop.clone();
        crop.x *= resolution, crop.y *= resolution, crop.width *= resolution, crop.height *= resolution, canvas.width = crop.width, canvas.height = crop.height, context.fillStyle = "#" + ("00000" + (0 | color).toString(16)).substr(-6), context.fillRect(0, 0, crop.width, crop.height), context.globalCompositeOperation = "multiply", context.drawImage(texture.baseTexture.source, crop.x, crop.y, crop.width, crop.height, 0, 0, crop.width, crop.height), context.globalCompositeOperation = "destination-atop", context.drawImage(texture.baseTexture.source, crop.x, crop.y, crop.width, crop.height, 0, 0, crop.width, crop.height)
      }, CanvasTinter.tintWithOverlay = function (texture, color, canvas) {
        var context = canvas.getContext("2d"), resolution = texture.baseTexture.resolution, crop = texture.crop.clone();
        crop.x *= resolution, crop.y *= resolution, crop.width *= resolution, crop.height *= resolution, canvas.width = crop.width, canvas.height = crop.height, context.globalCompositeOperation = "copy", context.fillStyle = "#" + ("00000" + (0 | color).toString(16)).substr(-6), context.fillRect(0, 0, crop.width, crop.height), context.globalCompositeOperation = "destination-atop", context.drawImage(texture.baseTexture.source, crop.x, crop.y, crop.width, crop.height, 0, 0, crop.width, crop.height)
      }, CanvasTinter.tintWithPerPixel = function (texture, color, canvas) {
        var context = canvas.getContext("2d"), resolution = texture.baseTexture.resolution, crop = texture.crop.clone();
        crop.x *= resolution, crop.y *= resolution, crop.width *= resolution, crop.height *= resolution, canvas.width = crop.width, canvas.height = crop.height, context.globalCompositeOperation = "copy", context.drawImage(texture.baseTexture.source, crop.x, crop.y, crop.width, crop.height, 0, 0, crop.width, crop.height);
        for (var rgbValues = utils.hex2rgb(color), r = rgbValues[0], g = rgbValues[1], b = rgbValues[2], pixelData = context.getImageData(0, 0, crop.width, crop.height), pixels = pixelData.data, i = 0; i < pixels.length; i += 4) pixels[i + 0] *= r, pixels[i + 1] *= g, pixels[i + 2] *= b;
        context.putImageData(pixelData, 0, 0)
      }, CanvasTinter.roundColor = function (color) {
        var step = CanvasTinter.cacheStepsPerColorChannel, rgbValues = utils.hex2rgb(color);
        return rgbValues[0] = Math.min(255, rgbValues[0] / step * step), rgbValues[1] = Math.min(255, rgbValues[1] / step * step), rgbValues[2] = Math.min(255, rgbValues[2] / step * step), utils.rgb2hex(rgbValues)
      }, CanvasTinter.cacheStepsPerColorChannel = 8, CanvasTinter.convertTintToImage = !1, CanvasTinter.canUseMultiply = utils.canUseNewCanvasBlendModes(), CanvasTinter.tintMethod = CanvasTinter.canUseMultiply ? CanvasTinter.tintWithMultiply : CanvasTinter.tintWithPerPixel
    }, {"../../../utils": 76}],
    47: [function (require, module, exports) {
      function WebGLRenderer (width, height, options) {
        options = options || {}, SystemRenderer.call(this, "WebGL", width, height, options), this.type = CONST.RENDERER_TYPE.WEBGL, this.handleContextLost = this.handleContextLost.bind(this), this.handleContextRestored = this.handleContextRestored.bind(this), this.view.addEventListener("webglcontextlost", this.handleContextLost, !1), this.view.addEventListener("webglcontextrestored", this.handleContextRestored, !1), this._useFXAA = !!options.forceFXAA && options.antialias, this._FXAAFilter = null, this._contextOptions = {
          alpha: this.transparent,
          antialias: options.antialias,
          premultipliedAlpha: this.transparent && "notMultiplied" !== this.transparent,
          stencil: !0,
          preserveDrawingBuffer: options.preserveDrawingBuffer
        }, this.drawCount = 0, this.shaderManager = new ShaderManager(this), this.maskManager = new MaskManager(this), this.stencilManager = new StencilManager(this), this.filterManager = new FilterManager(this), this.blendModeManager = new BlendModeManager(this), this.currentRenderTarget = null, this.currentRenderer = new ObjectRenderer(this), this.initPlugins(), this._createContext(), this._initContext(), this._mapGlModes(), this._managedTextures = [], this._renderTargetStack = []
      }

      var SystemRenderer = require("../SystemRenderer"), ShaderManager = require("./managers/ShaderManager"),
        MaskManager = require("./managers/MaskManager"), StencilManager = require("./managers/StencilManager"),
        FilterManager = require("./managers/FilterManager"), BlendModeManager = require("./managers/BlendModeManager"),
        RenderTarget = require("./utils/RenderTarget"), ObjectRenderer = require("./utils/ObjectRenderer"),
        FXAAFilter = require("./filters/FXAAFilter"), utils = require("../../utils"), CONST = require("../../const");
      WebGLRenderer.prototype = Object.create(SystemRenderer.prototype), WebGLRenderer.prototype.constructor = WebGLRenderer, module.exports = WebGLRenderer, utils.pluginTarget.mixin(WebGLRenderer), WebGLRenderer.glContextId = 0, WebGLRenderer.prototype._createContext = function () {
        var gl = this.view.getContext("webgl", this._contextOptions) || this.view.getContext("experimental-webgl", this._contextOptions);
        if (this.gl = gl, !gl) throw new Error("This browser does not support webGL. Try using the canvas renderer");
        this.glContextId = WebGLRenderer.glContextId++, gl.id = this.glContextId, gl.renderer = this
      }, WebGLRenderer.prototype._initContext = function () {
        var gl = this.gl;
        gl.disable(gl.DEPTH_TEST), gl.disable(gl.CULL_FACE), gl.enable(gl.BLEND), this.renderTarget = new RenderTarget(gl, this.width, this.height, null, this.resolution, !0), this.setRenderTarget(this.renderTarget), this.emit("context", gl), this.resize(this.width, this.height), this._useFXAA || (this._useFXAA = this._contextOptions.antialias && !gl.getContextAttributes().antialias), this._useFXAA && (window.console.warn("FXAA antialiasing being used instead of native antialiasing"), this._FXAAFilter = [new FXAAFilter])
      }, WebGLRenderer.prototype.render = function (object) {
        if (!this.gl.isContextLost()) {
          this.drawCount = 0, this._lastObjectRendered = object, this._useFXAA && (this._FXAAFilter[0].uniforms.resolution.value.x = this.width, this._FXAAFilter[0].uniforms.resolution.value.y = this.height, object.filterArea = this.renderTarget.size, object.filters = this._FXAAFilter);
          var cacheParent = object.parent;
          object.parent = this._tempDisplayObjectParent, object.updateTransform(), object.parent = cacheParent;
          var gl = this.gl;
          this.setRenderTarget(this.renderTarget), this.clearBeforeRender && (this.transparent ? gl.clearColor(0, 0, 0, 0) : gl.clearColor(this._backgroundColorRgb[0], this._backgroundColorRgb[1], this._backgroundColorRgb[2], 1), gl.clear(gl.COLOR_BUFFER_BIT)), this.renderDisplayObject(object, this.renderTarget)
        }
      }, WebGLRenderer.prototype.renderDisplayObject = function (displayObject, renderTarget, clear) {
        this.setRenderTarget(renderTarget), clear && renderTarget.clear(), this.filterManager.setFilterStack(renderTarget.filterStack), displayObject.renderWebGL(this), this.currentRenderer.flush()
      }, WebGLRenderer.prototype.setObjectRenderer = function (objectRenderer) {
        this.currentRenderer !== objectRenderer && (this.currentRenderer.stop(), this.currentRenderer = objectRenderer, this.currentRenderer.start())
      }, WebGLRenderer.prototype.setRenderTarget = function (renderTarget) {
        this.currentRenderTarget !== renderTarget && (this.currentRenderTarget = renderTarget, this.currentRenderTarget.activate(), this.stencilManager.setMaskStack(renderTarget.stencilMaskStack))
      }, WebGLRenderer.prototype.resize = function (width, height) {
        SystemRenderer.prototype.resize.call(this, width, height), this.filterManager.resize(width, height), this.renderTarget.resize(width, height), this.currentRenderTarget === this.renderTarget && (this.renderTarget.activate(), this.gl.viewport(0, 0, this.width, this.height))
      }, WebGLRenderer.prototype.updateTexture = function (texture) {
        if (texture = texture.baseTexture || texture, texture.hasLoaded) {
          var gl = this.gl;
          return texture._glTextures[gl.id] || (texture._glTextures[gl.id] = gl.createTexture(), texture.on("update", this.updateTexture, this), texture.on("dispose", this.destroyTexture, this), this._managedTextures.push(texture)), gl.bindTexture(gl.TEXTURE_2D, texture._glTextures[gl.id]), gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, texture.premultipliedAlpha), gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, texture.source), gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, texture.scaleMode === CONST.SCALE_MODES.LINEAR ? gl.LINEAR : gl.NEAREST), texture.mipmap && texture.isPowerOfTwo ? (gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, texture.scaleMode === CONST.SCALE_MODES.LINEAR ? gl.LINEAR_MIPMAP_LINEAR : gl.NEAREST_MIPMAP_NEAREST), gl.generateMipmap(gl.TEXTURE_2D)) : gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, texture.scaleMode === CONST.SCALE_MODES.LINEAR ? gl.LINEAR : gl.NEAREST), texture.isPowerOfTwo ? (gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.REPEAT), gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.REPEAT)) : (gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE), gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE)), texture._glTextures[gl.id]
        }
      }, WebGLRenderer.prototype.destroyTexture = function (texture, _skipRemove) {
        if (texture = texture.baseTexture || texture, texture.hasLoaded && texture._glTextures[this.gl.id] && (this.gl.deleteTexture(texture._glTextures[this.gl.id]), delete texture._glTextures[this.gl.id], !_skipRemove)) {
          var i = this._managedTextures.indexOf(texture);
          i !== -1 && this._managedTextures.splice(i, 1)
        }
      }, WebGLRenderer.prototype.handleContextLost = function (event) {
        event.preventDefault()
      }, WebGLRenderer.prototype.handleContextRestored = function () {
        this._initContext();
        for (var i = 0; i < this._managedTextures.length; ++i) {
          var texture = this._managedTextures[i];
          texture._glTextures[this.gl.id] && delete texture._glTextures[this.gl.id]
        }
      }, WebGLRenderer.prototype.destroy = function (removeView) {
        this.destroyPlugins(), this.view.removeEventListener("webglcontextlost", this.handleContextLost), this.view.removeEventListener("webglcontextrestored", this.handleContextRestored);
        for (var i = 0; i < this._managedTextures.length; ++i) {
          var texture = this._managedTextures[i];
          this.destroyTexture(texture, !0), texture.off("update", this.updateTexture, this), texture.off("dispose", this.destroyTexture, this)
        }
        SystemRenderer.prototype.destroy.call(this, removeView), this.uid = 0, this.shaderManager.destroy(), this.maskManager.destroy(), this.stencilManager.destroy(), this.filterManager.destroy(), this.blendModeManager.destroy(), this.shaderManager = null, this.maskManager = null, this.filterManager = null, this.blendModeManager = null, this.currentRenderer = null, this.handleContextLost = null, this.handleContextRestored = null, this._contextOptions = null, this._managedTextures = null, this.drawCount = 0, this.gl.useProgram(null), this.gl = null
      }, WebGLRenderer.prototype._mapGlModes = function () {
        var gl = this.gl;
        this.blendModes || (this.blendModes = {}, this.blendModes[CONST.BLEND_MODES.NORMAL] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA], this.blendModes[CONST.BLEND_MODES.ADD] = [gl.SRC_ALPHA, gl.DST_ALPHA], this.blendModes[CONST.BLEND_MODES.MULTIPLY] = [gl.DST_COLOR, gl.ONE_MINUS_SRC_ALPHA], this.blendModes[CONST.BLEND_MODES.SCREEN] = [gl.SRC_ALPHA, gl.ONE], this.blendModes[CONST.BLEND_MODES.OVERLAY] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA], this.blendModes[CONST.BLEND_MODES.DARKEN] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA], this.blendModes[CONST.BLEND_MODES.LIGHTEN] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA], this.blendModes[CONST.BLEND_MODES.COLOR_DODGE] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA], this.blendModes[CONST.BLEND_MODES.COLOR_BURN] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA], this.blendModes[CONST.BLEND_MODES.HARD_LIGHT] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA], this.blendModes[CONST.BLEND_MODES.SOFT_LIGHT] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA], this.blendModes[CONST.BLEND_MODES.DIFFERENCE] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA], this.blendModes[CONST.BLEND_MODES.EXCLUSION] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA], this.blendModes[CONST.BLEND_MODES.HUE] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA], this.blendModes[CONST.BLEND_MODES.SATURATION] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA], this.blendModes[CONST.BLEND_MODES.COLOR] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA], this.blendModes[CONST.BLEND_MODES.LUMINOSITY] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA]), this.drawModes || (this.drawModes = {}, this.drawModes[CONST.DRAW_MODES.POINTS] = gl.POINTS, this.drawModes[CONST.DRAW_MODES.LINES] = gl.LINES, this.drawModes[CONST.DRAW_MODES.LINE_LOOP] = gl.LINE_LOOP, this.drawModes[CONST.DRAW_MODES.LINE_STRIP] = gl.LINE_STRIP, this.drawModes[CONST.DRAW_MODES.TRIANGLES] = gl.TRIANGLES, this.drawModes[CONST.DRAW_MODES.TRIANGLE_STRIP] = gl.TRIANGLE_STRIP, this.drawModes[CONST.DRAW_MODES.TRIANGLE_FAN] = gl.TRIANGLE_FAN)
      }
    }, {
      "../../const": 20,
      "../../utils": 76,
      "../SystemRenderer": 41,
      "./filters/FXAAFilter": 49,
      "./managers/BlendModeManager": 51,
      "./managers/FilterManager": 52,
      "./managers/MaskManager": 53,
      "./managers/ShaderManager": 54,
      "./managers/StencilManager": 55,
      "./utils/ObjectRenderer": 62,
      "./utils/RenderTarget": 64
    }],
    48: [function (require, module, exports) {
      function AbstractFilter (vertexSrc, fragmentSrc, uniforms) {
        this.shaders = [], this.padding = 0, this.uniforms = uniforms || {}, this.vertexSrc = vertexSrc || DefaultShader.defaultVertexSrc, this.fragmentSrc = fragmentSrc || DefaultShader.defaultFragmentSrc
      }

      var DefaultShader = require("../shaders/TextureShader");
      AbstractFilter.prototype.constructor = AbstractFilter, module.exports = AbstractFilter, AbstractFilter.prototype.getShader = function (renderer) {
        var gl = renderer.gl, shader = this.shaders[gl.id];
        return shader || (shader = new DefaultShader(renderer.shaderManager, this.vertexSrc, this.fragmentSrc, this.uniforms, this.attributes), this.shaders[gl.id] = shader), shader
      }, AbstractFilter.prototype.applyFilter = function (renderer, input, output, clear) {
        var shader = this.getShader(renderer);
        renderer.filterManager.applyFilter(shader, input, output, clear)
      }, AbstractFilter.prototype.syncUniform = function (uniform) {
        for (var i = 0, j = this.shaders.length; i < j; ++i) this.shaders[i].syncUniform(uniform)
      }
    }, {"../shaders/TextureShader": 61}],
    49: [function (require, module, exports) {
      function FXAAFilter () {
        AbstractFilter.call(this, "\nprecision mediump float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform mat3 projectionMatrix;\nuniform vec2 resolution;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvarying vec2 vResolution;\n\n//texcoords computed in vertex step\n//to avoid dependent texture reads\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n            out vec2 v_rgbNW, out vec2 v_rgbNE,\n            out vec2 v_rgbSW, out vec2 v_rgbSE,\n            out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n   vResolution = resolution;\n\n   //compute the texture coords and send them to varyings\n   texcoords(aTextureCoord * resolution, resolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n", 'precision lowp float;\n\n\n/**\nBasic FXAA implementation based on the code on geeks3d.com with the\nmodification that the texture2DLod stuff was removed since it\'s\nunsupported by WebGL.\n\n--\n\nFrom:\nhttps://github.com/mitsuhiko/webgl-meincraft\n\nCopyright (c) 2011 by Armin Ronacher.\n\nSome rights reserved.\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are\nmet:\n\n    * Redistributions of source code must retain the above copyright\n      notice, this list of conditions and the following disclaimer.\n\n    * Redistributions in binary form must reproduce the above\n      copyright notice, this list of conditions and the following\n      disclaimer in the documentation and/or other materials provided\n      with the distribution.\n\n    * The names of the contributors may not be used to endorse or\n      promote products derived from this software without specific\n      prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\nLIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\nA PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\nOWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\nSPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\nLIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\nDATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\nTHEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\nOF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\n#ifndef FXAA_REDUCE_MIN\n    #define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n    #define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n    #define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n            vec2 v_rgbNW, vec2 v_rgbNE,\n            vec2 v_rgbSW, vec2 v_rgbSE,\n            vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n              dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n        texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n        texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vResolution;\n\n//texcoords computed in vertex step\n//to avoid dependent texture reads\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform sampler2D uSampler;\n\n\nvoid main(void){\n\n    gl_FragColor = fxaa(uSampler, vTextureCoord * vResolution, vResolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n}\n', {
          resolution: {type: "v2", value: {x: 1, y: 1}}
        })
      }

      var AbstractFilter = require("./AbstractFilter");
      FXAAFilter.prototype = Object.create(AbstractFilter.prototype), FXAAFilter.prototype.constructor = FXAAFilter, module.exports = FXAAFilter, FXAAFilter.prototype.applyFilter = function (renderer, input, output) {
        var filterManager = renderer.filterManager, shader = this.getShader(renderer);
        filterManager.applyFilter(shader, input, output)
      }
    }, {"./AbstractFilter": 48}],
    50: [function (require, module, exports) {
      function SpriteMaskFilter (sprite) {
        var maskMatrix = new math.Matrix;
        AbstractFilter.call(this, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n", "precision lowp float;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\nuniform float alpha;\nuniform sampler2D mask;\n\nvoid main(void)\n{\n    // check clip! this will stop the mask bleeding out from the edges\n    vec2 text = abs( vMaskCoord - 0.5 );\n    text = step(0.5, text);\n    float clip = 1.0 - max(text.y, text.x);\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    original *= (masky.r * masky.a * alpha * clip);\n    gl_FragColor = original;\n}\n", {
          mask: {
            type: "sampler2D",
            value: sprite._texture
          }, alpha: {type: "f", value: 1}, otherMatrix: {type: "mat3", value: maskMatrix.toArray(!0)}
        }), this.maskSprite = sprite, this.maskMatrix = maskMatrix
      }

      var AbstractFilter = require("./AbstractFilter"), math = require("../../../math");
      SpriteMaskFilter.prototype = Object.create(AbstractFilter.prototype), SpriteMaskFilter.prototype.constructor = SpriteMaskFilter, module.exports = SpriteMaskFilter, SpriteMaskFilter.prototype.applyFilter = function (renderer, input, output) {
        var filterManager = renderer.filterManager;
        this.uniforms.mask.value = this.maskSprite._texture, filterManager.calculateMappedMatrix(input.frame, this.maskSprite, this.maskMatrix), this.uniforms.otherMatrix.value = this.maskMatrix.toArray(!0), this.uniforms.alpha.value = this.maskSprite.worldAlpha;
        var shader = this.getShader(renderer);
        filterManager.applyFilter(shader, input, output)
      }, Object.defineProperties(SpriteMaskFilter.prototype, {
        map: {
          get: function () {
            return this.uniforms.mask.value
          }, set: function (value) {
            this.uniforms.mask.value = value
          }
        }, offset: {
          get: function () {
            return this.uniforms.offset.value
          }, set: function (value) {
            this.uniforms.offset.value = value
          }
        }
      })
    }, {"../../../math": 31, "./AbstractFilter": 48}],
    51: [function (require, module, exports) {
      function BlendModeManager (renderer) {
        WebGLManager.call(this, renderer), this.currentBlendMode = 99999
      }

      var WebGLManager = require("./WebGLManager");
      BlendModeManager.prototype = Object.create(WebGLManager.prototype), BlendModeManager.prototype.constructor = BlendModeManager, module.exports = BlendModeManager, BlendModeManager.prototype.setBlendMode = function (blendMode) {
        if (this.currentBlendMode === blendMode) return !1;
        this.currentBlendMode = blendMode;
        var mode = this.renderer.blendModes[this.currentBlendMode];
        return this.renderer.gl.blendFunc(mode[0], mode[1]), !0
      }
    }, {"./WebGLManager": 56}],
    52: [function (require, module, exports) {
      function FilterManager (renderer) {
        WebGLManager.call(this, renderer), this.filterStack = [], this.filterStack.push({
          renderTarget: renderer.currentRenderTarget,
          filter: [],
          bounds: null
        }), this.texturePool = [], this.textureSize = new math.Rectangle(0, 0, renderer.width, renderer.height), this.currentFrame = null
      }

      var WebGLManager = require("./WebGLManager"), RenderTarget = require("../utils/RenderTarget"),
        CONST = require("../../../const"), Quad = require("../utils/Quad"), math = require("../../../math");
      FilterManager.prototype = Object.create(WebGLManager.prototype), FilterManager.prototype.constructor = FilterManager, module.exports = FilterManager, FilterManager.prototype.onContextChange = function () {
        this.texturePool.length = 0;
        var gl = this.renderer.gl;
        this.quad = new Quad(gl)
      }, FilterManager.prototype.setFilterStack = function (filterStack) {
        this.filterStack = filterStack
      }, FilterManager.prototype.pushFilter = function (target, filters) {
        var bounds = target.filterArea ? target.filterArea.clone() : target.getBounds();
        bounds.x = 0 | bounds.x, bounds.y = 0 | bounds.y, bounds.width = 0 | bounds.width, bounds.height = 0 | bounds.height;
        var padding = 0 | filters[0].padding;
        if (bounds.x -= padding, bounds.y -= padding, bounds.width += 2 * padding, bounds.height += 2 * padding, this.renderer.currentRenderTarget.transform) {
          var transform = this.renderer.currentRenderTarget.transform;
          bounds.x += transform.tx, bounds.y += transform.ty, this.capFilterArea(bounds), bounds.x -= transform.tx, bounds.y -= transform.ty
        } else this.capFilterArea(bounds);
        if (bounds.width > 0 && bounds.height > 0) {
          this.currentFrame = bounds;
          var texture = this.getRenderTarget();
          this.renderer.setRenderTarget(texture), texture.clear(), this.filterStack.push({
            renderTarget: texture,
            filter: filters
          })
        } else this.filterStack.push({renderTarget: null, filter: filters})
      }, FilterManager.prototype.popFilter = function () {
        var filterData = this.filterStack.pop(), previousFilterData = this.filterStack[this.filterStack.length - 1],
          input = filterData.renderTarget;
        if (filterData.renderTarget) {
          var output = previousFilterData.renderTarget, gl = this.renderer.gl;
          this.currentFrame = input.frame, this.quad.map(this.textureSize, input.frame), gl.bindBuffer(gl.ARRAY_BUFFER, this.quad.vertexBuffer), gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.quad.indexBuffer);
          var filters = filterData.filter;
          if (gl.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aVertexPosition, 2, gl.FLOAT, !1, 0, 0), gl.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aTextureCoord, 2, gl.FLOAT, !1, 0, 32), gl.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aColor, 4, gl.FLOAT, !1, 0, 64), this.renderer.blendModeManager.setBlendMode(CONST.BLEND_MODES.NORMAL), 1 === filters.length) filters[0].uniforms.dimensions && (filters[0].uniforms.dimensions.value[0] = this.renderer.width, filters[0].uniforms.dimensions.value[1] = this.renderer.height, filters[0].uniforms.dimensions.value[2] = this.quad.vertices[0], filters[0].uniforms.dimensions.value[3] = this.quad.vertices[5]), filters[0].applyFilter(this.renderer, input, output), this.returnRenderTarget(input); else {
            for (var flipTexture = input, flopTexture = this.getRenderTarget(!0), i = 0; i < filters.length - 1; i++) {
              var filter = filters[i];
              filter.uniforms.dimensions && (filter.uniforms.dimensions.value[0] = this.renderer.width, filter.uniforms.dimensions.value[1] = this.renderer.height, filter.uniforms.dimensions.value[2] = this.quad.vertices[0], filter.uniforms.dimensions.value[3] = this.quad.vertices[5]), filter.applyFilter(this.renderer, flipTexture, flopTexture);
              var temp = flipTexture;
              flipTexture = flopTexture, flopTexture = temp
            }
            filters[filters.length - 1].applyFilter(this.renderer, flipTexture, output), this.returnRenderTarget(flipTexture), this.returnRenderTarget(flopTexture)
          }
          return filterData.filter
        }
      }, FilterManager.prototype.getRenderTarget = function (clear) {
        var renderTarget = this.texturePool.pop() || new RenderTarget(this.renderer.gl, this.textureSize.width, this.textureSize.height, CONST.SCALE_MODES.LINEAR, this.renderer.resolution * CONST.FILTER_RESOLUTION);
        return renderTarget.frame = this.currentFrame, clear && renderTarget.clear(!0), renderTarget
      }, FilterManager.prototype.returnRenderTarget = function (renderTarget) {
        this.texturePool.push(renderTarget)
      }, FilterManager.prototype.applyFilter = function (shader, inputTarget, outputTarget, clear) {
        var gl = this.renderer.gl;
        this.renderer.setRenderTarget(outputTarget), clear && outputTarget.clear(), this.renderer.shaderManager.setShader(shader), shader.uniforms.projectionMatrix.value = this.renderer.currentRenderTarget.projectionMatrix.toArray(!0), shader.syncUniforms(), gl.activeTexture(gl.TEXTURE0), gl.bindTexture(gl.TEXTURE_2D, inputTarget.texture), gl.drawElements(gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0), this.renderer.drawCount++
      }, FilterManager.prototype.calculateMappedMatrix = function (filterArea, sprite, outputMatrix) {
        var worldTransform = sprite.worldTransform.copy(math.Matrix.TEMP_MATRIX), texture = sprite._texture.baseTexture,
          mappedMatrix = outputMatrix.identity(), ratio = this.textureSize.height / this.textureSize.width;
        mappedMatrix.translate(filterArea.x / this.textureSize.width, filterArea.y / this.textureSize.height), mappedMatrix.scale(1, ratio);
        var translateScaleX = this.textureSize.width / texture.width,
          translateScaleY = this.textureSize.height / texture.height;
        return worldTransform.tx /= texture.width * translateScaleX, worldTransform.ty /= texture.width * translateScaleX, worldTransform.invert(), mappedMatrix.prepend(worldTransform), mappedMatrix.scale(1, 1 / ratio), mappedMatrix.scale(translateScaleX, translateScaleY), mappedMatrix.translate(sprite.anchor.x, sprite.anchor.y), mappedMatrix
      }, FilterManager.prototype.capFilterArea = function (filterArea) {
        filterArea.x < 0 && (filterArea.width += filterArea.x, filterArea.x = 0), filterArea.y < 0 && (filterArea.height += filterArea.y, filterArea.y = 0), filterArea.x + filterArea.width > this.textureSize.width && (filterArea.width = this.textureSize.width - filterArea.x), filterArea.y + filterArea.height > this.textureSize.height && (filterArea.height = this.textureSize.height - filterArea.y)
      }, FilterManager.prototype.resize = function (width, height) {
        this.textureSize.width = width, this.textureSize.height = height;
        for (var i = 0; i < this.texturePool.length; i++) this.texturePool[i].resize(width, height)
      }, FilterManager.prototype.destroy = function () {
        this.quad.destroy(), WebGLManager.prototype.destroy.call(this), this.filterStack = null, this.offsetY = 0;
        for (var i = 0; i < this.texturePool.length; i++) this.texturePool[i].destroy();
        this.texturePool = null
      }
    }, {
      "../../../const": 20,
      "../../../math": 31,
      "../utils/Quad": 63,
      "../utils/RenderTarget": 64,
      "./WebGLManager": 56
    }],
    53: [function (require, module, exports) {
      function MaskManager (renderer) {
        WebGLManager.call(this, renderer), this.stencilStack = [], this.reverse = !0, this.count = 0, this.alphaMaskPool = []
      }

      var WebGLManager = require("./WebGLManager"), AlphaMaskFilter = require("../filters/SpriteMaskFilter");
      MaskManager.prototype = Object.create(WebGLManager.prototype), MaskManager.prototype.constructor = MaskManager, module.exports = MaskManager, MaskManager.prototype.pushMask = function (target, maskData) {
        maskData.texture ? this.pushSpriteMask(target, maskData) : this.pushStencilMask(target, maskData)
      }, MaskManager.prototype.popMask = function (target, maskData) {
        maskData.texture ? this.popSpriteMask(target, maskData) : this.popStencilMask(target, maskData)
      }, MaskManager.prototype.pushSpriteMask = function (target, maskData) {
        var alphaMaskFilter = this.alphaMaskPool.pop();
        alphaMaskFilter || (alphaMaskFilter = [new AlphaMaskFilter(maskData)]), alphaMaskFilter[0].maskSprite = maskData, this.renderer.filterManager.pushFilter(target, alphaMaskFilter)
      }, MaskManager.prototype.popSpriteMask = function () {
        var filters = this.renderer.filterManager.popFilter();
        this.alphaMaskPool.push(filters)
      }, MaskManager.prototype.pushStencilMask = function (target, maskData) {
        this.renderer.stencilManager.pushMask(maskData)
      }, MaskManager.prototype.popStencilMask = function (target, maskData) {
        this.renderer.stencilManager.popMask(maskData)
      }
    }, {"../filters/SpriteMaskFilter": 50, "./WebGLManager": 56}],
    54: [function (require, module, exports) {
      function ShaderManager (renderer) {
        WebGLManager.call(this, renderer), this.maxAttibs = 10, this.attribState = [], this.tempAttribState = [];
        for (var i = 0; i < this.maxAttibs; i++) this.attribState[i] = !1;
        this.stack = [], this._currentId = -1, this.currentShader = null
      }

      var WebGLManager = require("./WebGLManager"), TextureShader = require("../shaders/TextureShader"),
        ComplexPrimitiveShader = require("../shaders/ComplexPrimitiveShader"),
        PrimitiveShader = require("../shaders/PrimitiveShader"),
        PrimitivePharellShader = require("../shaders/PrimitivePharellShader"), utils = require("../../../utils");
      ShaderManager.prototype = Object.create(WebGLManager.prototype), ShaderManager.prototype.constructor = ShaderManager, utils.pluginTarget.mixin(ShaderManager), module.exports = ShaderManager, ShaderManager.prototype.onContextChange = function () {
        this.initPlugins();
        var gl = this.renderer.gl;
        this.maxAttibs = gl.getParameter(gl.MAX_VERTEX_ATTRIBS), this.attribState = [];
        for (var i = 0; i < this.maxAttibs; i++) this.attribState[i] = !1;
        this.defaultShader = new TextureShader(this), this.primitiveShader = new PrimitiveShader(this), this.primitivePharellShader = new PrimitivePharellShader(this), this.complexPrimitiveShader = new ComplexPrimitiveShader(this)
      }, ShaderManager.prototype.setAttribs = function (attribs) {
        var i;
        for (i = 0; i < this.tempAttribState.length; i++) this.tempAttribState[i] = !1;
        for (var a in attribs) this.tempAttribState[attribs[a]] = !0;
        var gl = this.renderer.gl;
        for (i = 0; i < this.attribState.length; i++) this.attribState[i] !== this.tempAttribState[i] && (this.attribState[i] = this.tempAttribState[i], this.attribState[i] ? gl.enableVertexAttribArray(i) : gl.disableVertexAttribArray(i))
      }, ShaderManager.prototype.setShader = function (shader) {
        return this._currentId !== shader.uid && (this._currentId = shader.uid, this.currentShader = shader, this.renderer.gl.useProgram(shader.program), this.setAttribs(shader.attributes), !0)
      }, ShaderManager.prototype.destroy = function () {
        this.primitiveShader.destroy(), this.complexPrimitiveShader.destroy(), WebGLManager.prototype.destroy.call(this), this.destroyPlugins(), this.attribState = null, this.tempAttribState = null
      }
    }, {
      "../../../utils": 76,
      "../shaders/ComplexPrimitiveShader": 57,
      "../shaders/PrimitivePharellShader": 58,
      "../shaders/PrimitiveShader": 59,
      "../shaders/TextureShader": 61,
      "./WebGLManager": 56
    }],
    55: [function (require, module, exports) {
      function WebGLMaskManager (renderer) {
        WebGLManager.call(this, renderer), this.stencilMaskStack = null
      }

      var WebGLManager = require("./WebGLManager"), utils = require("../../../utils");
      WebGLMaskManager.prototype = Object.create(WebGLManager.prototype), WebGLMaskManager.prototype.constructor = WebGLMaskManager, module.exports = WebGLMaskManager, WebGLMaskManager.prototype.setMaskStack = function (stencilMaskStack) {
        this.stencilMaskStack = stencilMaskStack;
        var gl = this.renderer.gl;
        0 === stencilMaskStack.stencilStack.length ? gl.disable(gl.STENCIL_TEST) : gl.enable(gl.STENCIL_TEST)
      }, WebGLMaskManager.prototype.pushStencil = function (graphics, webGLData) {
        this.renderer.currentRenderTarget.attachStencilBuffer();
        var gl = this.renderer.gl, sms = this.stencilMaskStack;
        this.bindGraphics(graphics, webGLData), 0 === sms.stencilStack.length && (gl.enable(gl.STENCIL_TEST), gl.clear(gl.STENCIL_BUFFER_BIT), sms.reverse = !0, sms.count = 0), sms.stencilStack.push(webGLData);
        var level = sms.count;
        gl.colorMask(!1, !1, !1, !1), gl.stencilFunc(gl.ALWAYS, 0, 255), gl.stencilOp(gl.KEEP, gl.KEEP, gl.INVERT), 1 === webGLData.mode ? (gl.drawElements(gl.TRIANGLE_FAN, webGLData.indices.length - 4, gl.UNSIGNED_SHORT, 0), sms.reverse ? (gl.stencilFunc(gl.EQUAL, 255 - level, 255), gl.stencilOp(gl.KEEP, gl.KEEP, gl.DECR)) : (gl.stencilFunc(gl.EQUAL, level, 255), gl.stencilOp(gl.KEEP, gl.KEEP, gl.INCR)), gl.drawElements(gl.TRIANGLE_FAN, 4, gl.UNSIGNED_SHORT, 2 * (webGLData.indices.length - 4)), sms.reverse ? gl.stencilFunc(gl.EQUAL, 255 - (level + 1), 255) : gl.stencilFunc(gl.EQUAL, level + 1, 255), sms.reverse = !sms.reverse) : (sms.reverse ? (gl.stencilFunc(gl.EQUAL, level, 255), gl.stencilOp(gl.KEEP, gl.KEEP, gl.INCR)) : (gl.stencilFunc(gl.EQUAL, 255 - level, 255), gl.stencilOp(gl.KEEP, gl.KEEP, gl.DECR)), gl.drawElements(gl.TRIANGLE_STRIP, webGLData.indices.length, gl.UNSIGNED_SHORT, 0), sms.reverse ? gl.stencilFunc(gl.EQUAL, level + 1, 255) : gl.stencilFunc(gl.EQUAL, 255 - (level + 1), 255)), gl.colorMask(!0, !0, !0, !0), gl.stencilOp(gl.KEEP, gl.KEEP, gl.KEEP), sms.count++
      }, WebGLMaskManager.prototype.bindGraphics = function (graphics, webGLData) {
        var shader, gl = this.renderer.gl;
        1 === webGLData.mode ? (shader = this.renderer.shaderManager.complexPrimitiveShader, this.renderer.shaderManager.setShader(shader), gl.uniformMatrix3fv(shader.uniforms.translationMatrix._location, !1, graphics.worldTransform.toArray(!0)), gl.uniformMatrix3fv(shader.uniforms.projectionMatrix._location, !1, this.renderer.currentRenderTarget.projectionMatrix.toArray(!0)), gl.uniform3fv(shader.uniforms.tint._location, utils.hex2rgb(graphics.tint)), gl.uniform3fv(shader.uniforms.color._location, webGLData.color), gl.uniform1f(shader.uniforms.alpha._location, graphics.worldAlpha), gl.bindBuffer(gl.ARRAY_BUFFER, webGLData.buffer), gl.vertexAttribPointer(shader.attributes.aVertexPosition, 2, gl.FLOAT, !1, 8, 0), gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, webGLData.indexBuffer)) : (shader = this.renderer.shaderManager.primitiveShader, this.renderer.shaderManager.setShader(shader), gl.uniformMatrix3fv(shader.uniforms.translationMatrix._location, !1, graphics.worldTransform.toArray(!0)), gl.uniformMatrix3fv(shader.uniforms.projectionMatrix._location, !1, this.renderer.currentRenderTarget.projectionMatrix.toArray(!0)), gl.uniform3fv(shader.uniforms.tint._location, utils.hex2rgb(graphics.tint)), gl.uniform1f(shader.uniforms.alpha._location, graphics.worldAlpha), gl.bindBuffer(gl.ARRAY_BUFFER, webGLData.buffer), gl.vertexAttribPointer(shader.attributes.aVertexPosition, 2, gl.FLOAT, !1, 24, 0), gl.vertexAttribPointer(shader.attributes.aColor, 4, gl.FLOAT, !1, 24, 8), gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, webGLData.indexBuffer))
      }, WebGLMaskManager.prototype.popStencil = function (graphics, webGLData) {
        var gl = this.renderer.gl, sms = this.stencilMaskStack;
        if (sms.stencilStack.pop(), sms.count--, 0 === sms.stencilStack.length) gl.disable(gl.STENCIL_TEST); else {
          var level = sms.count;
          this.bindGraphics(graphics, webGLData), gl.colorMask(!1, !1, !1, !1), 1 === webGLData.mode ? (sms.reverse = !sms.reverse, sms.reverse ? (gl.stencilFunc(gl.EQUAL, 255 - (level + 1), 255), gl.stencilOp(gl.KEEP, gl.KEEP, gl.INCR)) : (gl.stencilFunc(gl.EQUAL, level + 1, 255), gl.stencilOp(gl.KEEP, gl.KEEP, gl.DECR)), gl.drawElements(gl.TRIANGLE_FAN, 4, gl.UNSIGNED_SHORT, 2 * (webGLData.indices.length - 4)), gl.stencilFunc(gl.ALWAYS, 0, 255), gl.stencilOp(gl.KEEP, gl.KEEP, gl.INVERT), gl.drawElements(gl.TRIANGLE_FAN, webGLData.indices.length - 4, gl.UNSIGNED_SHORT, 0), this.renderer.drawCount += 2, sms.reverse ? gl.stencilFunc(gl.EQUAL, level, 255) : gl.stencilFunc(gl.EQUAL, 255 - level, 255)) : (sms.reverse ? (gl.stencilFunc(gl.EQUAL, level + 1, 255), gl.stencilOp(gl.KEEP, gl.KEEP, gl.DECR)) : (gl.stencilFunc(gl.EQUAL, 255 - (level + 1), 255), gl.stencilOp(gl.KEEP, gl.KEEP, gl.INCR)), gl.drawElements(gl.TRIANGLE_STRIP, webGLData.indices.length, gl.UNSIGNED_SHORT, 0), this.renderer.drawCount++, sms.reverse ? gl.stencilFunc(gl.EQUAL, level, 255) : gl.stencilFunc(gl.EQUAL, 255 - level, 255)), gl.colorMask(!0, !0, !0, !0), gl.stencilOp(gl.KEEP, gl.KEEP, gl.KEEP)
        }
      }, WebGLMaskManager.prototype.destroy = function () {
        WebGLManager.prototype.destroy.call(this), this.stencilMaskStack.stencilStack = null
      }, WebGLMaskManager.prototype.pushMask = function (maskData) {
        this.renderer.setObjectRenderer(this.renderer.plugins.graphics), maskData.dirty && this.renderer.plugins.graphics.updateGraphics(maskData, this.renderer.gl), maskData._webGL[this.renderer.gl.id].data.length && this.pushStencil(maskData, maskData._webGL[this.renderer.gl.id].data[0])
      }, WebGLMaskManager.prototype.popMask = function (maskData) {
        this.renderer.setObjectRenderer(this.renderer.plugins.graphics), this.popStencil(maskData, maskData._webGL[this.renderer.gl.id].data[0])
      }
    }, {"../../../utils": 76, "./WebGLManager": 56}],
    56: [function (require, module, exports) {
      function WebGLManager (renderer) {
        this.renderer = renderer, this.renderer.on("context", this.onContextChange, this)
      }

      WebGLManager.prototype.constructor = WebGLManager, module.exports = WebGLManager, WebGLManager.prototype.onContextChange = function () {
      }, WebGLManager.prototype.destroy = function () {
        this.renderer.off("context", this.onContextChange, this), this.renderer = null
      }
    }, {}],
    57: [function (require, module, exports) {
      function ComplexPrimitiveShader (shaderManager) {
        Shader.call(this, shaderManager, ["attribute vec2 aVertexPosition;", "uniform mat3 translationMatrix;", "uniform mat3 projectionMatrix;", "uniform vec3 tint;", "uniform float alpha;", "uniform vec3 color;", "varying vec4 vColor;", "void main(void){", "   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);", "   vColor = vec4(color * alpha * tint, alpha);", "}"].join("\n"), ["precision mediump float;", "varying vec4 vColor;", "void main(void){", "   gl_FragColor = vColor;", "}"].join("\n"), {
          tint: {
            type: "3f",
            value: [0, 0, 0]
          },
          alpha: {type: "1f", value: 0},
          color: {type: "3f", value: [0, 0, 0]},
          translationMatrix: {type: "mat3", value: new Float32Array(9)},
          projectionMatrix: {type: "mat3", value: new Float32Array(9)}
        }, {aVertexPosition: 0})
      }

      var Shader = require("./Shader");
      ComplexPrimitiveShader.prototype = Object.create(Shader.prototype), ComplexPrimitiveShader.prototype.constructor = ComplexPrimitiveShader, module.exports = ComplexPrimitiveShader
    }, {"./Shader": 60}],
    58: [function (require, module, exports) {
      function PrimitivePharellShader (shaderManager) {
        Shader.call(this, shaderManager, ["precision highp float;", "#ifndef HALF_PI", "#define HALF_PI 1.5707963267948966", "#endif", "float sineOut(float t) {", "  return sin(t * HALF_PI);", "}", "float sineIn(float t) {", "  return sin((t - 1.0) * HALF_PI) + 1.0;", "}", "#ifndef X", "#define X .211324865405187", "#define Y .36602540378443", "#define Z -.577350269189626", "#define W .024390243902439", "#endif", "vec3 permute(vec3 x) { return mod( x*x*34.+x, 289.); }", "float pnoise(vec2 v) {", "  vec2 i = floor(v + (v.x+v.y)*Y),", "      x0 = v -   i + (i.x+i.y)*X,", "       j = step(x0.yx, x0),", "      x1 = x0+X-j, ", "      x3 = x0+Z; ", "  i = mod(i,289.);", "  vec3 p = permute( permute( i.y + vec3(0, j.y, 1 ))", "                           + i.x + vec3(0, j.x, 1 )   ),", "       m = max( .5 - vec3( x0.x * x0.x + x0.y * x0.y,", "                           x1.x * x1.x + x1.y * x1.y,", "                           x3.x * x3.x + x3.y * x3.y ), 0.),", "       x = 2. * fract(p * W) - 1.,", "       h = abs(x) - .5,", "      a0 = x - floor(x + .5),", "       g = a0 * vec3(x0.x,x1.x,x3.x) ", "          + h * vec3(x0.y,x1.y,x3.y);", "  m = m*m*m*m* ( 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h ) );  ", "  return .5 + 65. * dot(m, g);", "}", "attribute vec2 aVertexPosition;", "attribute vec4 aColor;", "uniform mat3 translationMatrix;", "uniform mat3 projectionMatrix;", "uniform float noiseScale;", "uniform float noiseTime;", "uniform float noiseValue;", "uniform float noiseTimeScale;", "uniform sampler2D mapNoise;", "uniform float px;", "uniform float py;", "uniform float dx;", "uniform float dy;", "uniform float rad;", "uniform vec4 rectMask;", "uniform float alpha;", "uniform float flipY;", "uniform vec3 tint;", "varying vec4 vColor;", "float ease( float p ) {", "   return 1.0 - pow( 2.0, -10.0 * p );", "}", "float rand(vec2 co){", "return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);", "}", "void main(void){", "   float x = mod( aVertexPosition.x * noiseScale * 100. + noiseTime + noiseTime * noiseTimeScale + aVertexPosition.x * noiseScale, 512. ) / 512.;", "   float y = mod( aVertexPosition.y * noiseScale * 100. + noiseTime + noiseTime * noiseTimeScale + aVertexPosition.y * noiseScale, 512. ) / 512.;", "   vec4 dataNoise = texture2D( mapNoise, vec2( x, y ) );", "   float dir = atan( aVertexPosition.y, aVertexPosition.x );", "   float dis = noiseValue * dataNoise.r;", "   vec2 newPosition = vec2( aVertexPosition );", "   newPosition.x += cos( dir ) * ( dis + rad );", "   newPosition.y += sin( dir ) * ( dis + rad );", "   newPosition.x += dx;", "   newPosition.y += dy;", "   newPosition.x = clamp( newPosition.x, rectMask.x, rectMask.z );", "   newPosition.y = clamp( newPosition.y, rectMask.y, rectMask.w );", "   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(newPosition, 1.0)).xy, 0.0, 1.0);", "   vColor = aColor * vec4(tint * alpha, alpha);", "}"].join("\n"), ["precision mediump float;", "uniform sampler2D mapNoise;", "varying vec4 vColor;", "void main(void){", "   gl_FragColor = vColor;", "}"].join("\n"), {
          noiseScale: {
            type: "1f",
            value: 5
          },
          noiseTime: {type: "1f", value: 0},
          noiseTimeScale: {type: "1f", value: .002},
          noiseValue: {type: "1f", value: 1},
          mapNoise: {type: "sampler2D", value: null},
          px: {type: "1f", value: 1},
          py: {type: "1f", value: 1},
          dx: {type: "1f", value: 1},
          dy: {type: "1f", value: 1},
          rad: {type: "1f", value: 0},
          rectMask: {type: "4f", value: [-1e3, -1e3, 1e3, 1e3]},
          tint: {type: "3f", value: [0, 0, 0]},
          alpha: {type: "1f", value: 0},
          translationMatrix: {type: "mat3", value: new Float32Array(9)},
          projectionMatrix: {type: "mat3", value: new Float32Array(9)}
        }, {aVertexPosition: 0, aColor: 0})
      }

      var Shader = require("./Shader");
      PrimitivePharellShader.prototype = Object.create(Shader.prototype), PrimitivePharellShader.prototype.constructor = PrimitivePharellShader, module.exports = PrimitivePharellShader
    }, {"./Shader": 60}],
    59: [function (require, module, exports) {
      function PrimitiveShader (shaderManager) {
        Shader.call(this, shaderManager, ["attribute vec2 aVertexPosition;", "attribute vec4 aColor;", "uniform mat3 translationMatrix;", "uniform mat3 projectionMatrix;", "uniform float alpha;", "uniform float flipY;", "uniform vec3 tint;", "varying vec4 vColor;", "void main(void){", "   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);", "   vColor = aColor * vec4(tint * alpha, alpha);", "}"].join("\n"), ["precision mediump float;", "varying vec4 vColor;", "void main(void){", "   gl_FragColor = vColor;", "}"].join("\n"), {
          tint: {
            type: "3f",
            value: [0, 0, 0]
          },
          alpha: {type: "1f", value: 0},
          translationMatrix: {type: "mat3", value: new Float32Array(9)},
          projectionMatrix: {type: "mat3", value: new Float32Array(9)}
        }, {aVertexPosition: 0, aColor: 0})
      }

      var Shader = require("./Shader");
      PrimitiveShader.prototype = Object.create(Shader.prototype), PrimitiveShader.prototype.constructor = PrimitiveShader, module.exports = PrimitiveShader
    }, {"./Shader": 60}],
    60: [function (require, module, exports) {
      function Shader (shaderManager, vertexSrc, fragmentSrc, uniforms, attributes) {
        if (!vertexSrc || !fragmentSrc) throw new Error("Pixi.js Error. Shader requires vertexSrc and fragmentSrc");
        this.uid = utils.uid(), this.gl = shaderManager.renderer.gl, this.shaderManager = shaderManager, this.program = null, this.uniforms = uniforms || {}, this.attributes = attributes || {}, this.textureCount = 1, this.vertexSrc = vertexSrc, this.fragmentSrc = fragmentSrc, this.init()
      }

      var utils = require("../../../utils");
      Shader.prototype.constructor = Shader, module.exports = Shader, Shader.prototype.init = function () {
        this.compile(), this.gl.useProgram(this.program), this.cacheUniformLocations(Object.keys(this.uniforms)), this.cacheAttributeLocations(Object.keys(this.attributes))
      }, Shader.prototype.cacheUniformLocations = function (keys) {
        for (var i = 0; i < keys.length; ++i) this.uniforms[keys[i]]._location = this.gl.getUniformLocation(this.program, keys[i])
      }, Shader.prototype.cacheAttributeLocations = function (keys) {
        for (var i = 0; i < keys.length; ++i) this.attributes[keys[i]] = this.gl.getAttribLocation(this.program, keys[i])
      }, Shader.prototype.compile = function () {
        var gl = this.gl, glVertShader = this._glCompile(gl.VERTEX_SHADER, this.vertexSrc),
          glFragShader = this._glCompile(gl.FRAGMENT_SHADER, this.fragmentSrc), program = gl.createProgram();
        return gl.attachShader(program, glVertShader), gl.attachShader(program, glFragShader), gl.linkProgram(program), gl.getProgramParameter(program, gl.LINK_STATUS) || ("" !== gl.getProgramInfoLog(program), gl.deleteProgram(program), program = null), gl.deleteShader(glVertShader), gl.deleteShader(glFragShader), this.program = program
      }, Shader.prototype.syncUniform = function (uniform) {
        var i, il, location = uniform._location, value = uniform.value, gl = this.gl;
        switch (uniform.type) {
          case"b":
          case"bool":
          case"boolean":
            gl.uniform1i(location, value ? 1 : 0);
            break;
          case"i":
          case"1i":
            gl.uniform1i(location, value);
            break;
          case"f":
          case"1f":
            gl.uniform1f(location, value);
            break;
          case"2f":
            gl.uniform2f(location, value[0], value[1]);
            break;
          case"3f":
            gl.uniform3f(location, value[0], value[1], value[2]);
            break;
          case"4f":
            gl.uniform4f(location, value[0], value[1], value[2], value[3]);
            break;
          case"v2":
            gl.uniform2f(location, value.x, value.y);
            break;
          case"v3":
            gl.uniform3f(location, value.x, value.y, value.z);
            break;
          case"v4":
            gl.uniform4f(location, value.x, value.y, value.z, value.w);
            break;
          case"1iv":
            gl.uniform1iv(location, value);
            break;
          case"2iv":
            gl.uniform2iv(location, value);
            break;
          case"3iv":
            gl.uniform3iv(location, value);
            break;
          case"4iv":
            gl.uniform4iv(location, value);
            break;
          case"1fv":
            gl.uniform1fv(location, value);
            break;
          case"2fv":
            gl.uniform2fv(location, value);
            break;
          case"3fv":
            gl.uniform3fv(location, value);
            break;
          case"4fv":
            gl.uniform4fv(location, value);
            break;
          case"m2":
          case"mat2":
          case"Matrix2fv":
            gl.uniformMatrix2fv(location, uniform.transpose, value);
            break;
          case"m3":
          case"mat3":
          case"Matrix3fv":
            gl.uniformMatrix3fv(location, uniform.transpose, value);
            break;
          case"m4":
          case"mat4":
          case"Matrix4fv":
            gl.uniformMatrix4fv(location, uniform.transpose, value);
            break;
          case"c":
            "number" == typeof value && (value = utils.hex2rgb(value)), gl.uniform3f(location, value[0], value[1], value[2]);
            break;
          case"iv1":
            gl.uniform1iv(location, value);
            break;
          case"iv":
            gl.uniform3iv(location, value);
            break;
          case"fv1":
            gl.uniform1fv(location, value);
            break;
          case"fv":
            gl.uniform3fv(location, value);
            break;
          case"v2v":
            for (uniform._array || (uniform._array = new Float32Array(2 * value.length)), i = 0, il = value.length; i < il; ++i) uniform._array[2 * i] = value[i].x, uniform._array[2 * i + 1] = value[i].y;
            gl.uniform2fv(location, uniform._array);
            break;
          case"v3v":
            for (uniform._array || (uniform._array = new Float32Array(3 * value.length)), i = 0, il = value.length; i < il; ++i) uniform._array[3 * i] = value[i].x, uniform._array[3 * i + 1] = value[i].y, uniform._array[3 * i + 2] = value[i].z;
            gl.uniform3fv(location, uniform._array);
            break;
          case"v4v":
            for (uniform._array || (uniform._array = new Float32Array(4 * value.length)), i = 0, il = value.length; i < il; ++i) uniform._array[4 * i] = value[i].x, uniform._array[4 * i + 1] = value[i].y, uniform._array[4 * i + 2] = value[i].z, uniform._array[4 * i + 3] = value[i].w;
            gl.uniform4fv(location, uniform._array);
            break;
          case"t":
          case"sampler2D":
            if (!uniform.value || !uniform.value.baseTexture.hasLoaded) break;
            gl.activeTexture(gl["TEXTURE" + this.textureCount]);
            var texture = uniform.value.baseTexture._glTextures[gl.id];
            texture || (this.initSampler2D(uniform), texture = uniform.value.baseTexture._glTextures[gl.id]), gl.bindTexture(gl.TEXTURE_2D, texture), gl.uniform1i(uniform._location, this.textureCount), this.textureCount++
        }
      }, Shader.prototype.syncUniforms = function () {
        this.textureCount = 1;
        for (var key in this.uniforms) this.syncUniform(this.uniforms[key])
      }, Shader.prototype.initSampler2D = function (uniform) {
        var gl = this.gl, texture = uniform.value.baseTexture;
        if (texture.hasLoaded) if (uniform.textureData) {
          var data = uniform.textureData;
          texture._glTextures[gl.id] = gl.createTexture(), gl.bindTexture(gl.TEXTURE_2D, texture._glTextures[gl.id]), gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, texture.premultipliedAlpha), gl.texImage2D(gl.TEXTURE_2D, 0, data.luminance ? gl.LUMINANCE : gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, texture.source), gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, data.magFilter ? data.magFilter : gl.LINEAR), gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, data.wrapS ? data.wrapS : gl.CLAMP_TO_EDGE), gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, data.wrapS ? data.wrapS : gl.CLAMP_TO_EDGE), gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, data.wrapT ? data.wrapT : gl.CLAMP_TO_EDGE)
        } else this.shaderManager.renderer.updateTexture(texture)
      }, Shader.prototype.destroy = function () {
        this.gl.deleteProgram(this.program), this.gl = null, this.uniforms = null, this.attributes = null, this.vertexSrc = null, this.fragmentSrc = null
      }, Shader.prototype._glCompile = function (type, src) {
        var shader = this.gl.createShader(type);
        return this.gl.shaderSource(shader, src), this.gl.compileShader(shader), this.gl.getShaderParameter(shader, this.gl.COMPILE_STATUS) ? shader : null
      }
    }, {"../../../utils": 76}],
    61: [function (require, module, exports) {
      function TextureShader (shaderManager, vertexSrc, fragmentSrc, customUniforms, customAttributes) {
        var uniforms = {
          uSampler: {type: "sampler2D", value: 0},
          projectionMatrix: {type: "mat3", value: new Float32Array([1, 0, 0, 0, 1, 0, 0, 0, 1])}
        };
        if (customUniforms) for (var u in customUniforms) uniforms[u] = customUniforms[u];
        var attributes = {aVertexPosition: 0, aTextureCoord: 0, aColor: 0};
        if (customAttributes) for (var a in customAttributes) attributes[a] = customAttributes[a];
        vertexSrc = vertexSrc || TextureShader.defaultVertexSrc, fragmentSrc = fragmentSrc || TextureShader.defaultFragmentSrc, Shader.call(this, shaderManager, vertexSrc, fragmentSrc, uniforms, attributes)
      }

      var Shader = require("./Shader");
      TextureShader.prototype = Object.create(Shader.prototype), TextureShader.prototype.constructor = TextureShader, module.exports = TextureShader, TextureShader.defaultVertexSrc = ["precision lowp float;", "attribute vec2 aVertexPosition;", "attribute vec2 aTextureCoord;", "attribute vec4 aColor;", "uniform mat3 projectionMatrix;", "varying vec2 vTextureCoord;", "varying vec4 vColor;", "void main(void){", "   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);", "   vTextureCoord = aTextureCoord;", "   vColor = vec4(aColor.rgb * aColor.a, aColor.a);", "}"].join("\n"),
        TextureShader.defaultFragmentSrc = ["precision lowp float;", "varying vec2 vTextureCoord;", "varying vec4 vColor;", "uniform sampler2D uSampler;", "void main(void){", "   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;", "}"].join("\n")
    }, {"./Shader": 60}],
    62: [function (require, module, exports) {
      function ObjectRenderer (renderer) {
        WebGLManager.call(this, renderer)
      }

      var WebGLManager = require("../managers/WebGLManager");
      ObjectRenderer.prototype = Object.create(WebGLManager.prototype), ObjectRenderer.prototype.constructor = ObjectRenderer, module.exports = ObjectRenderer, ObjectRenderer.prototype.start = function () {
      }, ObjectRenderer.prototype.stop = function () {
        this.flush()
      }, ObjectRenderer.prototype.flush = function () {
      }, ObjectRenderer.prototype.render = function (object) {
      }
    }, {"../managers/WebGLManager": 56}],
    63: [function (require, module, exports) {
      function Quad (gl) {
        this.gl = gl, this.vertices = new Float32Array([0, 0, 200, 0, 200, 200, 0, 200]), this.uvs = new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]), this.colors = new Float32Array([1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]), this.indices = new Uint16Array([0, 1, 2, 0, 3, 2]), this.vertexBuffer = gl.createBuffer(), this.indexBuffer = gl.createBuffer(), gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer), gl.bufferData(gl.ARRAY_BUFFER, 128, gl.DYNAMIC_DRAW), gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.indexBuffer), gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, this.indices, gl.STATIC_DRAW), this.upload()
      }

      Quad.prototype.constructor = Quad, Quad.prototype.map = function (rect, rect2) {
        var x = 0, y = 0;
        this.uvs[0] = x, this.uvs[1] = y, this.uvs[2] = x + rect2.width / rect.width, this.uvs[3] = y, this.uvs[4] = x + rect2.width / rect.width, this.uvs[5] = y + rect2.height / rect.height, this.uvs[6] = x, this.uvs[7] = y + rect2.height / rect.height, x = rect2.x, y = rect2.y, this.vertices[0] = x, this.vertices[1] = y, this.vertices[2] = x + rect2.width, this.vertices[3] = y, this.vertices[4] = x + rect2.width, this.vertices[5] = y + rect2.height, this.vertices[6] = x, this.vertices[7] = y + rect2.height, this.upload()
      }, Quad.prototype.upload = function () {
        var gl = this.gl;
        gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer), gl.bufferSubData(gl.ARRAY_BUFFER, 0, this.vertices), gl.bufferSubData(gl.ARRAY_BUFFER, 32, this.uvs), gl.bufferSubData(gl.ARRAY_BUFFER, 64, this.colors)
      }, Quad.prototype.destroy = function () {
        var gl = this.gl;
        gl.deleteBuffer(this.vertexBuffer), gl.deleteBuffer(this.indexBuffer)
      }, module.exports = Quad
    }, {}],
    64: [function (require, module, exports) {
      var math = require("../../../math"), utils = require("../../../utils"), CONST = require("../../../const"),
        StencilMaskStack = require("./StencilMaskStack"),
        RenderTarget = function (gl, width, height, scaleMode, resolution, root) {
          if (this.gl = gl, this.frameBuffer = null, this.texture = null, this.size = new math.Rectangle(0, 0, 1, 1), this.resolution = resolution || CONST.RESOLUTION, this.projectionMatrix = new math.Matrix, this.transform = null, this.frame = null, this.stencilBuffer = null, this.stencilMaskStack = new StencilMaskStack, this.filterStack = [{
            renderTarget: this,
            filter: [],
            bounds: this.size
          }], this.scaleMode = scaleMode || CONST.SCALE_MODES.DEFAULT, this.root = root, !this.root) {
            this.frameBuffer = gl.createFramebuffer(), this.texture = gl.createTexture(), gl.bindTexture(gl.TEXTURE_2D, this.texture), gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, scaleMode === CONST.SCALE_MODES.LINEAR ? gl.LINEAR : gl.NEAREST), gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, scaleMode === CONST.SCALE_MODES.LINEAR ? gl.LINEAR : gl.NEAREST);
            var isPowerOfTwo = utils.isPowerOfTwo(width, height);
            isPowerOfTwo ? (gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.REPEAT), gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.REPEAT)) : (gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE), gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE)), gl.bindFramebuffer(gl.FRAMEBUFFER, this.frameBuffer), gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, this.texture, 0)
          }
          this.resize(width, height)
        };
      RenderTarget.prototype.constructor = RenderTarget, module.exports = RenderTarget, RenderTarget.prototype.clear = function (bind) {
        var gl = this.gl;
        bind && gl.bindFramebuffer(gl.FRAMEBUFFER, this.frameBuffer), gl.clearColor(0, 0, 0, 0), gl.clear(gl.COLOR_BUFFER_BIT)
      }, RenderTarget.prototype.attachStencilBuffer = function () {
        if (!this.stencilBuffer && !this.root) {
          var gl = this.gl;
          this.stencilBuffer = gl.createRenderbuffer(), gl.bindRenderbuffer(gl.RENDERBUFFER, this.stencilBuffer), gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.DEPTH_STENCIL_ATTACHMENT, gl.RENDERBUFFER, this.stencilBuffer), gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_STENCIL, this.size.width * this.resolution, this.size.height * this.resolution)
        }
      }, RenderTarget.prototype.activate = function () {
        var gl = this.gl;
        gl.bindFramebuffer(gl.FRAMEBUFFER, this.frameBuffer);
        var projectionFrame = this.frame || this.size;
        this.calculateProjection(projectionFrame), this.transform && this.projectionMatrix.append(this.transform), gl.viewport(0, 0, projectionFrame.width * this.resolution, projectionFrame.height * this.resolution)
      }, RenderTarget.prototype.calculateProjection = function (projectionFrame) {
        var pm = this.projectionMatrix;
        pm.identity(), this.root ? (pm.a = 1 / projectionFrame.width * 2, pm.d = -1 / projectionFrame.height * 2, pm.tx = -1 - projectionFrame.x * pm.a, pm.ty = 1 - projectionFrame.y * pm.d) : (pm.a = 1 / projectionFrame.width * 2, pm.d = 1 / projectionFrame.height * 2, pm.tx = -1 - projectionFrame.x * pm.a, pm.ty = -1 - projectionFrame.y * pm.d)
      }, RenderTarget.prototype.resize = function (width, height) {
        if (width |= 0, height |= 0, this.size.width !== width || this.size.height !== height) {
          if (this.size.width = width, this.size.height = height, !this.root) {
            var gl = this.gl;
            gl.bindTexture(gl.TEXTURE_2D, this.texture), gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, width * this.resolution, height * this.resolution, 0, gl.RGBA, gl.UNSIGNED_BYTE, null), this.stencilBuffer && (gl.bindRenderbuffer(gl.RENDERBUFFER, this.stencilBuffer), gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_STENCIL, width * this.resolution, height * this.resolution))
          }
          var projectionFrame = this.frame || this.size;
          this.calculateProjection(projectionFrame)
        }
      }, RenderTarget.prototype.destroy = function () {
        var gl = this.gl;
        gl.deleteRenderbuffer(this.stencilBuffer), gl.deleteFramebuffer(this.frameBuffer), gl.deleteTexture(this.texture), this.frameBuffer = null, this.texture = null
      }
    }, {"../../../const": 20, "../../../math": 31, "../../../utils": 76, "./StencilMaskStack": 65}],
    65: [function (require, module, exports) {
      function StencilMaskStack () {
        this.stencilStack = [], this.reverse = !0, this.count = 0
      }

      StencilMaskStack.prototype.constructor = StencilMaskStack, module.exports = StencilMaskStack
    }, {}],
    66: [function (require, module, exports) {
      function Sprite (texture) {
        Container.call(this), this.anchor = new math.Point, this._texture = null, this._width = 0, this._height = 0, this.tint = 16777215, this.blendMode = CONST.BLEND_MODES.NORMAL, this.shader = null, this.cachedTint = 16777215, this.texture = texture || Texture.EMPTY
      }

      var math = require("../math"), Texture = require("../textures/Texture"),
        Container = require("../display/Container"), CanvasTinter = require("../renderers/canvas/utils/CanvasTinter"),
        utils = require("../utils"), CONST = require("../const"), tempPoint = new math.Point;
      Sprite.prototype = Object.create(Container.prototype), Sprite.prototype.constructor = Sprite, module.exports = Sprite, Object.defineProperties(Sprite.prototype, {
        width: {
          get: function () {
            return Math.abs(this.scale.x) * this.texture._frame.width
          }, set: function (value) {
            var sign = utils.sign(this.scale.x) || 1;
            this.scale.x = sign * value / this.texture._frame.width, this._width = value
          }
        }, height: {
          get: function () {
            return Math.abs(this.scale.y) * this.texture._frame.height
          }, set: function (value) {
            var sign = utils.sign(this.scale.y) || 1;
            this.scale.y = sign * value / this.texture._frame.height, this._height = value
          }
        }, texture: {
          get: function () {
            return this._texture
          }, set: function (value) {
            this._texture !== value && (this._texture = value, this.cachedTint = 16777215, value && (value.baseTexture.hasLoaded ? this._onTextureUpdate() : value.once("update", this._onTextureUpdate, this)))
          }
        }
      }), Sprite.prototype._onTextureUpdate = function () {
        this._width && (this.scale.x = utils.sign(this.scale.x) * this._width / this.texture.frame.width), this._height && (this.scale.y = utils.sign(this.scale.y) * this._height / this.texture.frame.height)
      }, Sprite.prototype._renderWebGL = function (renderer) {
        renderer.setObjectRenderer(renderer.plugins.sprite), renderer.plugins.sprite.render(this)
      }, Sprite.prototype.getBounds = function (matrix) {
        if (!this._currentBounds) {
          var minX, maxX, minY, maxY, width = this._texture._frame.width, height = this._texture._frame.height,
            w0 = width * (1 - this.anchor.x), w1 = width * -this.anchor.x, h0 = height * (1 - this.anchor.y),
            h1 = height * -this.anchor.y, worldTransform = matrix || this.worldTransform, a = worldTransform.a,
            b = worldTransform.b, c = worldTransform.c, d = worldTransform.d, tx = worldTransform.tx,
            ty = worldTransform.ty, x1 = a * w1 + c * h1 + tx, y1 = d * h1 + b * w1 + ty, x2 = a * w0 + c * h1 + tx,
            y2 = d * h1 + b * w0 + ty, x3 = a * w0 + c * h0 + tx, y3 = d * h0 + b * w0 + ty, x4 = a * w1 + c * h0 + tx,
            y4 = d * h0 + b * w1 + ty;
          if (minX = x1, minX = x2 < minX ? x2 : minX, minX = x3 < minX ? x3 : minX, minX = x4 < minX ? x4 : minX, minY = y1, minY = y2 < minY ? y2 : minY, minY = y3 < minY ? y3 : minY, minY = y4 < minY ? y4 : minY, maxX = x1, maxX = x2 > maxX ? x2 : maxX, maxX = x3 > maxX ? x3 : maxX, maxX = x4 > maxX ? x4 : maxX, maxY = y1, maxY = y2 > maxY ? y2 : maxY, maxY = y3 > maxY ? y3 : maxY, maxY = y4 > maxY ? y4 : maxY, this.children.length) {
            var childBounds = this.containerGetBounds();
            w0 = childBounds.x, w1 = childBounds.x + childBounds.width, h0 = childBounds.y, h1 = childBounds.y + childBounds.height, minX = minX < w0 ? minX : w0, minY = minY < h0 ? minY : h0, maxX = maxX > w1 ? maxX : w1, maxY = maxY > h1 ? maxY : h1
          }
          var bounds = this._bounds;
          bounds.x = minX, bounds.width = maxX - minX, bounds.y = minY, bounds.height = maxY - minY, this._currentBounds = bounds
        }
        return this._currentBounds
      }, Sprite.prototype.getLocalBounds = function () {
        return this._bounds.x = -this._texture._frame.width * this.anchor.x, this._bounds.y = -this._texture._frame.height * this.anchor.y, this._bounds.width = this._texture._frame.width, this._bounds.height = this._texture._frame.height, this._bounds
      }, Sprite.prototype.containsPoint = function (point) {
        this.worldTransform.applyInverse(point, tempPoint);
        var y1, width = this._texture._frame.width, height = this._texture._frame.height, x1 = -width * this.anchor.x;
        return tempPoint.x > x1 && tempPoint.x < x1 + width && (y1 = -height * this.anchor.y, tempPoint.y > y1 && tempPoint.y < y1 + height)
      }, Sprite.prototype._renderCanvas = function (renderer) {
        if (!(this.texture.crop.width <= 0 || this.texture.crop.height <= 0)) {
          var compositeOperation = renderer.blendModes[this.blendMode];
          if (compositeOperation !== renderer.context.globalCompositeOperation && (renderer.context.globalCompositeOperation = compositeOperation), this.texture.valid) {
            var dx, dy, width, height, texture = this._texture, wt = this.worldTransform;
            renderer.context.globalAlpha = this.worldAlpha;
            var smoothingEnabled = texture.baseTexture.scaleMode === CONST.SCALE_MODES.LINEAR;
            if (renderer.smoothProperty && renderer.context[renderer.smoothProperty] !== smoothingEnabled && (renderer.context[renderer.smoothProperty] = smoothingEnabled), texture.rotate) {
              var a = wt.a, b = wt.b;
              wt.a = -wt.c, wt.b = -wt.d, wt.c = a, wt.d = b, width = texture.crop.height, height = texture.crop.width, dx = texture.trim ? texture.trim.y - this.anchor.y * texture.trim.height : this.anchor.y * -texture._frame.height, dy = texture.trim ? texture.trim.x - this.anchor.x * texture.trim.width : this.anchor.x * -texture._frame.width
            } else width = texture.crop.width, height = texture.crop.height, dx = texture.trim ? texture.trim.x - this.anchor.x * texture.trim.width : this.anchor.x * -texture._frame.width, dy = texture.trim ? texture.trim.y - this.anchor.y * texture.trim.height : this.anchor.y * -texture._frame.height;
            renderer.roundPixels ? (renderer.context.setTransform(wt.a, wt.b, wt.c, wt.d, wt.tx * renderer.resolution | 0, wt.ty * renderer.resolution | 0), dx |= 0, dy |= 0) : renderer.context.setTransform(wt.a, wt.b, wt.c, wt.d, wt.tx * renderer.resolution, wt.ty * renderer.resolution);
            var resolution = texture.baseTexture.resolution;
            16777215 !== this.tint ? (this.cachedTint !== this.tint && (this.cachedTint = this.tint, this.tintedTexture = CanvasTinter.getTintedTexture(this, this.tint)), renderer.context.drawImage(this.tintedTexture, 0, 0, width * resolution, height * resolution, dx * renderer.resolution, dy * renderer.resolution, width * renderer.resolution, height * renderer.resolution)) : renderer.context.drawImage(texture.baseTexture.source, texture.crop.x * resolution, texture.crop.y * resolution, width * resolution, height * resolution, dx * renderer.resolution, dy * renderer.resolution, width * renderer.resolution, height * renderer.resolution)
          }
        }
      }, Sprite.prototype.destroy = function (destroyTexture, destroyBaseTexture) {
        Container.prototype.destroy.call(this), this.anchor = null, destroyTexture && this._texture.destroy(destroyBaseTexture), this._texture = null, this.shader = null
      }, Sprite.fromFrame = function (frameId) {
        var texture = utils.TextureCache[frameId];
        if (!texture) throw new Error('The frameId "' + frameId + '" does not exist in the texture cache');
        return new Sprite(texture)
      }, Sprite.fromImage = function (imageId, crossorigin, scaleMode) {
        return new Sprite(Texture.fromImage(imageId, crossorigin, scaleMode))
      }
    }, {
      "../const": 20,
      "../display/Container": 21,
      "../math": 31,
      "../renderers/canvas/utils/CanvasTinter": 46,
      "../textures/Texture": 71,
      "../utils": 76
    }],
    67: [function (require, module, exports) {
      function SpriteRenderer (renderer) {
        ObjectRenderer.call(this, renderer), this.vertSize = 5, this.vertByteSize = 4 * this.vertSize, this.size = CONST.SPRITE_BATCH_SIZE;
        var numVerts = 4 * this.size * this.vertByteSize, numIndices = 6 * this.size;
        this.vertices = new ArrayBuffer(numVerts), this.positions = new Float32Array(this.vertices), this.colors = new Uint32Array(this.vertices), this.indices = new Uint16Array(numIndices);
        for (var i = 0, j = 0; i < numIndices; i += 6, j += 4) this.indices[i + 0] = j + 0, this.indices[i + 1] = j + 1, this.indices[i + 2] = j + 2, this.indices[i + 3] = j + 0, this.indices[i + 4] = j + 2, this.indices[i + 5] = j + 3;
        this.currentBatchSize = 0, this.sprites = [], this.shader = null
      }

      var ObjectRenderer = require("../../renderers/webgl/utils/ObjectRenderer"),
        WebGLRenderer = require("../../renderers/webgl/WebGLRenderer"), CONST = require("../../const");
      SpriteRenderer.prototype = Object.create(ObjectRenderer.prototype), SpriteRenderer.prototype.constructor = SpriteRenderer, module.exports = SpriteRenderer, WebGLRenderer.registerPlugin("sprite", SpriteRenderer), SpriteRenderer.prototype.onContextChange = function () {
        var gl = this.renderer.gl;
        this.shader = this.renderer.shaderManager.defaultShader, this.vertexBuffer = gl.createBuffer(), this.indexBuffer = gl.createBuffer(), gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.indexBuffer), gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, this.indices, gl.STATIC_DRAW), gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer), gl.bufferData(gl.ARRAY_BUFFER, this.vertices, gl.DYNAMIC_DRAW), this.currentBlendMode = 99999
      }, SpriteRenderer.prototype.render = function (sprite) {
        var texture = sprite._texture;
        this.currentBatchSize >= this.size && this.flush();
        var uvs = texture._uvs;
        if (uvs) {
          var w0, w1, h0, h1, aX = sprite.anchor.x, aY = sprite.anchor.y;
          if (texture.trim && void 0 === sprite.tileScale) {
            var trim = texture.trim;
            w1 = trim.x - aX * trim.width, w0 = w1 + texture.crop.width, h1 = trim.y - aY * trim.height, h0 = h1 + texture.crop.height
          } else w0 = texture._frame.width * (1 - aX), w1 = texture._frame.width * -aX, h0 = texture._frame.height * (1 - aY), h1 = texture._frame.height * -aY;
          var index = this.currentBatchSize * this.vertByteSize, worldTransform = sprite.worldTransform,
            a = worldTransform.a, b = worldTransform.b, c = worldTransform.c, d = worldTransform.d,
            tx = worldTransform.tx, ty = worldTransform.ty, colors = this.colors, positions = this.positions;
          this.renderer.roundPixels ? (positions[index] = a * w1 + c * h1 + tx | 0, positions[index + 1] = d * h1 + b * w1 + ty | 0, positions[index + 5] = a * w0 + c * h1 + tx | 0, positions[index + 6] = d * h1 + b * w0 + ty | 0, positions[index + 10] = a * w0 + c * h0 + tx | 0, positions[index + 11] = d * h0 + b * w0 + ty | 0, positions[index + 15] = a * w1 + c * h0 + tx | 0, positions[index + 16] = d * h0 + b * w1 + ty | 0) : (positions[index] = a * w1 + c * h1 + tx, positions[index + 1] = d * h1 + b * w1 + ty, positions[index + 5] = a * w0 + c * h1 + tx, positions[index + 6] = d * h1 + b * w0 + ty, positions[index + 10] = a * w0 + c * h0 + tx, positions[index + 11] = d * h0 + b * w0 + ty, positions[index + 15] = a * w1 + c * h0 + tx, positions[index + 16] = d * h0 + b * w1 + ty), positions[index + 2] = uvs.x0, positions[index + 3] = uvs.y0, positions[index + 7] = uvs.x1, positions[index + 8] = uvs.y1, positions[index + 12] = uvs.x2, positions[index + 13] = uvs.y2, positions[index + 17] = uvs.x3, positions[index + 18] = uvs.y3;
          var tint = sprite.tint;
          colors[index + 4] = colors[index + 9] = colors[index + 14] = colors[index + 19] = (tint >> 16) + (65280 & tint) + ((255 & tint) << 16) + (255 * sprite.worldAlpha << 24), this.sprites[this.currentBatchSize++] = sprite
        }
      }, SpriteRenderer.prototype.flush = function () {
        if (0 !== this.currentBatchSize) {
          var shader, gl = this.renderer.gl;
          if (this.currentBatchSize > .5 * this.size) gl.bufferSubData(gl.ARRAY_BUFFER, 0, this.vertices); else {
            var view = this.positions.subarray(0, this.currentBatchSize * this.vertByteSize);
            gl.bufferSubData(gl.ARRAY_BUFFER, 0, view)
          }
          for (var nextTexture, nextBlendMode, nextShader, sprite, batchSize = 0, start = 0, currentBaseTexture = null, currentBlendMode = this.renderer.blendModeManager.currentBlendMode, currentShader = null, blendSwap = !1, shaderSwap = !1, i = 0, j = this.currentBatchSize; i < j; i++) sprite = this.sprites[i], nextTexture = sprite._texture.baseTexture, nextBlendMode = sprite.blendMode, nextShader = sprite.shader || this.shader, blendSwap = currentBlendMode !== nextBlendMode, shaderSwap = currentShader !== nextShader, (currentBaseTexture !== nextTexture || blendSwap || shaderSwap) && (this.renderBatch(currentBaseTexture, batchSize, start), start = i, batchSize = 0, currentBaseTexture = nextTexture, blendSwap && (currentBlendMode = nextBlendMode, this.renderer.blendModeManager.setBlendMode(currentBlendMode)), shaderSwap && (currentShader = nextShader, shader = currentShader.shaders ? currentShader.shaders[gl.id] : currentShader, shader || (shader = currentShader.getShader(this.renderer)), this.renderer.shaderManager.setShader(shader), shader.uniforms.projectionMatrix.value = this.renderer.currentRenderTarget.projectionMatrix.toArray(!0), shader.syncUniforms(), gl.activeTexture(gl.TEXTURE0))), batchSize++;
          this.renderBatch(currentBaseTexture, batchSize, start), this.currentBatchSize = 0
        }
      }, SpriteRenderer.prototype.renderBatch = function (texture, size, startIndex) {
        if (0 !== size) {
          var gl = this.renderer.gl;
          texture._glTextures[gl.id] ? gl.bindTexture(gl.TEXTURE_2D, texture._glTextures[gl.id]) : this.renderer.updateTexture(texture), gl.drawElements(gl.TRIANGLES, 6 * size, gl.UNSIGNED_SHORT, 6 * startIndex * 2), this.renderer.drawCount++
        }
      }, SpriteRenderer.prototype.start = function () {
        var gl = this.renderer.gl;
        gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer), gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.indexBuffer);
        var stride = this.vertByteSize;
        gl.vertexAttribPointer(this.shader.attributes.aVertexPosition, 2, gl.FLOAT, !1, stride, 0), gl.vertexAttribPointer(this.shader.attributes.aTextureCoord, 2, gl.FLOAT, !1, stride, 8), gl.vertexAttribPointer(this.shader.attributes.aColor, 4, gl.UNSIGNED_BYTE, !0, stride, 16)
      }, SpriteRenderer.prototype.destroy = function () {
        this.renderer.gl.deleteBuffer(this.vertexBuffer), this.renderer.gl.deleteBuffer(this.indexBuffer), ObjectRenderer.prototype.destroy.call(this), this.shader.destroy(), this.renderer = null, this.vertices = null, this.positions = null, this.colors = null, this.indices = null, this.vertexBuffer = null, this.indexBuffer = null, this.sprites = null, this.shader = null
      }
    }, {
      "../../const": 20,
      "../../renderers/webgl/WebGLRenderer": 47,
      "../../renderers/webgl/utils/ObjectRenderer": 62
    }],
    68: [function (require, module, exports) {
      function Text (text, style, resolution) {
        this.canvas = document.createElement("canvas"), this.context = this.canvas.getContext("2d"), this.resolution = resolution || CONST.RESOLUTION, this._text = null, this._style = null;
        var texture = Texture.fromCanvas(this.canvas);
        texture.trim = new math.Rectangle, Sprite.call(this, texture), this.text = text, this.style = style
      }

      var Sprite = require("../sprites/Sprite"), Texture = require("../textures/Texture"), math = require("../math"),
        utils = require("../utils"), CONST = require("../const");
      Text.prototype = Object.create(Sprite.prototype), Text.prototype.constructor = Text, module.exports = Text, Text.fontPropertiesCache = {}, Text.fontPropertiesCanvas = document.createElement("canvas"), Text.fontPropertiesContext = Text.fontPropertiesCanvas.getContext("2d"), Object.defineProperties(Text.prototype, {
        width: {
          get: function () {
            return this.dirty && this.updateText(), this.scale.x * this._texture._frame.width
          }, set: function (value) {
            this.scale.x = value / this._texture._frame.width, this._width = value
          }
        }, height: {
          get: function () {
            return this.dirty && this.updateText(), this.scale.y * this._texture._frame.height
          }, set: function (value) {
            this.scale.y = value / this._texture._frame.height, this._height = value
          }
        }, style: {
          get: function () {
            return this._style
          }, set: function (style) {
            style = style || {}, "number" == typeof style.fill && (style.fill = utils.hex2string(style.fill)), "number" == typeof style.stroke && (style.stroke = utils.hex2string(style.stroke)), "number" == typeof style.dropShadowColor && (style.dropShadowColor = utils.hex2string(style.dropShadowColor)), style.font = style.font || "bold 20pt Arial", style.fill = style.fill || "black", style.align = style.align || "left", style.stroke = style.stroke || "black", style.strokeThickness = style.strokeThickness || 0, style.wordWrap = style.wordWrap || !1, style.wordWrapWidth = style.wordWrapWidth || 100, style.dropShadow = style.dropShadow || !1, style.dropShadowColor = style.dropShadowColor || "#000000", style.dropShadowAngle = style.dropShadowAngle || Math.PI / 6, style.dropShadowDistance = style.dropShadowDistance || 5, style.padding = style.padding || 0, style.textBaseline = style.textBaseline || "alphabetic", style.lineJoin = style.lineJoin || "miter", style.miterLimit = style.miterLimit || 10, this._style = style, this.dirty = !0
          }
        }, text: {
          get: function () {
            return this._text
          }, set: function (text) {
            text = text.toString() || " ", this._text !== text && (this._text = text, this.dirty = !0)
          }
        }
      }), Text.prototype.updateText = function () {
        var style = this._style;
        this.context.font = style.font;
        for (var outputText = style.wordWrap ? this.wordWrap(this._text) : this._text, lines = outputText.split(/(?:\r\n|\r|\n)/), lineWidths = new Array(lines.length), maxLineWidth = 0, fontProperties = this.determineFontProperties(style.font), i = 0; i < lines.length; i++) {
          var lineWidth = this.context.measureText(lines[i]).width;
          lineWidths[i] = lineWidth, maxLineWidth = Math.max(maxLineWidth, lineWidth)
        }
        var width = maxLineWidth + style.strokeThickness;
        style.dropShadow && (width += style.dropShadowDistance), this.canvas.width = (width + this.context.lineWidth) * this.resolution;
        var lineHeight = this.style.lineHeight || fontProperties.fontSize + style.strokeThickness,
          height = lineHeight * lines.length;
        style.dropShadow && (height += style.dropShadowDistance), this.canvas.height = (height + 2 * this._style.padding) * this.resolution, this.context.scale(this.resolution, this.resolution), navigator.isCocoonJS && this.context.clearRect(0, 0, this.canvas.width, this.canvas.height), this.context.font = style.font, this.context.strokeStyle = style.stroke, this.context.lineWidth = style.strokeThickness, this.context.textBaseline = style.textBaseline, this.context.lineJoin = style.lineJoin, this.context.miterLimit = style.miterLimit;
        var linePositionX, linePositionY;
        if (style.dropShadow) {
          this.context.fillStyle = style.dropShadowColor;
          var xShadowOffset = Math.cos(style.dropShadowAngle) * style.dropShadowDistance,
            yShadowOffset = Math.sin(style.dropShadowAngle) * style.dropShadowDistance;
          for (i = 0; i < lines.length; i++) linePositionX = style.strokeThickness / 2, linePositionY = style.strokeThickness / 2 + i * lineHeight + fontProperties.ascent, "right" === style.align ? linePositionX += maxLineWidth - lineWidths[i] : "center" === style.align && (linePositionX += (maxLineWidth - lineWidths[i]) / 2), style.fill && this.context.fillText(lines[i], linePositionX + xShadowOffset, linePositionY + yShadowOffset + this._style.padding)
        }
        for (this.context.fillStyle = style.fill, i = 0; i < lines.length; i++) linePositionX = style.strokeThickness / 2, linePositionY = style.strokeThickness / 2 + i * lineHeight + fontProperties.ascent, "right" === style.align ? linePositionX += maxLineWidth - lineWidths[i] : "center" === style.align && (linePositionX += (maxLineWidth - lineWidths[i]) / 2), style.stroke && style.strokeThickness && this.context.strokeText(lines[i], linePositionX, linePositionY + this._style.padding), style.fill && this.context.fillText(lines[i], linePositionX, linePositionY + this._style.padding);
        this.updateTexture()
      }, Text.prototype.updateTexture = function () {
        var texture = this._texture;
        texture.baseTexture.hasLoaded = !0, texture.baseTexture.resolution = this.resolution, texture.baseTexture.width = this.canvas.width / this.resolution, texture.baseTexture.height = this.canvas.height / this.resolution, texture.crop.width = texture._frame.width = this.canvas.width / this.resolution, texture.crop.height = texture._frame.height = this.canvas.height / this.resolution, texture.trim.x = 0, texture.trim.y = -this._style.padding, texture.trim.width = texture._frame.width, texture.trim.height = texture._frame.height - 2 * this._style.padding, this._width = this.canvas.width / this.resolution, this._height = this.canvas.height / this.resolution, texture.baseTexture.emit("update", texture.baseTexture), this.dirty = !1
      }, Text.prototype.renderWebGL = function (renderer) {
        this.dirty && this.updateText(), Sprite.prototype.renderWebGL.call(this, renderer)
      }, Text.prototype._renderCanvas = function (renderer) {
        this.dirty && this.updateText(), Sprite.prototype._renderCanvas.call(this, renderer)
      }, Text.prototype.determineFontProperties = function (fontStyle) {
        var properties = Text.fontPropertiesCache[fontStyle];
        if (!properties) {
          properties = {};
          var canvas = Text.fontPropertiesCanvas, context = Text.fontPropertiesContext;
          context.font = fontStyle;
          var width = Math.ceil(context.measureText("|Mq").width),
            baseline = Math.ceil(context.measureText("M").width), height = 2 * baseline;
          baseline = 1.4 * baseline | 0, canvas.width = width, canvas.height = height, context.fillStyle = "#f00", context.fillRect(0, 0, width, height), context.font = fontStyle, context.textBaseline = "alphabetic", context.fillStyle = "#000", context.fillText("|Mq", 0, baseline);
          var i, j, imagedata = context.getImageData(0, 0, width, height).data, pixels = imagedata.length,
            line = 4 * width, idx = 0, stop = !1;
          for (i = 0; i < baseline; i++) {
            for (j = 0; j < line; j += 4) if (255 !== imagedata[idx + j]) {
              stop = !0;
              break
            }
            if (stop) break;
            idx += line
          }
          for (properties.ascent = baseline - i, idx = pixels - line, stop = !1, i = height; i > baseline; i--) {
            for (j = 0; j < line; j += 4) if (255 !== imagedata[idx + j]) {
              stop = !0;
              break
            }
            if (stop) break;
            idx -= line
          }
          properties.descent = i - baseline, properties.fontSize = properties.ascent + properties.descent, Text.fontPropertiesCache[fontStyle] = properties
        }
        return properties
      }, Text.prototype.wordWrap = function (text) {
        for (var result = "", lines = text.split("\n"), wordWrapWidth = this._style.wordWrapWidth, i = 0; i < lines.length; i++) {
          for (var spaceLeft = wordWrapWidth, words = lines[i].split(" "), j = 0; j < words.length; j++) {
            var wordWidth = this.context.measureText(words[j]).width,
              wordWidthWithSpace = wordWidth + this.context.measureText(" ").width;
            0 === j || wordWidthWithSpace > spaceLeft ? (j > 0 && (result += "\n"), result += words[j], spaceLeft = wordWrapWidth - wordWidth) : (spaceLeft -= wordWidthWithSpace, result += " " + words[j])
          }
          i < lines.length - 1 && (result += "\n")
        }
        return result
      }, Text.prototype.getBounds = function (matrix) {
        return this.dirty && this.updateText(), Sprite.prototype.getBounds.call(this, matrix)
      }, Text.prototype.destroy = function (destroyBaseTexture) {
        this.context = null, this.canvas = null, this._style = null, this._texture.destroy(void 0 === destroyBaseTexture || destroyBaseTexture)
      }
    }, {"../const": 20, "../math": 31, "../sprites/Sprite": 66, "../textures/Texture": 71, "../utils": 76}],
    69: [function (require, module, exports) {
      function BaseTexture (source, scaleMode, resolution) {
        EventEmitter.call(this), this.uid = utils.uid(), this.resolution = resolution || 1, this.width = 100, this.height = 100, this.realWidth = 100, this.realHeight = 100, this.scaleMode = scaleMode || CONST.SCALE_MODES.DEFAULT, this.hasLoaded = !1, this.isLoading = !1, this.source = null, this.premultipliedAlpha = !0, this.imageUrl = null, this.isPowerOfTwo = !1, this.mipmap = !1, this._glTextures = {}, source && this.loadSource(source)
      }

      var utils = require("../utils"), CONST = require("../const"), EventEmitter = require("eventemitter3");
      BaseTexture.prototype = Object.create(EventEmitter.prototype), BaseTexture.prototype.constructor = BaseTexture, module.exports = BaseTexture, BaseTexture.prototype.update = function () {
        this.realWidth = this.source.naturalWidth || this.source.width, this.realHeight = this.source.naturalHeight || this.source.height, this.width = this.realWidth / this.resolution, this.height = this.realHeight / this.resolution, this.isPowerOfTwo = utils.isPowerOfTwo(this.realWidth, this.realHeight), this.emit("update", this)
      }, BaseTexture.prototype.loadSource = function (source) {
        var wasLoading = this.isLoading;
        if (this.hasLoaded = !1, this.isLoading = !1, wasLoading && this.source && (this.source.onload = null, this.source.onerror = null), this.source = source, (this.source.complete || this.source.getContext) && this.source.width && this.source.height) this._sourceLoaded(); else if (!source.getContext) {
          this.isLoading = !0;
          var scope = this;
          source.onload = function () {
            source.onload = null, source.onerror = null, scope.isLoading && (scope.isLoading = !1, scope._sourceLoaded(), scope.emit("loaded", scope))
          }, source.onerror = function () {
            source.onload = null, source.onerror = null, scope.isLoading && (scope.isLoading = !1, scope.emit("error", scope))
          }, source.complete && source.src && (this.isLoading = !1, source.onload = null, source.onerror = null, source.width && source.height ? (this._sourceLoaded(), wasLoading && this.emit("loaded", this)) : wasLoading && this.emit("error", this))
        }
      }, BaseTexture.prototype._sourceLoaded = function () {
        this.hasLoaded = !0, this.update()
      }, BaseTexture.prototype.destroy = function () {
        this.imageUrl ? (delete utils.BaseTextureCache[this.imageUrl], delete utils.TextureCache[this.imageUrl], this.imageUrl = null, navigator.isCocoonJS || (this.source.src = "")) : this.source && this.source._pixiId && delete utils.BaseTextureCache[this.source._pixiId], this.source = null, this.dispose()
      }, BaseTexture.prototype.dispose = function () {
        this.emit("dispose", this)
      }, BaseTexture.prototype.updateSourceImage = function (newSrc) {
        this.source.src = newSrc, this.loadSource(this.source)
      }, BaseTexture.fromImage = function (imageUrl, crossorigin, scaleMode) {
        var baseTexture = utils.BaseTextureCache[imageUrl];
        if (void 0 === crossorigin && 0 !== imageUrl.indexOf("data:") && (crossorigin = !0), !baseTexture) {
          var image = new Image;
          crossorigin && (image.crossOrigin = ""), baseTexture = new BaseTexture(image, scaleMode), baseTexture.imageUrl = imageUrl, image.src = imageUrl, utils.BaseTextureCache[imageUrl] = baseTexture, baseTexture.resolution = utils.getResolutionOfUrl(imageUrl)
        }
        return baseTexture
      }, BaseTexture.fromCanvas = function (canvas, scaleMode) {
        canvas._pixiId || (canvas._pixiId = "canvas_" + utils.uid());
        var baseTexture = utils.BaseTextureCache[canvas._pixiId];
        return baseTexture || (baseTexture = new BaseTexture(canvas, scaleMode), utils.BaseTextureCache[canvas._pixiId] = baseTexture), baseTexture
      }
    }, {"../const": 20, "../utils": 76, eventemitter3: 10}],
    70: [function (require, module, exports) {
      function RenderTexture (renderer, width, height, scaleMode, resolution) {
        if (!renderer) throw new Error("Unable to create RenderTexture, you must pass a renderer into the constructor.");
        width = width || 100, height = height || 100, resolution = resolution || CONST.RESOLUTION;
        var baseTexture = new BaseTexture;
        if (baseTexture.width = width, baseTexture.height = height, baseTexture.resolution = resolution, baseTexture.scaleMode = scaleMode || CONST.SCALE_MODES.DEFAULT, baseTexture.hasLoaded = !0, Texture.call(this, baseTexture, new math.Rectangle(0, 0, width, height)), this.width = width, this.height = height, this.resolution = resolution, this.render = null, this.renderer = renderer, this.renderer.type === CONST.RENDERER_TYPE.WEBGL) {
          var gl = this.renderer.gl;
          this.textureBuffer = new RenderTarget(gl, this.width, this.height, baseTexture.scaleMode, this.resolution), this.baseTexture._glTextures[gl.id] = this.textureBuffer.texture, this.filterManager = new FilterManager(this.renderer), this.filterManager.onContextChange(), this.filterManager.resize(width, height), this.render = this.renderWebGL, this.renderer.currentRenderer.start(), this.renderer.currentRenderTarget.activate()
        } else this.render = this.renderCanvas, this.textureBuffer = new CanvasBuffer(this.width * this.resolution, this.height * this.resolution), this.baseTexture.source = this.textureBuffer.canvas;
        this.valid = !0, this._updateUvs()
      }

      var BaseTexture = require("./BaseTexture"), Texture = require("./Texture"),
        RenderTarget = require("../renderers/webgl/utils/RenderTarget"),
        FilterManager = require("../renderers/webgl/managers/FilterManager"),
        CanvasBuffer = require("../renderers/canvas/utils/CanvasBuffer"), math = require("../math"),
        CONST = require("../const"), tempMatrix = new math.Matrix;
      RenderTexture.prototype = Object.create(Texture.prototype), RenderTexture.prototype.constructor = RenderTexture, module.exports = RenderTexture, RenderTexture.prototype.resize = function (width, height, updateBase) {
        width === this.width && height === this.height || (this.valid = width > 0 && height > 0, this.width = this._frame.width = this.crop.width = width, this.height = this._frame.height = this.crop.height = height, updateBase && (this.baseTexture.width = this.width, this.baseTexture.height = this.height), this.valid && (this.textureBuffer.resize(this.width, this.height),
        this.filterManager && this.filterManager.resize(this.width, this.height)))
      }, RenderTexture.prototype.clear = function () {
        this.valid && (this.renderer.type === CONST.RENDERER_TYPE.WEBGL && this.renderer.gl.bindFramebuffer(this.renderer.gl.FRAMEBUFFER, this.textureBuffer.frameBuffer), this.textureBuffer.clear())
      }, RenderTexture.prototype.renderWebGL = function (displayObject, matrix, clear, updateTransform) {
        if (this.valid) {
          if (updateTransform = void 0 === updateTransform || updateTransform, this.textureBuffer.transform = matrix, this.textureBuffer.activate(), displayObject.worldAlpha = 1, updateTransform) {
            displayObject.worldTransform.identity(), displayObject.currentBounds = null;
            var i, j, children = displayObject.children;
            for (i = 0, j = children.length; i < j; ++i) children[i].updateTransform()
          }
          var temp = this.renderer.filterManager;
          this.renderer.filterManager = this.filterManager, this.renderer.renderDisplayObject(displayObject, this.textureBuffer, clear), this.renderer.filterManager = temp
        }
      }, RenderTexture.prototype.renderCanvas = function (displayObject, matrix, clear, updateTransform) {
        if (this.valid) {
          updateTransform = !!updateTransform;
          var wt = tempMatrix;
          wt.identity(), matrix && wt.append(matrix), displayObject.worldTransform = wt;
          var cachedWt = displayObject.worldTransform;
          displayObject.worldAlpha = 1;
          var i, j, children = displayObject.children;
          for (i = 0, j = children.length; i < j; ++i) children[i].updateTransform();
          clear && this.textureBuffer.clear();
          var context = this.textureBuffer.context, realResolution = this.renderer.resolution;
          this.renderer.resolution = this.resolution, this.renderer.renderDisplayObject(displayObject, context), this.renderer.resolution = realResolution, displayObject.worldTransform === wt && (displayObject.worldTransform = cachedWt)
        }
      }, RenderTexture.prototype.destroy = function () {
        Texture.prototype.destroy.call(this, !0), this.textureBuffer.destroy(), this.filterManager && this.filterManager.destroy(), this.renderer = null
      }, RenderTexture.prototype.getImage = function () {
        var image = new Image;
        return image.src = this.getBase64(), image
      }, RenderTexture.prototype.getBase64 = function () {
        return this.getCanvas().toDataURL()
      }, RenderTexture.prototype.getCanvas = function () {
        if (this.renderer.type === CONST.RENDERER_TYPE.WEBGL) {
          var gl = this.renderer.gl, width = this.textureBuffer.size.width, height = this.textureBuffer.size.height,
            webGLPixels = new Uint8Array(4 * width * height);
          gl.bindFramebuffer(gl.FRAMEBUFFER, this.textureBuffer.frameBuffer), gl.readPixels(0, 0, width, height, gl.RGBA, gl.UNSIGNED_BYTE, webGLPixels), gl.bindFramebuffer(gl.FRAMEBUFFER, null);
          var tempCanvas = new CanvasBuffer(width, height),
            canvasData = tempCanvas.context.getImageData(0, 0, width, height);
          return canvasData.data.set(webGLPixels), tempCanvas.context.putImageData(canvasData, 0, 0), tempCanvas.canvas
        }
        return this.textureBuffer.canvas
      }, RenderTexture.prototype.getPixels = function () {
        var width, height;
        if (this.renderer.type === CONST.RENDERER_TYPE.WEBGL) {
          var gl = this.renderer.gl;
          width = this.textureBuffer.size.width, height = this.textureBuffer.size.height;
          var webGLPixels = new Uint8Array(4 * width * height);
          return gl.bindFramebuffer(gl.FRAMEBUFFER, this.textureBuffer.frameBuffer), gl.readPixels(0, 0, width, height, gl.RGBA, gl.UNSIGNED_BYTE, webGLPixels), gl.bindFramebuffer(gl.FRAMEBUFFER, null), webGLPixels
        }
        return width = this.textureBuffer.canvas.width, height = this.textureBuffer.canvas.height, this.textureBuffer.canvas.getContext("2d").getImageData(0, 0, width, height).data
      }, RenderTexture.prototype.getPixel = function (x, y) {
        if (this.renderer.type === CONST.RENDERER_TYPE.WEBGL) {
          var gl = this.renderer.gl, webGLPixels = new Uint8Array(4);
          return gl.bindFramebuffer(gl.FRAMEBUFFER, this.textureBuffer.frameBuffer), gl.readPixels(x, y, 1, 1, gl.RGBA, gl.UNSIGNED_BYTE, webGLPixels), gl.bindFramebuffer(gl.FRAMEBUFFER, null), webGLPixels
        }
        return this.textureBuffer.canvas.getContext("2d").getImageData(x, y, 1, 1).data
      }
    }, {
      "../const": 20,
      "../math": 31,
      "../renderers/canvas/utils/CanvasBuffer": 43,
      "../renderers/webgl/managers/FilterManager": 52,
      "../renderers/webgl/utils/RenderTarget": 64,
      "./BaseTexture": 69,
      "./Texture": 71
    }],
    71: [function (require, module, exports) {
      function Texture (baseTexture, frame, crop, trim, rotate) {
        EventEmitter.call(this), this.noFrame = !1, frame || (this.noFrame = !0, frame = new math.Rectangle(0, 0, 1, 1)), baseTexture instanceof Texture && (baseTexture = baseTexture.baseTexture), this.baseTexture = baseTexture, this._frame = frame, this.trim = trim, this.valid = !1, this.requiresUpdate = !1, this._uvs = null, this.width = 0, this.height = 0, this.crop = crop || frame, this.rotate = !!rotate, baseTexture.hasLoaded ? (this.noFrame && (frame = new math.Rectangle(0, 0, baseTexture.width, baseTexture.height), baseTexture.on("update", this.onBaseTextureUpdated, this)), this.frame = frame) : baseTexture.once("loaded", this.onBaseTextureLoaded, this)
      }

      var BaseTexture = require("./BaseTexture"), VideoBaseTexture = require("./VideoBaseTexture"),
        TextureUvs = require("./TextureUvs"), EventEmitter = require("eventemitter3"), math = require("../math"),
        utils = require("../utils");
      Texture.prototype = Object.create(EventEmitter.prototype), Texture.prototype.constructor = Texture, module.exports = Texture, Object.defineProperties(Texture.prototype, {
        frame: {
          get: function () {
            return this._frame
          }, set: function (frame) {
            if (this._frame = frame, this.noFrame = !1, this.width = frame.width, this.height = frame.height, !this.trim && !this.rotate && (frame.x + frame.width > this.baseTexture.width || frame.y + frame.height > this.baseTexture.height)) throw new Error("Texture Error: frame does not fit inside the base Texture dimensions " + this);
            this.valid = frame && frame.width && frame.height && this.baseTexture.hasLoaded, this.trim ? (this.width = this.trim.width, this.height = this.trim.height, this._frame.width = this.trim.width, this._frame.height = this.trim.height) : this.crop = frame, this.valid && this._updateUvs()
          }
        }
      }), Texture.prototype.update = function () {
        this.baseTexture.update()
      }, Texture.prototype.onBaseTextureLoaded = function (baseTexture) {
        this.noFrame ? this.frame = new math.Rectangle(0, 0, baseTexture.width, baseTexture.height) : this.frame = this._frame, this.emit("update", this)
      }, Texture.prototype.onBaseTextureUpdated = function (baseTexture) {
        this._frame.width = baseTexture.width, this._frame.height = baseTexture.height, this.emit("update", this)
      }, Texture.prototype.destroy = function (destroyBase) {
        this.baseTexture && (destroyBase && this.baseTexture.destroy(), this.baseTexture.off("update", this.onBaseTextureUpdated, this), this.baseTexture.off("loaded", this.onBaseTextureLoaded, this), this.baseTexture = null), this._frame = null, this._uvs = null, this.trim = null, this.crop = null, this.valid = !1, this.off("dispose", this.dispose, this), this.off("update", this.update, this)
      }, Texture.prototype.clone = function () {
        return new Texture(this.baseTexture, this.frame, this.crop, this.trim, this.rotate)
      }, Texture.prototype._updateUvs = function () {
        this._uvs || (this._uvs = new TextureUvs), this._uvs.set(this.crop, this.baseTexture, this.rotate)
      }, Texture.fromImage = function (imageUrl, crossorigin, scaleMode) {
        var texture = utils.TextureCache[imageUrl];
        return texture || (texture = new Texture(BaseTexture.fromImage(imageUrl, crossorigin, scaleMode)), utils.TextureCache[imageUrl] = texture), texture
      }, Texture.fromFrame = function (frameId) {
        var texture = utils.TextureCache[frameId];
        if (!texture) throw new Error('The frameId "' + frameId + '" does not exist in the texture cache');
        return texture
      }, Texture.fromCanvas = function (canvas, scaleMode) {
        return new Texture(BaseTexture.fromCanvas(canvas, scaleMode))
      }, Texture.fromVideo = function (video, scaleMode) {
        return "string" == typeof video ? Texture.fromVideoUrl(video, scaleMode) : new Texture(VideoBaseTexture.fromVideo(video, scaleMode))
      }, Texture.fromVideoUrl = function (videoUrl, scaleMode) {
        return new Texture(VideoBaseTexture.fromUrl(videoUrl, scaleMode))
      }, Texture.addTextureToCache = function (texture, id) {
        utils.TextureCache[id] = texture
      }, Texture.removeTextureFromCache = function (id) {
        var texture = utils.TextureCache[id];
        return delete utils.TextureCache[id], delete utils.BaseTextureCache[id], texture
      }, Texture.EMPTY = new Texture(new BaseTexture)
    }, {
      "../math": 31,
      "../utils": 76,
      "./BaseTexture": 69,
      "./TextureUvs": 72,
      "./VideoBaseTexture": 73,
      eventemitter3: 10
    }],
    72: [function (require, module, exports) {
      function TextureUvs () {
        this.x0 = 0, this.y0 = 0, this.x1 = 1, this.y1 = 0, this.x2 = 1, this.y2 = 1, this.x3 = 0, this.y3 = 1
      }

      module.exports = TextureUvs, TextureUvs.prototype.set = function (frame, baseFrame, rotate) {
        var tw = baseFrame.width, th = baseFrame.height;
        rotate ? (this.x0 = (frame.x + frame.height) / tw, this.y0 = frame.y / th, this.x1 = (frame.x + frame.height) / tw, this.y1 = (frame.y + frame.width) / th, this.x2 = frame.x / tw, this.y2 = (frame.y + frame.width) / th, this.x3 = frame.x / tw, this.y3 = frame.y / th) : (this.x0 = frame.x / tw, this.y0 = frame.y / th, this.x1 = (frame.x + frame.width) / tw, this.y1 = frame.y / th, this.x2 = (frame.x + frame.width) / tw, this.y2 = (frame.y + frame.height) / th, this.x3 = frame.x / tw, this.y3 = (frame.y + frame.height) / th)
      }
    }, {}],
    73: [function (require, module, exports) {
      function VideoBaseTexture (source, scaleMode) {
        if (!source) throw new Error("No video source element specified.");
        (source.readyState === source.HAVE_ENOUGH_DATA || source.readyState === source.HAVE_FUTURE_DATA) && source.width && source.height && (source.complete = !0), BaseTexture.call(this, source, scaleMode), this.autoUpdate = !1, this._onUpdate = this._onUpdate.bind(this), this._onCanPlay = this._onCanPlay.bind(this), source.complete || (source.addEventListener("canplay", this._onCanPlay), source.addEventListener("canplaythrough", this._onCanPlay), source.addEventListener("play", this._onPlayStart.bind(this)), source.addEventListener("pause", this._onPlayStop.bind(this))), this.__loaded = !1
      }

      function createSource (path, type) {
        type || (type = "video/" + path.substr(path.lastIndexOf(".") + 1));
        var source = document.createElement("source");
        return source.src = path, source.type = type, source
      }

      var BaseTexture = require("./BaseTexture"), utils = require("../utils");
      VideoBaseTexture.prototype = Object.create(BaseTexture.prototype), VideoBaseTexture.prototype.constructor = VideoBaseTexture, module.exports = VideoBaseTexture, VideoBaseTexture.prototype._onUpdate = function () {
        this.autoUpdate && (window.requestAnimationFrame(this._onUpdate), this.update())
      }, VideoBaseTexture.prototype._onPlayStart = function () {
        this.autoUpdate || (window.requestAnimationFrame(this._onUpdate), this.autoUpdate = !0)
      }, VideoBaseTexture.prototype._onPlayStop = function () {
        this.autoUpdate = !1
      }, VideoBaseTexture.prototype._onCanPlay = function () {
        this.hasLoaded = !0, this.source && (this.source.removeEventListener("canplay", this._onCanPlay), this.source.removeEventListener("canplaythrough", this._onCanPlay), this.width = this.source.videoWidth, this.height = this.source.videoHeight, this.source.play(), this.__loaded || (this.__loaded = !0, this.emit("loaded", this)))
      }, VideoBaseTexture.prototype.destroy = function () {
        this.source && this.source._pixiId && (delete utils.BaseTextureCache[this.source._pixiId], delete this.source._pixiId), BaseTexture.prototype.destroy.call(this)
      }, VideoBaseTexture.fromVideo = function (video, scaleMode) {
        video._pixiId || (video._pixiId = "video_" + utils.uid());
        var baseTexture = utils.BaseTextureCache[video._pixiId];
        return baseTexture || (baseTexture = new VideoBaseTexture(video, scaleMode), utils.BaseTextureCache[video._pixiId] = baseTexture), baseTexture
      }, VideoBaseTexture.fromUrl = function (videoSrc, scaleMode) {
        var video = document.createElement("video");
        if (Array.isArray(videoSrc)) for (var i = 0; i < videoSrc.length; ++i) video.appendChild(createSource(videoSrc[i].src || videoSrc[i], videoSrc[i].mime)); else video.appendChild(createSource(videoSrc.src || videoSrc, videoSrc.mime));
        return video.load(), video.play(), VideoBaseTexture.fromVideo(video, scaleMode)
      }, VideoBaseTexture.fromUrls = VideoBaseTexture.fromUrl
    }, {"../utils": 76, "./BaseTexture": 69}],
    74: [function (require, module, exports) {
      function Ticker () {
        var _this = this;
        this._tick = function (time) {
          _this._requestId = null, _this.started && (_this.update(time), _this.started && null === _this._requestId && _this._emitter.listeners(TICK, !0) && (_this._requestId = requestAnimationFrame(_this._tick)))
        }, this._emitter = new EventEmitter, this._requestId = null, this._maxElapsedMS = 100, this.autoStart = !1, this.deltaTime = 1, this.elapsedMS = 1 / CONST.TARGET_FPMS, this.lastTime = 0, this.speed = 1, this.started = !1
      }

      var CONST = require("../const"), EventEmitter = require("eventemitter3"), TICK = "tick";
      Object.defineProperties(Ticker.prototype, {
        FPS: {
          get: function () {
            return 1e3 / this.elapsedMS
          }
        }, minFPS: {
          get: function () {
            return 1e3 / this._maxElapsedMS
          }, set: function (fps) {
            var minFPMS = Math.min(Math.max(0, fps) / 1e3, CONST.TARGET_FPMS);
            this._maxElapsedMS = 1 / minFPMS
          }
        }
      }), Ticker.prototype._requestIfNeeded = function () {
        null === this._requestId && this._emitter.listeners(TICK, !0) && (this.lastTime = performance.now(), this._requestId = requestAnimationFrame(this._tick))
      }, Ticker.prototype._cancelIfNeeded = function () {
        null !== this._requestId && (cancelAnimationFrame(this._requestId), this._requestId = null)
      }, Ticker.prototype._startIfPossible = function () {
        this.started ? this._requestIfNeeded() : this.autoStart && this.start()
      }, Ticker.prototype.add = function (fn, context) {
        return this._emitter.on(TICK, fn, context), this._startIfPossible(), this
      }, Ticker.prototype.addOnce = function (fn, context) {
        return this._emitter.once(TICK, fn, context), this._startIfPossible(), this
      }, Ticker.prototype.remove = function (fn, context) {
        return this._emitter.off(TICK, fn, context), this._emitter.listeners(TICK, !0) || this._cancelIfNeeded(), this
      }, Ticker.prototype.start = function () {
        this.started || (this.started = !0, this._requestIfNeeded())
      }, Ticker.prototype.stop = function () {
        this.started && (this.started = !1, this._cancelIfNeeded())
      }, Ticker.prototype.update = function (currentTime) {
        var elapsedMS;
        currentTime = currentTime || performance.now(), elapsedMS = this.elapsedMS = currentTime - this.lastTime, elapsedMS > this._maxElapsedMS && (elapsedMS = this._maxElapsedMS), this.deltaTime = elapsedMS * CONST.TARGET_FPMS * this.speed, this._emitter.emit(TICK, this.deltaTime), this.lastTime = currentTime
      }, module.exports = Ticker
    }, {"../const": 20, eventemitter3: 10}],
    75: [function (require, module, exports) {
      var Ticker = require("./Ticker"), shared = new Ticker;
      shared.autoStart = !0, module.exports = {shared: shared, Ticker: Ticker}
    }, {"./Ticker": 74}],
    76: [function (require, module, exports) {
      var CONST = require("../const"), utils = module.exports = {
        _uid: 0,
        _saidHello: !1,
        EventEmitter: require("eventemitter3"),
        pluginTarget: require("./pluginTarget"),
        async: require("async"),
        uid: function () {
          return ++utils._uid
        },
        hex2rgb: function (hex, out) {
          return out = out || [], out[0] = (hex >> 16 & 255) / 255, out[1] = (hex >> 8 & 255) / 255, out[2] = (255 & hex) / 255, out
        },
        hex2string: function (hex) {
          return hex = hex.toString(16), hex = "000000".substr(0, 6 - hex.length) + hex, "#" + hex
        },
        rgb2hex: function (rgb) {
          return (255 * rgb[0] << 16) + (255 * rgb[1] << 8) + 255 * rgb[2]
        },
        canUseNewCanvasBlendModes: function () {
          if ("undefined" == typeof document) return !1;
          var pngHead = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",
            pngEnd = "AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==", magenta = new Image;
          magenta.src = pngHead + "AP804Oa6" + pngEnd;
          var yellow = new Image;
          yellow.src = pngHead + "/wCKxvRF" + pngEnd;
          var canvas = document.createElement("canvas");
          canvas.width = 6, canvas.height = 1;
          var context = canvas.getContext("2d");
          context.globalCompositeOperation = "multiply", context.drawImage(magenta, 0, 0), context.drawImage(yellow, 2, 0);
          var data = context.getImageData(2, 0, 1, 1).data;
          return 255 === data[0] && 0 === data[1] && 0 === data[2]
        },
        getNextPowerOfTwo: function (number) {
          if (number > 0 && 0 === (number & number - 1)) return number;
          for (var result = 1; result < number;) result <<= 1;
          return result
        },
        isPowerOfTwo: function (width, height) {
          return width > 0 && 0 === (width & width - 1) && height > 0 && 0 === (height & height - 1)
        },
        getResolutionOfUrl: function (url) {
          var resolution = CONST.RETINA_PREFIX.exec(url);
          return resolution ? parseFloat(resolution[1]) : 1
        },
        sayHello: function (type) {
          if (!utils._saidHello) {
            if (navigator.userAgent.toLowerCase().indexOf("chrome") > -1) {
              var args = ["\n %c %c %c Pixi.js " + CONST.VERSION + " -  " + type + "   %c  %c  http://www.pixijs.com/  %c %c %c%c \n\n", "background: #ff66a5; padding:5px 0;", "background: #ff66a5; padding:5px 0;", "color: #ff66a5; background: #030307; padding:5px 0;", "background: #ff66a5; padding:5px 0;", "background: #ffc3dc; padding:5px 0;", "background: #ff66a5; padding:5px 0;", "color: #ff2424; background: #fff; padding:5px 0;", "color: #ff2424; background: #fff; padding:5px 0;", "color: #ff2424; background: #fff; padding:5px 0;"];
              window.console.log.apply(console, args)
            } else window.console && window.console.log("Pixi.js " + CONST.VERSION + " - " + type + " - http://www.pixijs.com/");
            utils._saidHello = !0
          }
        },
        isWebGLSupported: function () {
          var contextOptions = {stencil: !0};
          try {
            if (!window.WebGLRenderingContext) return !1;
            var canvas = document.createElement("canvas"),
              gl = canvas.getContext("webgl", contextOptions) || canvas.getContext("experimental-webgl", contextOptions);
            return !(!gl || !gl.getContextAttributes().stencil)
          } catch (e) {
            return !1
          }
        },
        sign: function (n) {
          return n ? n < 0 ? -1 : 1 : 0
        },
        TextureCache: {},
        BaseTextureCache: {}
      }
    }, {"../const": 20, "./pluginTarget": 77, async: 1, eventemitter3: 10}],
    77: [function (require, module, exports) {
      function pluginTarget (obj) {
        obj.__plugins = {}, obj.registerPlugin = function (pluginName, ctor) {
          obj.__plugins[pluginName] = ctor
        }, obj.prototype.initPlugins = function () {
          this.plugins = this.plugins || {};
          for (var o in obj.__plugins) this.plugins[o] = new obj.__plugins[o](this)
        }, obj.prototype.destroyPlugins = function () {
          for (var o in this.plugins) this.plugins[o].destroy(), this.plugins[o] = null;
          this.plugins = null
        }
      }

      module.exports = {
        mixin: function (obj) {
          pluginTarget(obj)
        }
      }
    }, {}],
    78: [function (require, module, exports) {
      var core = require("./core"), mesh = require("./mesh"), extras = require("./extras"),
        filters = require("./filters");
      core.SpriteBatch = function () {
        throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")
      }, core.AssetLoader = function () {
        throw new ReferenceError("The loader system was overhauled in pixi v3, please see the new PIXI.loaders.Loader class.")
      }, Object.defineProperties(core, {
        Stage: {
          get: function () {
            return core.Container
          }
        }, DisplayObjectContainer: {
          get: function () {
            return core.Container
          }
        }, Strip: {
          get: function () {
            return mesh.Mesh
          }
        }, Rope: {
          get: function () {
            return mesh.Rope
          }
        }, MovieClip: {
          get: function () {
            return extras.MovieClip
          }
        }, TilingSprite: {
          get: function () {
            return extras.TilingSprite
          }
        }, BitmapText: {
          get: function () {
            return extras.BitmapText
          }
        }, blendModes: {
          get: function () {
            return core.BLEND_MODES
          }
        }, scaleModes: {
          get: function () {
            return core.SCALE_MODES
          }
        }, BaseTextureCache: {
          get: function () {
            return core.utils.BaseTextureCache
          }
        }, TextureCache: {
          get: function () {
            return core.utils.TextureCache
          }
        }, math: {
          get: function () {
            return core
          }
        }
      }), core.Sprite.prototype.setTexture = function (texture) {
        this.texture = texture
      }, extras.BitmapText.prototype.setText = function (text) {
        this.text = text
      }, core.Text.prototype.setText = function (text) {
        this.text = text
      }, core.Text.prototype.setStyle = function (style) {
        this.style = style
      }, core.Texture.prototype.setFrame = function (frame) {
        this.frame = frame
      }, Object.defineProperties(filters, {
        AbstractFilter: {
          get: function () {
            return core.AbstractFilter
          }
        }, FXAAFilter: {
          get: function () {
            return core.FXAAFilter
          }
        }, SpriteMaskFilter: {
          get: function () {
            return core.SpriteMaskFilter
          }
        }
      }), core.utils.uuid = function () {
        return core.utils.uid()
      }
    }, {"./core": 28, "./extras": 85, "./filters": 102, "./mesh": 127}],
    79: [function (require, module, exports) {
      function BitmapText (text, style) {
        core.Container.call(this), style = style || {}, this.textWidth = 0, this.textHeight = 0, this._glyphs = [], this._font = {
          tint: void 0 !== style.tint ? style.tint : 16777215,
          align: style.align || "left",
          name: null,
          size: 0
        }, this.font = style.font, this._text = text, this.maxWidth = 0, this.maxLineHeight = 0, this.dirty = !1, this.updateText()
      }

      var core = require("../core");
      BitmapText.prototype = Object.create(core.Container.prototype), BitmapText.prototype.constructor = BitmapText, module.exports = BitmapText, Object.defineProperties(BitmapText.prototype, {
        tint: {
          get: function () {
            return this._font.tint
          }, set: function (value) {
            this._font.tint = "number" == typeof value && value >= 0 ? value : 16777215, this.dirty = !0
          }
        }, align: {
          get: function () {
            return this._font.align
          }, set: function (value) {
            this._font.align = value || "left", this.dirty = !0
          }
        }, font: {
          get: function () {
            return this._font
          }, set: function (value) {
            value && ("string" == typeof value ? (value = value.split(" "), this._font.name = 1 === value.length ? value[0] : value.slice(1).join(" "), this._font.size = value.length >= 2 ? parseInt(value[0], 10) : BitmapText.fonts[this._font.name].size) : (this._font.name = value.name, this._font.size = "number" == typeof value.size ? value.size : parseInt(value.size, 10)), this.dirty = !0)
          }
        }, text: {
          get: function () {
            return this._text
          }, set: function (value) {
            value = value.toString() || " ", this._text !== value && (this._text = value, this.dirty = !0)
          }
        }
      }), BitmapText.prototype.updateText = function () {
        for (var data = BitmapText.fonts[this._font.name], pos = new core.Point, prevCharCode = null, chars = [], lastLineWidth = 0, maxLineWidth = 0, lineWidths = [], line = 0, scale = this._font.size / data.size, lastSpace = -1, maxLineHeight = 0, i = 0; i < this.text.length; i++) {
          var charCode = this.text.charCodeAt(i);
          if (lastSpace = /(\s)/.test(this.text.charAt(i)) ? i : lastSpace, /(?:\r\n|\r|\n)/.test(this.text.charAt(i))) lineWidths.push(lastLineWidth), maxLineWidth = Math.max(maxLineWidth, lastLineWidth), line++, pos.x = 0, pos.y += data.lineHeight, prevCharCode = null; else if (lastSpace !== -1 && this.maxWidth > 0 && pos.x * scale > this.maxWidth) chars.splice(lastSpace, i - lastSpace), i = lastSpace, lastSpace = -1, lineWidths.push(lastLineWidth), maxLineWidth = Math.max(maxLineWidth, lastLineWidth), line++, pos.x = 0, pos.y += data.lineHeight, prevCharCode = null; else {
            var charData = data.chars[charCode];
            charData && (prevCharCode && charData.kerning[prevCharCode] && (pos.x += charData.kerning[prevCharCode]), chars.push({
              texture: charData.texture,
              line: line,
              charCode: charCode,
              position: new core.Point(pos.x + charData.xOffset, pos.y + charData.yOffset)
            }), lastLineWidth = pos.x + (charData.texture.width + charData.xOffset), pos.x += charData.xAdvance, maxLineHeight = Math.max(maxLineHeight, charData.yOffset + charData.texture.height), prevCharCode = charCode)
          }
        }
        lineWidths.push(lastLineWidth), maxLineWidth = Math.max(maxLineWidth, lastLineWidth);
        var lineAlignOffsets = [];
        for (i = 0; i <= line; i++) {
          var alignOffset = 0;
          "right" === this._font.align ? alignOffset = maxLineWidth - lineWidths[i] : "center" === this._font.align && (alignOffset = (maxLineWidth - lineWidths[i]) / 2), lineAlignOffsets.push(alignOffset)
        }
        var lenChars = chars.length, tint = this.tint;
        for (i = 0; i < lenChars; i++) {
          var c = this._glyphs[i];
          c ? c.texture = chars[i].texture : (c = new core.Sprite(chars[i].texture), this._glyphs.push(c)), c.position.x = (chars[i].position.x + lineAlignOffsets[chars[i].line]) * scale, c.position.y = chars[i].position.y * scale, c.scale.x = c.scale.y = scale, c.tint = tint, c.parent || this.addChild(c)
        }
        for (i = lenChars; i < this._glyphs.length; ++i) this.removeChild(this._glyphs[i]);
        this.textWidth = maxLineWidth * scale, this.textHeight = (pos.y + data.lineHeight) * scale, this.maxLineHeight = maxLineHeight * scale
      }, BitmapText.prototype.updateTransform = function () {
        this.validate(), this.containerUpdateTransform()
      }, BitmapText.prototype.getLocalBounds = function () {
        return this.validate(), core.Container.prototype.getLocalBounds.call(this)
      }, BitmapText.prototype.validate = function () {
        this.dirty && (this.updateText(), this.dirty = !1)
      }, BitmapText.fonts = {}
    }, {"../core": 28}],
    80: [function (require, module, exports) {
      function MovieClip (textures) {
        core.Sprite.call(this, textures[0] instanceof core.Texture ? textures[0] : textures[0].texture), this._textures = null, this._durations = null, this.textures = textures, this.animationSpeed = 1, this.loop = !0, this.onComplete = null, this._currentTime = 0, this.playing = !1
      }

      var core = require("../core");
      MovieClip.prototype = Object.create(core.Sprite.prototype), MovieClip.prototype.constructor = MovieClip, module.exports = MovieClip, Object.defineProperties(MovieClip.prototype, {
        totalFrames: {
          get: function () {
            return this._textures.length
          }
        }, textures: {
          get: function () {
            return this._textures
          }, set: function (value) {
            if (value[0] instanceof core.Texture) this._textures = value, this._durations = null; else {
              this._textures = [], this._durations = [];
              for (var i = 0; i < value.length; i++) this._textures.push(value[i].texture), this._durations.push(value[i].time)
            }
          }
        }, currentFrame: {
          get: function () {
            var currentFrame = Math.floor(this._currentTime) % this._textures.length;
            return currentFrame < 0 && (currentFrame += this._textures.length), currentFrame
          }
        }
      }), MovieClip.prototype.stop = function () {
        this.playing && (this.playing = !1, core.ticker.shared.remove(this.update, this))
      }, MovieClip.prototype.play = function () {
        this.playing || (this.playing = !0, core.ticker.shared.add(this.update, this))
      }, MovieClip.prototype.gotoAndStop = function (frameNumber) {
        this.stop(), this._currentTime = frameNumber, this._texture = this._textures[this.currentFrame]
      }, MovieClip.prototype.gotoAndPlay = function (frameNumber) {
        this._currentTime = frameNumber, this.play()
      }, MovieClip.prototype.update = function (deltaTime) {
        var elapsed = this.animationSpeed * deltaTime;
        if (null !== this._durations) {
          var lag = this._currentTime % 1 * this._durations[this.currentFrame];
          for (lag += elapsed / 60 * 1e3; lag < 0;) this._currentTime--, lag += this._durations[this.currentFrame];
          var sign = Math.sign(this.animationSpeed * deltaTime);
          for (this._currentTime = Math.floor(this._currentTime); lag >= this._durations[this.currentFrame];) lag -= this._durations[this.currentFrame] * sign, this._currentTime += sign;
          this._currentTime += lag / this._durations[this.currentFrame]
        } else this._currentTime += elapsed;
        this._currentTime < 0 && !this.loop ? (this.gotoAndStop(0), this.onComplete && this.onComplete()) : this._currentTime >= this._textures.length && !this.loop ? (this.gotoAndStop(this._textures.length - 1), this.onComplete && this.onComplete()) : this._texture = this._textures[this.currentFrame]
      }, MovieClip.prototype.destroy = function () {
        this.stop(), core.Sprite.prototype.destroy.call(this)
      }, MovieClip.fromFrames = function (frames) {
        for (var textures = [], i = 0; i < frames.length; ++i) textures.push(new core.Texture.fromFrame(frames[i]));
        return new MovieClip(textures)
      }, MovieClip.fromImages = function (images) {
        for (var textures = [], i = 0; i < images.length; ++i) textures.push(new core.Texture.fromImage(images[i]));
        return new MovieClip(textures)
      }
    }, {"../core": 28}],
    81: [function (require, module, exports) {
      function TilingSprite (texture, width, height) {
        core.Sprite.call(this, texture), this.tileScale = new core.Point(1, 1), this.tilePosition = new core.Point(0, 0), this._width = width || 100, this._height = height || 100, this._uvs = new core.TextureUvs, this._canvasPattern = null, this.shader = new core.AbstractFilter(["precision lowp float;", "attribute vec2 aVertexPosition;", "attribute vec2 aTextureCoord;", "attribute vec4 aColor;", "uniform mat3 projectionMatrix;", "uniform vec4 uFrame;", "uniform vec4 uTransform;", "varying vec2 vTextureCoord;", "varying vec4 vColor;", "void main(void){", "   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);", "   vec2 coord = aTextureCoord;", "   coord -= uTransform.xy;", "   coord /= uTransform.zw;", "   vTextureCoord = coord;", "   vColor = vec4(aColor.rgb * aColor.a, aColor.a);", "}"].join("\n"), ["precision lowp float;", "varying vec2 vTextureCoord;", "varying vec4 vColor;", "uniform sampler2D uSampler;", "uniform vec4 uFrame;", "uniform vec2 uPixelSize;", "void main(void){", "   vec2 coord = mod(vTextureCoord, uFrame.zw);", "   coord = clamp(coord, uPixelSize, uFrame.zw - uPixelSize);", "   coord += uFrame.xy;", "   gl_FragColor =  texture2D(uSampler, coord) * vColor ;", "}"].join("\n"), {
          uFrame: {
            type: "4fv",
            value: [0, 0, 1, 1]
          }, uTransform: {type: "4fv", value: [0, 0, 1, 1]}, uPixelSize: {type: "2fv", value: [1, 1]}
        })
      }

      var core = require("../core"), tempPoint = new core.Point,
        CanvasTinter = require("../core/renderers/canvas/utils/CanvasTinter");
      TilingSprite.prototype = Object.create(core.Sprite.prototype), TilingSprite.prototype.constructor = TilingSprite, module.exports = TilingSprite, Object.defineProperties(TilingSprite.prototype, {
        width: {
          get: function () {
            return this._width
          }, set: function (value) {
            this._width = value
          }
        }, height: {
          get: function () {
            return this._height
          }, set: function (value) {
            this._height = value
          }
        }
      }), TilingSprite.prototype._onTextureUpdate = function () {
      }, TilingSprite.prototype._renderWebGL = function (renderer) {
        var texture = this._texture;
        if (texture && texture._uvs) {
          var tempUvs = texture._uvs, tempWidth = texture._frame.width, tempHeight = texture._frame.height,
            tw = texture.baseTexture.width, th = texture.baseTexture.height;
          texture._uvs = this._uvs, texture._frame.width = this.width, texture._frame.height = this.height, this.shader.uniforms.uPixelSize.value[0] = 1 / tw, this.shader.uniforms.uPixelSize.value[1] = 1 / th, this.shader.uniforms.uFrame.value[0] = tempUvs.x0, this.shader.uniforms.uFrame.value[1] = tempUvs.y0, this.shader.uniforms.uFrame.value[2] = tempUvs.x1 - tempUvs.x0, this.shader.uniforms.uFrame.value[3] = tempUvs.y2 - tempUvs.y0, this.shader.uniforms.uTransform.value[0] = this.tilePosition.x % (tempWidth * this.tileScale.x) / this._width, this.shader.uniforms.uTransform.value[1] = this.tilePosition.y % (tempHeight * this.tileScale.y) / this._height, this.shader.uniforms.uTransform.value[2] = tw / this._width * this.tileScale.x, this.shader.uniforms.uTransform.value[3] = th / this._height * this.tileScale.y, renderer.setObjectRenderer(renderer.plugins.sprite), renderer.plugins.sprite.render(this), texture._uvs = tempUvs, texture._frame.width = tempWidth, texture._frame.height = tempHeight
        }
      }, TilingSprite.prototype._renderCanvas = function (renderer) {
        var texture = this._texture;
        if (texture.baseTexture.hasLoaded) {
          var context = renderer.context, transform = this.worldTransform, resolution = renderer.resolution,
            baseTexture = texture.baseTexture, modX = this.tilePosition.x / this.tileScale.x % texture._frame.width,
            modY = this.tilePosition.y / this.tileScale.y % texture._frame.height;
          if (!this._canvasPattern) {
            var tempCanvas = new core.CanvasBuffer(texture._frame.width, texture._frame.height);
            16777215 !== this.tint ? (this.cachedTint !== this.tint && (this.cachedTint = this.tint, this.tintedTexture = CanvasTinter.getTintedTexture(this, this.tint)), tempCanvas.context.drawImage(this.tintedTexture, 0, 0)) : tempCanvas.context.drawImage(baseTexture.source, -texture._frame.x, -texture._frame.y), this._canvasPattern = tempCanvas.context.createPattern(tempCanvas.canvas, "repeat")
          }
          context.globalAlpha = this.worldAlpha, context.setTransform(transform.a * resolution, transform.b * resolution, transform.c * resolution, transform.d * resolution, transform.tx * resolution, transform.ty * resolution), context.scale(this.tileScale.x, this.tileScale.y), context.translate(modX + this.anchor.x * -this._width, modY + this.anchor.y * -this._height);
          var compositeOperation = renderer.blendModes[this.blendMode];
          compositeOperation !== renderer.context.globalCompositeOperation && (context.globalCompositeOperation = compositeOperation), context.fillStyle = this._canvasPattern, context.fillRect(-modX, -modY, this._width / this.tileScale.x, this._height / this.tileScale.y)
        }
      }, TilingSprite.prototype.getBounds = function () {
        var minX, maxX, minY, maxY, width = this._width, height = this._height, w0 = width * (1 - this.anchor.x),
          w1 = width * -this.anchor.x, h0 = height * (1 - this.anchor.y), h1 = height * -this.anchor.y,
          worldTransform = this.worldTransform, a = worldTransform.a, b = worldTransform.b, c = worldTransform.c,
          d = worldTransform.d, tx = worldTransform.tx, ty = worldTransform.ty, x1 = a * w1 + c * h1 + tx,
          y1 = d * h1 + b * w1 + ty, x2 = a * w0 + c * h1 + tx, y2 = d * h1 + b * w0 + ty, x3 = a * w0 + c * h0 + tx,
          y3 = d * h0 + b * w0 + ty, x4 = a * w1 + c * h0 + tx, y4 = d * h0 + b * w1 + ty;
        minX = x1, minX = x2 < minX ? x2 : minX, minX = x3 < minX ? x3 : minX, minX = x4 < minX ? x4 : minX, minY = y1, minY = y2 < minY ? y2 : minY, minY = y3 < minY ? y3 : minY, minY = y4 < minY ? y4 : minY, maxX = x1, maxX = x2 > maxX ? x2 : maxX, maxX = x3 > maxX ? x3 : maxX, maxX = x4 > maxX ? x4 : maxX, maxY = y1, maxY = y2 > maxY ? y2 : maxY, maxY = y3 > maxY ? y3 : maxY, maxY = y4 > maxY ? y4 : maxY;
        var bounds = this._bounds;
        return bounds.x = minX, bounds.width = maxX - minX, bounds.y = minY, bounds.height = maxY - minY, this._currentBounds = bounds, bounds
      }, TilingSprite.prototype.containsPoint = function (point) {
        this.worldTransform.applyInverse(point, tempPoint);
        var y1, width = this._width, height = this._height, x1 = -width * this.anchor.x;
        return tempPoint.x > x1 && tempPoint.x < x1 + width && (y1 = -height * this.anchor.y, tempPoint.y > y1 && tempPoint.y < y1 + height)
      }, TilingSprite.prototype.destroy = function () {
        core.Sprite.prototype.destroy.call(this), this.tileScale = null, this._tileScaleOffset = null, this.tilePosition = null, this._uvs = null
      }, TilingSprite.fromFrame = function (frameId, width, height) {
        var texture = core.utils.TextureCache[frameId];
        if (!texture) throw new Error('The frameId "' + frameId + '" does not exist in the texture cache ' + this);
        return new TilingSprite(texture, width, height)
      }, TilingSprite.fromImage = function (imageId, width, height, crossorigin, scaleMode) {
        return new TilingSprite(core.Texture.fromImage(imageId, crossorigin, scaleMode), width, height)
      }
    }, {"../core": 28, "../core/renderers/canvas/utils/CanvasTinter": 46}],
    82: [function (require, module, exports) {
      var core = require("../core"), DisplayObject = core.DisplayObject, _tempMatrix = new core.Matrix;
      DisplayObject.prototype._cacheAsBitmap = !1, DisplayObject.prototype._originalRenderWebGL = null,
        DisplayObject.prototype._originalRenderCanvas = null, DisplayObject.prototype._originalUpdateTransform = null, DisplayObject.prototype._originalHitTest = null, DisplayObject.prototype._originalDestroy = null, DisplayObject.prototype._cachedSprite = null, Object.defineProperties(DisplayObject.prototype, {
        cacheAsBitmap: {
          get: function () {
            return this._cacheAsBitmap
          }, set: function (value) {
            this._cacheAsBitmap !== value && (this._cacheAsBitmap = value, value ? (this._originalRenderWebGL = this.renderWebGL, this._originalRenderCanvas = this.renderCanvas, this._originalUpdateTransform = this.updateTransform, this._originalGetBounds = this.getBounds, this._originalDestroy = this.destroy, this._originalContainsPoint = this.containsPoint, this.renderWebGL = this._renderCachedWebGL, this.renderCanvas = this._renderCachedCanvas, this.destroy = this._cacheAsBitmapDestroy) : (this._cachedSprite && this._destroyCachedDisplayObject(), this.renderWebGL = this._originalRenderWebGL, this.renderCanvas = this._originalRenderCanvas, this.getBounds = this._originalGetBounds, this.destroy = this._originalDestroy, this.updateTransform = this._originalUpdateTransform, this.containsPoint = this._originalContainsPoint))
          }
        }
      }), DisplayObject.prototype._renderCachedWebGL = function (renderer) {
        !this.visible || this.worldAlpha <= 0 || !this.renderable || (this._initCachedDisplayObject(renderer), this._cachedSprite.worldAlpha = this.worldAlpha, renderer.setObjectRenderer(renderer.plugins.sprite), renderer.plugins.sprite.render(this._cachedSprite))
      }, DisplayObject.prototype._initCachedDisplayObject = function (renderer) {
        if (!this._cachedSprite) {
          renderer.currentRenderer.flush();
          var bounds = this.getLocalBounds().clone();
          if (this._filters) {
            var padding = this._filters[0].padding;
            bounds.x -= padding, bounds.y -= padding, bounds.width += 2 * padding, bounds.height += 2 * padding
          }
          var cachedRenderTarget = renderer.currentRenderTarget, stack = renderer.filterManager.filterStack,
            renderTexture = new core.RenderTexture(renderer, 0 | bounds.width, 0 | bounds.height), m = _tempMatrix;
          m.tx = -bounds.x, m.ty = -bounds.y, this.renderWebGL = this._originalRenderWebGL, renderTexture.render(this, m, !0, !0), renderer.setRenderTarget(cachedRenderTarget), renderer.filterManager.filterStack = stack, this.renderWebGL = this._renderCachedWebGL, this.updateTransform = this.displayObjectUpdateTransform, this.getBounds = this._getCachedBounds, this._cachedSprite = new core.Sprite(renderTexture), this._cachedSprite.worldTransform = this.worldTransform, this._cachedSprite.anchor.x = -(bounds.x / bounds.width), this._cachedSprite.anchor.y = -(bounds.y / bounds.height), this.updateTransform(), this.containsPoint = this._cachedSprite.containsPoint.bind(this._cachedSprite)
        }
      }, DisplayObject.prototype._renderCachedCanvas = function (renderer) {
        !this.visible || this.worldAlpha <= 0 || !this.renderable || (this._initCachedDisplayObjectCanvas(renderer), this._cachedSprite.worldAlpha = this.worldAlpha, this._cachedSprite.renderCanvas(renderer))
      }, DisplayObject.prototype._initCachedDisplayObjectCanvas = function (renderer) {
        if (!this._cachedSprite) {
          var bounds = this.getLocalBounds(), cachedRenderTarget = renderer.context,
            renderTexture = new core.RenderTexture(renderer, 0 | bounds.width, 0 | bounds.height), m = _tempMatrix;
          m.tx = -bounds.x, m.ty = -bounds.y, this.renderCanvas = this._originalRenderCanvas, renderTexture.render(this, m, !0), renderer.context = cachedRenderTarget, this.renderCanvas = this._renderCachedCanvas, this.updateTransform = this.displayObjectUpdateTransform, this.getBounds = this._getCachedBounds, this._cachedSprite = new core.Sprite(renderTexture), this._cachedSprite.worldTransform = this.worldTransform, this._cachedSprite.anchor.x = -(bounds.x / bounds.width), this._cachedSprite.anchor.y = -(bounds.y / bounds.height), this.updateTransform(), this.containsPoint = this._cachedSprite.containsPoint.bind(this._cachedSprite)
        }
      }, DisplayObject.prototype._getCachedBounds = function () {
        return this._cachedSprite._currentBounds = null, this._cachedSprite.getBounds()
      }, DisplayObject.prototype._destroyCachedDisplayObject = function () {
        this._cachedSprite._texture.destroy(), this._cachedSprite = null
      }, DisplayObject.prototype._cacheAsBitmapDestroy = function () {
        this.cacheAsBitmap = !1, this._originalDestroy()
      }
    }, {"../core": 28}],
    83: [function (require, module, exports) {
      var core = require("../core");
      core.DisplayObject.prototype.name = null, core.Container.prototype.getChildByName = function (name) {
        for (var i = 0; i < this.children.length; i++) if (this.children[i].name === name) return this.children[i];
        return null
      }
    }, {"../core": 28}],
    84: [function (require, module, exports) {
      var core = require("../core");
      core.DisplayObject.prototype.getGlobalPosition = function (point) {
        return point = point || new core.Point, this.parent ? (this.displayObjectUpdateTransform(), point.x = this.worldTransform.tx, point.y = this.worldTransform.ty) : (point.x = this.position.x, point.y = this.position.y), point
      }
    }, {"../core": 28}],
    85: [function (require, module, exports) {
      require("./cacheAsBitmap"), require("./getChildByName"), require("./getGlobalPosition"), module.exports = {
        MovieClip: require("./MovieClip"),
        TilingSprite: require("./TilingSprite"),
        BitmapText: require("./BitmapText")
      }
    }, {
      "./BitmapText": 79,
      "./MovieClip": 80,
      "./TilingSprite": 81,
      "./cacheAsBitmap": 82,
      "./getChildByName": 83,
      "./getGlobalPosition": 84
    }],
    86: [function (require, module, exports) {
      function AsciiFilter () {
        core.AbstractFilter.call(this, null, "precision mediump float;\n\nuniform vec4 dimensions;\nuniform float pixelSize;\nuniform sampler2D uSampler;\n\nfloat character(float n, vec2 p)\n{\n    p = floor(p*vec2(4.0, -4.0) + 2.5);\n    if (clamp(p.x, 0.0, 4.0) == p.x && clamp(p.y, 0.0, 4.0) == p.y)\n    {\n        if (int(mod(n/exp2(p.x + 5.0*p.y), 2.0)) == 1) return 1.0;\n    }\n    return 0.0;\n}\n\nvoid main()\n{\n    vec2 uv = gl_FragCoord.xy;\n\n    vec3 col = texture2D(uSampler, floor( uv / pixelSize ) * pixelSize / dimensions.xy).rgb;\n\n    float gray = (col.r + col.g + col.b) / 3.0;\n\n    float n =  65536.0;             // .\n    if (gray > 0.2) n = 65600.0;    // :\n    if (gray > 0.3) n = 332772.0;   // *\n    if (gray > 0.4) n = 15255086.0; // o\n    if (gray > 0.5) n = 23385164.0; // &\n    if (gray > 0.6) n = 15252014.0; // 8\n    if (gray > 0.7) n = 13199452.0; // @\n    if (gray > 0.8) n = 11512810.0; // #\n\n    vec2 p = mod( uv / ( pixelSize * 0.5 ), 2.0) - vec2(1.0);\n    col = col * character(n, p);\n\n    gl_FragColor = vec4(col, 1.0);\n}\n", {
          dimensions: {
            type: "4fv",
            value: new Float32Array([0, 0, 0, 0])
          }, pixelSize: {type: "1f", value: 8}
        })
      }

      var core = require("../../core");
      AsciiFilter.prototype = Object.create(core.AbstractFilter.prototype), AsciiFilter.prototype.constructor = AsciiFilter, module.exports = AsciiFilter, Object.defineProperties(AsciiFilter.prototype, {
        size: {
          get: function () {
            return this.uniforms.pixelSize.value
          }, set: function (value) {
            this.uniforms.pixelSize.value = value
          }
        }
      })
    }, {"../../core": 28}],
    87: [function (require, module, exports) {
      function BloomFilter () {
        core.AbstractFilter.call(this), this.blurXFilter = new BlurXFilter, this.blurYFilter = new BlurYFilter, this.defaultFilter = new core.AbstractFilter
      }

      var core = require("../../core"), BlurXFilter = require("../blur/BlurXFilter"),
        BlurYFilter = require("../blur/BlurYFilter");
      BloomFilter.prototype = Object.create(core.AbstractFilter.prototype), BloomFilter.prototype.constructor = BloomFilter, module.exports = BloomFilter, BloomFilter.prototype.applyFilter = function (renderer, input, output) {
        var renderTarget = renderer.filterManager.getRenderTarget(!0);
        this.defaultFilter.applyFilter(renderer, input, output), this.blurXFilter.applyFilter(renderer, input, renderTarget), renderer.blendModeManager.setBlendMode(core.BLEND_MODES.SCREEN), this.blurYFilter.applyFilter(renderer, renderTarget, output), renderer.blendModeManager.setBlendMode(core.BLEND_MODES.NORMAL), renderer.filterManager.returnRenderTarget(renderTarget)
      }, Object.defineProperties(BloomFilter.prototype, {
        blur: {
          get: function () {
            return this.blurXFilter.blur
          }, set: function (value) {
            this.blurXFilter.blur = this.blurYFilter.blur = value
          }
        }, blurX: {
          get: function () {
            return this.blurXFilter.blur
          }, set: function (value) {
            this.blurXFilter.blur = value
          }
        }, blurY: {
          get: function () {
            return this.blurYFilter.blur
          }, set: function (value) {
            this.blurYFilter.blur = value
          }
        }
      })
    }, {"../../core": 28, "../blur/BlurXFilter": 90, "../blur/BlurYFilter": 91}],
    88: [function (require, module, exports) {
      function BlurDirFilter (dirX, dirY) {
        core.AbstractFilter.call(this, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform float dirX;\nuniform float dirY;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[3];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[0] = aTextureCoord + vec2( (0.004 * strength) * dirX, (0.004 * strength) * dirY );\n    vBlurTexCoords[1] = aTextureCoord + vec2( (0.008 * strength) * dirX, (0.008 * strength) * dirY );\n    vBlurTexCoords[2] = aTextureCoord + vec2( (0.012 * strength) * dirX, (0.012 * strength) * dirY );\n\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n", "precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[3];\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n\n    gl_FragColor += texture2D(uSampler, vTextureCoord     ) * 0.3989422804014327;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 0]) * 0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 1]) * 0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 2]) * 0.004431848411938341;\n}\n", {
          strength: {
            type: "1f",
            value: 1
          }, dirX: {type: "1f", value: dirX || 0}, dirY: {type: "1f", value: dirY || 0}
        }), this.defaultFilter = new core.AbstractFilter, this.passes = 1, this.dirX = dirX || 0, this.dirY = dirY || 0, this.strength = 4
      }

      var core = require("../../core");
      BlurDirFilter.prototype = Object.create(core.AbstractFilter.prototype), BlurDirFilter.prototype.constructor = BlurDirFilter, module.exports = BlurDirFilter, BlurDirFilter.prototype.applyFilter = function (renderer, input, output, clear) {
        var shader = this.getShader(renderer);
        if (this.uniforms.strength.value = this.strength / 4 / this.passes * (input.frame.width / input.size.width), 1 === this.passes) renderer.filterManager.applyFilter(shader, input, output, clear); else {
          var renderTarget = renderer.filterManager.getRenderTarget(!0);
          renderer.filterManager.applyFilter(shader, input, renderTarget, clear);
          for (var i = 0; i < this.passes - 2; i++) renderer.filterManager.applyFilter(shader, renderTarget, renderTarget, clear);
          renderer.filterManager.applyFilter(shader, renderTarget, output, clear), renderer.filterManager.returnRenderTarget(renderTarget)
        }
      }, Object.defineProperties(BlurDirFilter.prototype, {
        blur: {
          get: function () {
            return this.strength
          }, set: function (value) {
            this.padding = .5 * value, this.strength = value
          }
        }, dirX: {
          get: function () {
            return this.dirX
          }, set: function (value) {
            this.uniforms.dirX.value = value
          }
        }, dirY: {
          get: function () {
            return this.dirY
          }, set: function (value) {
            this.uniforms.dirY.value = value
          }
        }
      })
    }, {"../../core": 28}],
    89: [function (require, module, exports) {
      function BlurFilter () {
        core.AbstractFilter.call(this), this.blurXFilter = new BlurXFilter, this.blurYFilter = new BlurYFilter
      }

      var core = require("../../core"), BlurXFilter = require("./BlurXFilter"), BlurYFilter = require("./BlurYFilter");
      BlurFilter.prototype = Object.create(core.AbstractFilter.prototype), BlurFilter.prototype.constructor = BlurFilter, module.exports = BlurFilter, BlurFilter.prototype.applyFilter = function (renderer, input, output) {
        var renderTarget = renderer.filterManager.getRenderTarget(!0);
        this.blurXFilter.applyFilter(renderer, input, renderTarget), this.blurYFilter.applyFilter(renderer, renderTarget, output), renderer.filterManager.returnRenderTarget(renderTarget)
      }, Object.defineProperties(BlurFilter.prototype, {
        blur: {
          get: function () {
            return this.blurXFilter.blur
          }, set: function (value) {
            this.padding = .5 * Math.abs(value), this.blurXFilter.blur = this.blurYFilter.blur = value
          }
        }, passes: {
          get: function () {
            return this.blurXFilter.passes
          }, set: function (value) {
            this.blurXFilter.passes = this.blurYFilter.passes = value
          }
        }, blurX: {
          get: function () {
            return this.blurXFilter.blur
          }, set: function (value) {
            this.blurXFilter.blur = value
          }
        }, blurY: {
          get: function () {
            return this.blurYFilter.blur
          }, set: function (value) {
            this.blurYFilter.blur = value
          }
        }
      })
    }, {"../../core": 28, "./BlurXFilter": 90, "./BlurYFilter": 91}],
    90: [function (require, module, exports) {
      function BlurXFilter () {
        core.AbstractFilter.call(this, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[6];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[ 0] = aTextureCoord + vec2(-0.012 * strength, 0.0);\n    vBlurTexCoords[ 1] = aTextureCoord + vec2(-0.008 * strength, 0.0);\n    vBlurTexCoords[ 2] = aTextureCoord + vec2(-0.004 * strength, 0.0);\n    vBlurTexCoords[ 3] = aTextureCoord + vec2( 0.004 * strength, 0.0);\n    vBlurTexCoords[ 4] = aTextureCoord + vec2( 0.008 * strength, 0.0);\n    vBlurTexCoords[ 5] = aTextureCoord + vec2( 0.012 * strength, 0.0);\n\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n", "precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[6];\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 0])*0.004431848411938341;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 1])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 2])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vTextureCoord     )*0.3989422804014327;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 3])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 4])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 5])*0.004431848411938341;\n}\n", {
          strength: {
            type: "1f",
            value: 1
          }
        }), this.passes = 1, this.strength = 4
      }

      var core = require("../../core");
      BlurXFilter.prototype = Object.create(core.AbstractFilter.prototype), BlurXFilter.prototype.constructor = BlurXFilter, module.exports = BlurXFilter, BlurXFilter.prototype.applyFilter = function (renderer, input, output, clear) {
        var shader = this.getShader(renderer);
        if (this.uniforms.strength.value = this.strength / 4 / this.passes * (input.frame.width / input.size.width), 1 === this.passes) renderer.filterManager.applyFilter(shader, input, output, clear); else {
          for (var renderTarget = renderer.filterManager.getRenderTarget(!0), flip = input, flop = renderTarget, i = 0; i < this.passes - 1; i++) {
            renderer.filterManager.applyFilter(shader, flip, flop, !0);
            var temp = flop;
            flop = flip, flip = temp
          }
          renderer.filterManager.applyFilter(shader, flip, output, clear), renderer.filterManager.returnRenderTarget(renderTarget)
        }
      }, Object.defineProperties(BlurXFilter.prototype, {
        blur: {
          get: function () {
            return this.strength
          }, set: function (value) {
            this.padding = .5 * Math.abs(value), this.strength = value
          }
        }
      })
    }, {"../../core": 28}],
    91: [function (require, module, exports) {
      function BlurYFilter () {
        core.AbstractFilter.call(this, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[6];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[ 0] = aTextureCoord + vec2(0.0, -0.012 * strength);\n    vBlurTexCoords[ 1] = aTextureCoord + vec2(0.0, -0.008 * strength);\n    vBlurTexCoords[ 2] = aTextureCoord + vec2(0.0, -0.004 * strength);\n    vBlurTexCoords[ 3] = aTextureCoord + vec2(0.0,  0.004 * strength);\n    vBlurTexCoords[ 4] = aTextureCoord + vec2(0.0,  0.008 * strength);\n    vBlurTexCoords[ 5] = aTextureCoord + vec2(0.0,  0.012 * strength);\n\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n", "precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[6];\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 0])*0.004431848411938341;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 1])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 2])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vTextureCoord     )*0.3989422804014327;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 3])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 4])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 5])*0.004431848411938341;\n}\n", {
          strength: {
            type: "1f",
            value: 1
          }
        }), this.passes = 1, this.strength = 4
      }

      var core = require("../../core");
      BlurYFilter.prototype = Object.create(core.AbstractFilter.prototype), BlurYFilter.prototype.constructor = BlurYFilter, module.exports = BlurYFilter, BlurYFilter.prototype.applyFilter = function (renderer, input, output, clear) {
        var shader = this.getShader(renderer);
        if (this.uniforms.strength.value = Math.abs(this.strength) / 4 / this.passes * (input.frame.height / input.size.height), 1 === this.passes) renderer.filterManager.applyFilter(shader, input, output, clear); else {
          for (var renderTarget = renderer.filterManager.getRenderTarget(!0), flip = input, flop = renderTarget, i = 0; i < this.passes - 1; i++) {
            renderer.filterManager.applyFilter(shader, flip, flop, !0);
            var temp = flop;
            flop = flip, flip = temp
          }
          renderer.filterManager.applyFilter(shader, flip, output, clear), renderer.filterManager.returnRenderTarget(renderTarget)
        }
      }, Object.defineProperties(BlurYFilter.prototype, {
        blur: {
          get: function () {
            return this.strength
          }, set: function (value) {
            this.padding = .5 * Math.abs(value), this.strength = value
          }
        }
      })
    }, {"../../core": 28}],
    92: [function (require, module, exports) {
      function SmartBlurFilter () {
        core.AbstractFilter.call(this, null, "precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec2 delta;\n\nfloat random(vec3 scale, float seed)\n{\n    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n}\n\nvoid main(void)\n{\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n\n    for (float t = -30.0; t <= 30.0; t++)\n    {\n        float percent = (t + offset - 0.5) / 30.0;\n        float weight = 1.0 - abs(percent);\n        vec4 sample = texture2D(uSampler, vTextureCoord + delta * percent);\n        sample.rgb *= sample.a;\n        color += sample * weight;\n        total += weight;\n    }\n\n    gl_FragColor = color / total;\n    gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\n}\n", {
          delta: {
            type: "v2",
            value: {x: .1, y: 0}
          }
        })
      }

      var core = require("../../core");
      SmartBlurFilter.prototype = Object.create(core.AbstractFilter.prototype), SmartBlurFilter.prototype.constructor = SmartBlurFilter, module.exports = SmartBlurFilter
    }, {"../../core": 28}],
    93: [function (require, module, exports) {
      function ColorMatrixFilter () {
        core.AbstractFilter.call(this, null, "precision mediump float;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[25];\n\nvoid main(void)\n{\n\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    gl_FragColor.r = (m[0] * c.r);\n        gl_FragColor.r += (m[1] * c.g);\n        gl_FragColor.r += (m[2] * c.b);\n        gl_FragColor.r += (m[3] * c.a);\n        gl_FragColor.r += m[4];\n\n    gl_FragColor.g = (m[5] * c.r);\n        gl_FragColor.g += (m[6] * c.g);\n        gl_FragColor.g += (m[7] * c.b);\n        gl_FragColor.g += (m[8] * c.a);\n        gl_FragColor.g += m[9];\n\n     gl_FragColor.b = (m[10] * c.r);\n        gl_FragColor.b += (m[11] * c.g);\n        gl_FragColor.b += (m[12] * c.b);\n        gl_FragColor.b += (m[13] * c.a);\n        gl_FragColor.b += m[14];\n\n     gl_FragColor.a = (m[15] * c.r);\n        gl_FragColor.a += (m[16] * c.g);\n        gl_FragColor.a += (m[17] * c.b);\n        gl_FragColor.a += (m[18] * c.a);\n        gl_FragColor.a += m[19];\n\n}\n", {
          m: {
            type: "1fv",
            value: [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0]
          }
        })
      }

      var core = require("../../core");
      ColorMatrixFilter.prototype = Object.create(core.AbstractFilter.prototype), ColorMatrixFilter.prototype.constructor = ColorMatrixFilter, module.exports = ColorMatrixFilter, ColorMatrixFilter.prototype._loadMatrix = function (matrix, multiply) {
        multiply = !!multiply;
        var newMatrix = matrix;
        multiply && (this._multiply(newMatrix, this.uniforms.m.value, matrix), newMatrix = this._colorMatrix(newMatrix)), this.uniforms.m.value = newMatrix
      }, ColorMatrixFilter.prototype._multiply = function (out, a, b) {
        return out[0] = a[0] * b[0] + a[1] * b[5] + a[2] * b[10] + a[3] * b[15], out[1] = a[0] * b[1] + a[1] * b[6] + a[2] * b[11] + a[3] * b[16], out[2] = a[0] * b[2] + a[1] * b[7] + a[2] * b[12] + a[3] * b[17], out[3] = a[0] * b[3] + a[1] * b[8] + a[2] * b[13] + a[3] * b[18], out[4] = a[0] * b[4] + a[1] * b[9] + a[2] * b[14] + a[3] * b[19], out[5] = a[5] * b[0] + a[6] * b[5] + a[7] * b[10] + a[8] * b[15], out[6] = a[5] * b[1] + a[6] * b[6] + a[7] * b[11] + a[8] * b[16], out[7] = a[5] * b[2] + a[6] * b[7] + a[7] * b[12] + a[8] * b[17], out[8] = a[5] * b[3] + a[6] * b[8] + a[7] * b[13] + a[8] * b[18], out[9] = a[5] * b[4] + a[6] * b[9] + a[7] * b[14] + a[8] * b[19], out[10] = a[10] * b[0] + a[11] * b[5] + a[12] * b[10] + a[13] * b[15], out[11] = a[10] * b[1] + a[11] * b[6] + a[12] * b[11] + a[13] * b[16], out[12] = a[10] * b[2] + a[11] * b[7] + a[12] * b[12] + a[13] * b[17], out[13] = a[10] * b[3] + a[11] * b[8] + a[12] * b[13] + a[13] * b[18], out[14] = a[10] * b[4] + a[11] * b[9] + a[12] * b[14] + a[13] * b[19], out[15] = a[15] * b[0] + a[16] * b[5] + a[17] * b[10] + a[18] * b[15], out[16] = a[15] * b[1] + a[16] * b[6] + a[17] * b[11] + a[18] * b[16], out[17] = a[15] * b[2] + a[16] * b[7] + a[17] * b[12] + a[18] * b[17], out[18] = a[15] * b[3] + a[16] * b[8] + a[17] * b[13] + a[18] * b[18], out[19] = a[15] * b[4] + a[16] * b[9] + a[17] * b[14] + a[18] * b[19], out
      }, ColorMatrixFilter.prototype._colorMatrix = function (matrix) {
        var m = new Float32Array(matrix);
        return m[4] /= 255, m[9] /= 255, m[14] /= 255, m[19] /= 255, m
      }, ColorMatrixFilter.prototype.brightness = function (b, multiply) {
        var matrix = [b, 0, 0, 0, 0, 0, b, 0, 0, 0, 0, 0, b, 0, 0, 0, 0, 0, 1, 0];
        this._loadMatrix(matrix, multiply)
      }, ColorMatrixFilter.prototype.greyscale = function (scale, multiply) {
        var matrix = [scale, scale, scale, 0, 0, scale, scale, scale, 0, 0, scale, scale, scale, 0, 0, 0, 0, 0, 1, 0];
        this._loadMatrix(matrix, multiply)
      }, ColorMatrixFilter.prototype.grayscale = ColorMatrixFilter.prototype.greyscale, ColorMatrixFilter.prototype.blackAndWhite = function (multiply) {
        var matrix = [.3, .6, .1, 0, 0, .3, .6, .1, 0, 0, .3, .6, .1, 0, 0, 0, 0, 0, 1, 0];
        this._loadMatrix(matrix, multiply)
      }, ColorMatrixFilter.prototype.hue = function (rotation, multiply) {
        rotation = (rotation || 0) / 180 * Math.PI;
        var cos = Math.cos(rotation), sin = Math.sin(rotation), lumR = .213, lumG = .715, lumB = .072,
          matrix = [lumR + cos * (1 - lumR) + sin * -lumR, lumG + cos * -lumG + sin * -lumG, lumB + cos * -lumB + sin * (1 - lumB), 0, 0, lumR + cos * -lumR + .143 * sin, lumG + cos * (1 - lumG) + .14 * sin, lumB + cos * -lumB + sin * -.283, 0, 0, lumR + cos * -lumR + sin * -(1 - lumR), lumG + cos * -lumG + sin * lumG, lumB + cos * (1 - lumB) + sin * lumB, 0, 0, 0, 0, 0, 1, 0];
        this._loadMatrix(matrix, multiply)
      }, ColorMatrixFilter.prototype.contrast = function (amount, multiply) {
        var v = (amount || 0) + 1, o = -128 * (v - 1),
          matrix = [v, 0, 0, 0, o, 0, v, 0, 0, o, 0, 0, v, 0, o, 0, 0, 0, 1, 0];
        this._loadMatrix(matrix, multiply)
      }, ColorMatrixFilter.prototype.saturate = function (amount, multiply) {
        var x = 2 * (amount || 0) / 3 + 1, y = (x - 1) * -.5,
          matrix = [x, y, y, 0, 0, y, x, y, 0, 0, y, y, x, 0, 0, 0, 0, 0, 1, 0];
        this._loadMatrix(matrix, multiply)
      }, ColorMatrixFilter.prototype.desaturate = function (multiply) {
        this.saturate(-1)
      }, ColorMatrixFilter.prototype.negative = function (multiply) {
        var matrix = [0, 1, 1, 0, 0, 1, 0, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 1, 0];
        this._loadMatrix(matrix, multiply)
      }, ColorMatrixFilter.prototype.sepia = function (multiply) {
        var matrix = [.393, .7689999, .18899999, 0, 0, .349, .6859999, .16799999, 0, 0, .272, .5339999, .13099999, 0, 0, 0, 0, 0, 1, 0];
        this._loadMatrix(matrix, multiply)
      }, ColorMatrixFilter.prototype.technicolor = function (multiply) {
        var matrix = [1.9125277891456083, -.8545344976951645, -.09155508482755585, 0, 11.793603434377337, -.3087833385928097, 1.7658908555458428, -.10601743074722245, 0, -70.35205161461398, -.231103377548616, -.7501899197440212, 1.847597816108189, 0, 30.950940869491138, 0, 0, 0, 1, 0];
        this._loadMatrix(matrix, multiply)
      }, ColorMatrixFilter.prototype.polaroid = function (multiply) {
        var matrix = [1.438, -.062, -.062, 0, 0, -.122, 1.378, -.122, 0, 0, -.016, -.016, 1.483, 0, 0, 0, 0, 0, 1, 0];
        this._loadMatrix(matrix, multiply)
      }, ColorMatrixFilter.prototype.toBGR = function (multiply) {
        var matrix = [0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0];
        this._loadMatrix(matrix, multiply)
      }, ColorMatrixFilter.prototype.kodachrome = function (multiply) {
        var matrix = [1.1285582396593525, -.3967382283601348, -.03992559172921793, 0, 63.72958762196502, -.16404339962244616, 1.0835251566291304, -.05498805115633132, 0, 24.732407896706203, -.16786010706155763, -.5603416277695248, 1.6014850761964943, 0, 35.62982807460946, 0, 0, 0, 1, 0];
        this._loadMatrix(matrix, multiply)
      }, ColorMatrixFilter.prototype.browni = function (multiply) {
        var matrix = [.5997023498159715, .34553243048391263, -.2708298674538042, 0, 47.43192855600873, -.037703249837783157, .8609577587992641, .15059552388459913, 0, -36.96841498319127, .24113635128153335, -.07441037908422492, .44972182064877153, 0, -7.562075277591283, 0, 0, 0, 1, 0];
        this._loadMatrix(matrix, multiply)
      }, ColorMatrixFilter.prototype.vintage = function (multiply) {
        var matrix = [.6279345635605994, .3202183420819367, -.03965408211312453, 0, 9.651285835294123, .02578397704808868, .6441188644374771, .03259127616149294, 0, 7.462829176470591, .0466055556782719, -.0851232987247891, .5241648018700465, 0, 5.159190588235296, 0, 0, 0, 1, 0];
        this._loadMatrix(matrix, multiply)
      }, ColorMatrixFilter.prototype.colorTone = function (desaturation, toned, lightColor, darkColor, multiply) {
        desaturation = desaturation || .2, toned = toned || .15, lightColor = lightColor || 16770432, darkColor = darkColor || 3375104;
        var lR = (lightColor >> 16 & 255) / 255, lG = (lightColor >> 8 & 255) / 255, lB = (255 & lightColor) / 255,
          dR = (darkColor >> 16 & 255) / 255, dG = (darkColor >> 8 & 255) / 255, dB = (255 & darkColor) / 255,
          matrix = [.3, .59, .11, 0, 0, lR, lG, lB, desaturation, 0, dR, dG, dB, toned, 0, lR - dR, lG - dG, lB - dB, 0, 0];
        this._loadMatrix(matrix, multiply)
      }, ColorMatrixFilter.prototype.night = function (intensity, multiply) {
        intensity = intensity || .1;
        var matrix = [intensity * -2, -intensity, 0, 0, 0, -intensity, 0, intensity, 0, 0, 0, intensity, 2 * intensity, 0, 0, 0, 0, 0, 1, 0];
        this._loadMatrix(matrix, multiply)
      }, ColorMatrixFilter.prototype.predator = function (amount, multiply) {
        var matrix = [11.224130630493164 * amount, -4.794486999511719 * amount, -2.8746118545532227 * amount, 0 * amount, .40342438220977783 * amount, -3.6330697536468506 * amount, 9.193157196044922 * amount, -2.951810836791992 * amount, 0 * amount, -1.316135048866272 * amount, -3.2184197902679443 * amount, -4.2375030517578125 * amount, 7.476448059082031 * amount, 0 * amount, .8044459223747253 * amount, 0, 0, 0, 1, 0];
        this._loadMatrix(matrix, multiply)
      }, ColorMatrixFilter.prototype.lsd = function (multiply) {
        var matrix = [2, -.4, .5, 0, 0, -.5, 2, -.4, 0, 0, -.4, -.5, 3, 0, 0, 0, 0, 0, 1, 0];
        this._loadMatrix(matrix, multiply)
      }, ColorMatrixFilter.prototype.reset = function () {
        var matrix = [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0];
        this._loadMatrix(matrix, !1)
      }, Object.defineProperties(ColorMatrixFilter.prototype, {
        matrix: {
          get: function () {
            return this.uniforms.m.value
          }, set: function (value) {
            this.uniforms.m.value = value
          }
        }
      })
    }, {"../../core": 28}],
    94: [function (require, module, exports) {
      function ColorStepFilter () {
        core.AbstractFilter.call(this, null, "precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float step;\n\nvoid main(void)\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    color = floor(color * step) / step;\n\n    gl_FragColor = color;\n}\n", {
          step: {
            type: "1f",
            value: 5
          }
        })
      }

      var core = require("../../core");
      ColorStepFilter.prototype = Object.create(core.AbstractFilter.prototype), ColorStepFilter.prototype.constructor = ColorStepFilter, module.exports = ColorStepFilter, Object.defineProperties(ColorStepFilter.prototype, {
        step: {
          get: function () {
            return this.uniforms.step.value
          }, set: function (value) {
            this.uniforms.step.value = value
          }
        }
      })
    }, {"../../core": 28}],
    95: [function (require, module, exports) {
      function ConvolutionFilter (matrix, width, height) {
        core.AbstractFilter.call(this, null, "precision mediump float;\n\nvarying mediump vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec2 texelSize;\nuniform float matrix[9];\n\nvoid main(void)\n{\n   vec4 c11 = texture2D(uSampler, vTextureCoord - texelSize); // top left\n   vec4 c12 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - texelSize.y)); // top center\n   vec4 c13 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y - texelSize.y)); // top right\n\n   vec4 c21 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y)); // mid left\n   vec4 c22 = texture2D(uSampler, vTextureCoord); // mid center\n   vec4 c23 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y)); // mid right\n\n   vec4 c31 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y + texelSize.y)); // bottom left\n   vec4 c32 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + texelSize.y)); // bottom center\n   vec4 c33 = texture2D(uSampler, vTextureCoord + texelSize); // bottom right\n\n   gl_FragColor =\n       c11 * matrix[0] + c12 * matrix[1] + c13 * matrix[2] +\n       c21 * matrix[3] + c22 * matrix[4] + c23 * matrix[5] +\n       c31 * matrix[6] + c32 * matrix[7] + c33 * matrix[8];\n\n   gl_FragColor.a = c22.a;\n}\n", {
          matrix: {
            type: "1fv",
            value: new Float32Array(matrix)
          }, texelSize: {type: "v2", value: {x: 1 / width, y: 1 / height}}
        })
      }

      var core = require("../../core");
      ConvolutionFilter.prototype = Object.create(core.AbstractFilter.prototype), ConvolutionFilter.prototype.constructor = ConvolutionFilter, module.exports = ConvolutionFilter, Object.defineProperties(ConvolutionFilter.prototype, {
        matrix: {
          get: function () {
            return this.uniforms.matrix.value
          }, set: function (value) {
            this.uniforms.matrix.value = new Float32Array(value)
          }
        }, width: {
          get: function () {
            return 1 / this.uniforms.texelSize.value.x
          }, set: function (value) {
            this.uniforms.texelSize.value.x = 1 / value
          }
        }, height: {
          get: function () {
            return 1 / this.uniforms.texelSize.value.y
          }, set: function (value) {
            this.uniforms.texelSize.value.y = 1 / value
          }
        }
      })
    }, {"../../core": 28}],
    96: [function (require, module, exports) {
      function CrossHatchFilter () {
        core.AbstractFilter.call(this, null, "precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    float lum = length(texture2D(uSampler, vTextureCoord.xy).rgb);\n\n    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);\n\n    if (lum < 1.00)\n    {\n        if (mod(gl_FragCoord.x + gl_FragCoord.y, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.75)\n    {\n        if (mod(gl_FragCoord.x - gl_FragCoord.y, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.50)\n    {\n        if (mod(gl_FragCoord.x + gl_FragCoord.y - 5.0, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.3)\n    {\n        if (mod(gl_FragCoord.x - gl_FragCoord.y - 5.0, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n}\n")
      }

      var core = require("../../core");
      CrossHatchFilter.prototype = Object.create(core.AbstractFilter.prototype), CrossHatchFilter.prototype.constructor = CrossHatchFilter, module.exports = CrossHatchFilter
    }, {"../../core": 28}],
    97: [function (require, module, exports) {
      function DisplacementFilter (sprite, scale) {
        var maskMatrix = new core.Matrix;
        sprite.renderable = !1, core.AbstractFilter.call(this, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMapCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vMapCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n", "precision mediump float;\n\nvarying vec2 vMapCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nvoid main(void)\n{\n   vec4 map =  texture2D(mapSampler, vMapCoord);\n\n   map -= 0.5;\n   map.xy *= scale;\n\n   gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y));\n}\n", {
          mapSampler: {type: "sampler2D", value: sprite.texture},
          otherMatrix: {type: "mat3", value: maskMatrix.toArray(!0)},
          scale: {type: "v2", value: {x: 1, y: 1}}
        }), this.maskSprite = sprite, this.maskMatrix = maskMatrix, null !== scale && void 0 !== scale || (scale = 20), this.scale = new core.Point(scale, scale)
      }

      var core = require("../../core");
      DisplacementFilter.prototype = Object.create(core.AbstractFilter.prototype), DisplacementFilter.prototype.constructor = DisplacementFilter, module.exports = DisplacementFilter, DisplacementFilter.prototype.applyFilter = function (renderer, input, output) {
        var filterManager = renderer.filterManager;
        filterManager.calculateMappedMatrix(input.frame, this.maskSprite, this.maskMatrix), this.uniforms.otherMatrix.value = this.maskMatrix.toArray(!0), this.uniforms.scale.value.x = this.scale.x * (1 / input.frame.width), this.uniforms.scale.value.y = this.scale.y * (1 / input.frame.height);
        var shader = this.getShader(renderer);
        filterManager.applyFilter(shader, input, output)
      }, Object.defineProperties(DisplacementFilter.prototype, {
        map: {
          get: function () {
            return this.uniforms.mapSampler.value
          }, set: function (value) {
            this.uniforms.mapSampler.value = value
          }
        }
      })
    }, {"../../core": 28}],
    98: [function (require, module, exports) {
      function DotScreenFilter () {
        core.AbstractFilter.call(this, null, "precision mediump float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform vec4 dimensions;\nuniform sampler2D uSampler;\n\nuniform float angle;\nuniform float scale;\n\nfloat pattern()\n{\n   float s = sin(angle), c = cos(angle);\n   vec2 tex = vTextureCoord * dimensions.xy;\n   vec2 point = vec2(\n       c * tex.x - s * tex.y,\n       s * tex.x + c * tex.y\n   ) * scale;\n   return (sin(point.x) * sin(point.y)) * 4.0;\n}\n\nvoid main()\n{\n   vec4 color = texture2D(uSampler, vTextureCoord);\n   float average = (color.r + color.g + color.b) / 3.0;\n   gl_FragColor = vec4(vec3(average * 10.0 - 5.0 + pattern()), color.a);\n}\n", {
          scale: {
            type: "1f",
            value: 1
          }, angle: {type: "1f", value: 5}, dimensions: {type: "4fv", value: [0, 0, 0, 0]}
        })
      }

      var core = require("../../core");
      DotScreenFilter.prototype = Object.create(core.AbstractFilter.prototype), DotScreenFilter.prototype.constructor = DotScreenFilter, module.exports = DotScreenFilter, Object.defineProperties(DotScreenFilter.prototype, {
        scale: {
          get: function () {
            return this.uniforms.scale.value
          }, set: function (value) {
            this.uniforms.scale.value = value
          }
        }, angle: {
          get: function () {
            return this.uniforms.angle.value
          }, set: function (value) {
            this.uniforms.angle.value = value
          }
        }
      })
    }, {"../../core": 28}],
    99: [function (require, module, exports) {
      function BlurYTintFilter () {
        core.AbstractFilter.call(this, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform vec2 offset;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[6];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition+offset), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[ 0] = aTextureCoord + vec2(0.0, -0.012 * strength);\n    vBlurTexCoords[ 1] = aTextureCoord + vec2(0.0, -0.008 * strength);\n    vBlurTexCoords[ 2] = aTextureCoord + vec2(0.0, -0.004 * strength);\n    vBlurTexCoords[ 3] = aTextureCoord + vec2(0.0,  0.004 * strength);\n    vBlurTexCoords[ 4] = aTextureCoord + vec2(0.0,  0.008 * strength);\n    vBlurTexCoords[ 5] = aTextureCoord + vec2(0.0,  0.012 * strength);\n\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n", "precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[6];\nvarying vec4 vColor;\n\nuniform vec3 color;\nuniform float alpha;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    vec4 sum = vec4(0.0);\n\n    sum += texture2D(uSampler, vBlurTexCoords[ 0])*0.004431848411938341;\n    sum += texture2D(uSampler, vBlurTexCoords[ 1])*0.05399096651318985;\n    sum += texture2D(uSampler, vBlurTexCoords[ 2])*0.2419707245191454;\n    sum += texture2D(uSampler, vTextureCoord     )*0.3989422804014327;\n    sum += texture2D(uSampler, vBlurTexCoords[ 3])*0.2419707245191454;\n    sum += texture2D(uSampler, vBlurTexCoords[ 4])*0.05399096651318985;\n    sum += texture2D(uSampler, vBlurTexCoords[ 5])*0.004431848411938341;\n\n    gl_FragColor = vec4( color.rgb * sum.a * alpha, sum.a * alpha );\n}\n", {
          blur: {
            type: "1f",
            value: 1 / 512
          },
          color: {type: "c", value: [0, 0, 0]},
          alpha: {type: "1f", value: .7},
          offset: {type: "2f", value: [5, 5]},
          strength: {type: "1f", value: 1}
        }), this.passes = 1, this.strength = 4
      }

      var core = require("../../core");
      BlurYTintFilter.prototype = Object.create(core.AbstractFilter.prototype), BlurYTintFilter.prototype.constructor = BlurYTintFilter, module.exports = BlurYTintFilter, BlurYTintFilter.prototype.applyFilter = function (renderer, input, output, clear) {
        var shader = this.getShader(renderer);
        if (this.uniforms.strength.value = this.strength / 4 / this.passes * (input.frame.height / input.size.height), 1 === this.passes) renderer.filterManager.applyFilter(shader, input, output, clear); else {
          for (var renderTarget = renderer.filterManager.getRenderTarget(!0), flip = input, flop = renderTarget, i = 0; i < this.passes - 1; i++) {
            renderer.filterManager.applyFilter(shader, flip, flop, clear);
            var temp = flop;
            flop = flip, flip = temp
          }
          renderer.filterManager.applyFilter(shader, flip, output, clear), renderer.filterManager.returnRenderTarget(renderTarget)
        }
      }, Object.defineProperties(BlurYTintFilter.prototype, {
        blur: {
          get: function () {
            return this.strength
          }, set: function (value) {
            this.padding = .5 * value, this.strength = value
          }
        }
      })
    }, {"../../core": 28}],
    100: [function (require, module, exports) {
      function DropShadowFilter () {
        core.AbstractFilter.call(this), this.blurXFilter = new BlurXFilter, this.blurYTintFilter = new BlurYTintFilter, this.defaultFilter = new core.AbstractFilter, this.padding = 30, this._dirtyPosition = !0, this._angle = 45 * Math.PI / 180, this._distance = 10, this.alpha = .75, this.hideObject = !1, this.blendMode = core.BLEND_MODES.MULTIPLY
      }

      var core = require("../../core"), BlurXFilter = require("../blur/BlurXFilter"),
        BlurYTintFilter = require("./BlurYTintFilter");
      DropShadowFilter.prototype = Object.create(core.AbstractFilter.prototype), DropShadowFilter.prototype.constructor = DropShadowFilter, module.exports = DropShadowFilter, DropShadowFilter.prototype.applyFilter = function (renderer, input, output) {
        var renderTarget = renderer.filterManager.getRenderTarget(!0);
        this._dirtyPosition && (this._dirtyPosition = !1, this.blurYTintFilter.uniforms.offset.value[0] = Math.sin(this._angle) * this._distance, this.blurYTintFilter.uniforms.offset.value[1] = Math.cos(this._angle) * this._distance), this.blurXFilter.applyFilter(renderer, input, renderTarget), renderer.blendModeManager.setBlendMode(this.blendMode), this.blurYTintFilter.applyFilter(renderer, renderTarget, output), renderer.blendModeManager.setBlendMode(core.BLEND_MODES.NORMAL), this.hideObject || this.defaultFilter.applyFilter(renderer, input, output), renderer.filterManager.returnRenderTarget(renderTarget)
      }, Object.defineProperties(DropShadowFilter.prototype, {
        blur: {
          get: function () {
            return this.blurXFilter.blur
          }, set: function (value) {
            this.blurXFilter.blur = this.blurYTintFilter.blur = value
          }
        }, blurX: {
          get: function () {
            return this.blurXFilter.blur
          }, set: function (value) {
            this.blurXFilter.blur = value
          }
        }, blurY: {
          get: function () {
            return this.blurYTintFilter.blur
          }, set: function (value) {
            this.blurYTintFilter.blur = value
          }
        }, color: {
          get: function () {
            return core.utils.rgb2hex(this.blurYTintFilter.uniforms.color.value)
          }, set: function (value) {
            this.blurYTintFilter.uniforms.color.value = core.utils.hex2rgb(value)
          }
        }, alpha: {
          get: function () {
            return this.blurYTintFilter.uniforms.alpha.value
          }, set: function (value) {
            this.blurYTintFilter.uniforms.alpha.value = value
          }
        }, distance: {
          get: function () {
            return this._distance
          }, set: function (value) {
            this._dirtyPosition = !0, this._distance = value
          }
        }, angle: {
          get: function () {
            return this._angle
          }, set: function (value) {
            this._dirtyPosition = !0, this._angle = value
          }
        }
      })
    }, {"../../core": 28, "../blur/BlurXFilter": 90, "./BlurYTintFilter": 99}],
    101: [function (require, module, exports) {
      function GrayFilter () {
        core.AbstractFilter.call(this, null, "precision mediump float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\nuniform float gray;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n   gl_FragColor.rgb = mix(gl_FragColor.rgb, vec3(0.2126*gl_FragColor.r + 0.7152*gl_FragColor.g + 0.0722*gl_FragColor.b), gray);\n}\n", {
          gray: {
            type: "1f",
            value: 1
          }
        })
      }

      var core = require("../../core");
      GrayFilter.prototype = Object.create(core.AbstractFilter.prototype), GrayFilter.prototype.constructor = GrayFilter, module.exports = GrayFilter, Object.defineProperties(GrayFilter.prototype, {
        gray: {
          get: function () {
            return this.uniforms.gray.value
          }, set: function (value) {
            this.uniforms.gray.value = value
          }
        }
      })
    }, {"../../core": 28}],
    102: [function (require, module, exports) {
      module.exports = {
        AsciiFilter: require("./ascii/AsciiFilter"),
        BloomFilter: require("./bloom/BloomFilter"),
        BlurFilter: require("./blur/BlurFilter"),
        BlurXFilter: require("./blur/BlurXFilter"),
        BlurYFilter: require("./blur/BlurYFilter"),
        BlurDirFilter: require("./blur/BlurDirFilter"),
        ColorMatrixFilter: require("./color/ColorMatrixFilter"),
        ColorStepFilter: require("./color/ColorStepFilter"),
        ConvolutionFilter: require("./convolution/ConvolutionFilter"),
        CrossHatchFilter: require("./crosshatch/CrossHatchFilter"),
        DisplacementFilter: require("./displacement/DisplacementFilter"),
        DotScreenFilter: require("./dot/DotScreenFilter"),
        GrayFilter: require("./gray/GrayFilter"),
        DropShadowFilter: require("./dropshadow/DropShadowFilter"),
        InvertFilter: require("./invert/InvertFilter"),
        NoiseFilter: require("./noise/NoiseFilter"),
        PixelateFilter: require("./pixelate/PixelateFilter"),
        RGBSplitFilter: require("./rgb/RGBSplitFilter"),
        ShockwaveFilter: require("./shockwave/ShockwaveFilter"),
        SepiaFilter: require("./sepia/SepiaFilter"),
        SmartBlurFilter: require("./blur/SmartBlurFilter"),
        TiltShiftFilter: require("./tiltshift/TiltShiftFilter"),
        TiltShiftXFilter: require("./tiltshift/TiltShiftXFilter"),
        TiltShiftYFilter: require("./tiltshift/TiltShiftYFilter"),
        TwistFilter: require("./twist/TwistFilter")
      }
    }, {
      "./ascii/AsciiFilter": 86,
      "./bloom/BloomFilter": 87,
      "./blur/BlurDirFilter": 88,
      "./blur/BlurFilter": 89,
      "./blur/BlurXFilter": 90,
      "./blur/BlurYFilter": 91,
      "./blur/SmartBlurFilter": 92,
      "./color/ColorMatrixFilter": 93,
      "./color/ColorStepFilter": 94,
      "./convolution/ConvolutionFilter": 95,
      "./crosshatch/CrossHatchFilter": 96,
      "./displacement/DisplacementFilter": 97,
      "./dot/DotScreenFilter": 98,
      "./dropshadow/DropShadowFilter": 100,
      "./gray/GrayFilter": 101,
      "./invert/InvertFilter": 103,
      "./noise/NoiseFilter": 104,
      "./pixelate/PixelateFilter": 105,
      "./rgb/RGBSplitFilter": 106,
      "./sepia/SepiaFilter": 107,
      "./shockwave/ShockwaveFilter": 108,
      "./tiltshift/TiltShiftFilter": 110,
      "./tiltshift/TiltShiftXFilter": 111,
      "./tiltshift/TiltShiftYFilter": 112,
      "./twist/TwistFilter": 113
    }],
    103: [function (require, module, exports) {
      function InvertFilter () {
        core.AbstractFilter.call(this, null, "precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform float invert;\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord);\n\n    gl_FragColor.rgb = mix( (vec3(1)-gl_FragColor.rgb) * gl_FragColor.a, gl_FragColor.rgb, 1.0 - invert);\n}\n", {
          invert: {
            type: "1f",
            value: 1
          }
        })
      }

      var core = require("../../core");
      InvertFilter.prototype = Object.create(core.AbstractFilter.prototype), InvertFilter.prototype.constructor = InvertFilter, module.exports = InvertFilter, Object.defineProperties(InvertFilter.prototype, {
        invert: {
          get: function () {
            return this.uniforms.invert.value
          }, set: function (value) {
            this.uniforms.invert.value = value
          }
        }
      })
    }, {"../../core": 28}],
    104: [function (require, module, exports) {
      function NoiseFilter () {
        core.AbstractFilter.call(this, null, "precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float noise;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    float diff = (rand(vTextureCoord) - 0.5) * noise;\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    gl_FragColor = color;\n}\n", {
          noise: {
            type: "1f",
            value: .5
          }
        })
      }

      var core = require("../../core");
      NoiseFilter.prototype = Object.create(core.AbstractFilter.prototype), NoiseFilter.prototype.constructor = NoiseFilter, module.exports = NoiseFilter, Object.defineProperties(NoiseFilter.prototype, {
        noise: {
          get: function () {
            return this.uniforms.noise.value
          }, set: function (value) {
            this.uniforms.noise.value = value
          }
        }
      })
    }, {"../../core": 28}],
    105: [function (require, module, exports) {
      function PixelateFilter () {
        core.AbstractFilter.call(this, null, "precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 dimensions;\nuniform vec2 pixelSize;\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord;\n\n    vec2 size = dimensions.xy / pixelSize;\n\n    vec2 color = floor( ( vTextureCoord * size ) ) / size + pixelSize/dimensions.xy * 0.5;\n\n    gl_FragColor = texture2D(uSampler, color);\n}\n", {
          dimensions: {
            type: "4fv",
            value: new Float32Array([0, 0, 0, 0])
          }, pixelSize: {type: "v2", value: {x: 10, y: 10}}
        })
      }

      var core = require("../../core");
      PixelateFilter.prototype = Object.create(core.AbstractFilter.prototype), PixelateFilter.prototype.constructor = PixelateFilter, module.exports = PixelateFilter, Object.defineProperties(PixelateFilter.prototype, {
        size: {
          get: function () {
            return this.uniforms.pixelSize.value
          }, set: function (value) {
            this.uniforms.pixelSize.value = value
          }
        }
      })
    }, {"../../core": 28}],
    106: [function (require, module, exports) {
      function RGBSplitFilter () {
        core.AbstractFilter.call(this, null, "precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 dimensions;\nuniform vec2 red;\nuniform vec2 green;\nuniform vec2 blue;\n\nvoid main(void)\n{\n   gl_FragColor.r = texture2D(uSampler, vTextureCoord + red/dimensions.xy).r;\n   gl_FragColor.g = texture2D(uSampler, vTextureCoord + green/dimensions.xy).g;\n   gl_FragColor.b = texture2D(uSampler, vTextureCoord + blue/dimensions.xy).b;\n   gl_FragColor.a = texture2D(uSampler, vTextureCoord).a;\n}\n", {
          red: {
            type: "v2",
            value: {x: 20, y: 20}
          },
          green: {type: "v2", value: {x: -20, y: 20}},
          blue: {type: "v2", value: {x: 20, y: -20}},
          dimensions: {type: "4fv", value: [0, 0, 0, 0]}
        })
      }

      var core = require("../../core");
      RGBSplitFilter.prototype = Object.create(core.AbstractFilter.prototype), RGBSplitFilter.prototype.constructor = RGBSplitFilter, module.exports = RGBSplitFilter, Object.defineProperties(RGBSplitFilter.prototype, {
        red: {
          get: function () {
            return this.uniforms.red.value
          }, set: function (value) {
            this.uniforms.red.value = value
          }
        }, green: {
          get: function () {
            return this.uniforms.green.value
          }, set: function (value) {
            this.uniforms.green.value = value
          }
        }, blue: {
          get: function () {
            return this.uniforms.blue.value
          }, set: function (value) {
            this.uniforms.blue.value = value
          }
        }
      })
    }, {"../../core": 28}],
    107: [function (require, module, exports) {
      function SepiaFilter () {
        core.AbstractFilter.call(this, null, "precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float sepia;\n\nconst mat3 sepiaMatrix = mat3(0.3588, 0.7044, 0.1368, 0.2990, 0.5870, 0.1140, 0.2392, 0.4696, 0.0912);\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n   gl_FragColor.rgb = mix( gl_FragColor.rgb, gl_FragColor.rgb * sepiaMatrix, sepia);\n}\n", {
          sepia: {
            type: "1f",
            value: 1
          }
        })
      }

      var core = require("../../core");
      SepiaFilter.prototype = Object.create(core.AbstractFilter.prototype), SepiaFilter.prototype.constructor = SepiaFilter, module.exports = SepiaFilter, Object.defineProperties(SepiaFilter.prototype, {
        sepia: {
          get: function () {
            return this.uniforms.sepia.value
          }, set: function (value) {
            this.uniforms.sepia.value = value
          }
        }
      })
    }, {"../../core": 28}],
    108: [function (require, module, exports) {
      function ShockwaveFilter () {
        core.AbstractFilter.call(this, null, "precision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nuniform vec2 center;\nuniform vec3 params; // 10.0, 0.8, 0.1\nuniform float time;\n\nvoid main()\n{\n    vec2 uv = vTextureCoord;\n    vec2 texCoord = uv;\n\n    float dist = distance(uv, center);\n\n    if ( (dist <= (time + params.z)) && (dist >= (time - params.z)) )\n    {\n        float diff = (dist - time);\n        float powDiff = 1.0 - pow(abs(diff*params.x), params.y);\n\n        float diffTime = diff  * powDiff;\n        vec2 diffUV = normalize(uv - center);\n        texCoord = uv + (diffUV * diffTime);\n    }\n\n    gl_FragColor = texture2D(uSampler, texCoord);\n}\n", {
          center: {
            type: "v2",
            value: {x: .5, y: .5}
          }, params: {type: "v3", value: {x: 10, y: .8, z: .1}}, time: {type: "1f", value: 0}
        })
      }

      var core = require("../../core");
      ShockwaveFilter.prototype = Object.create(core.AbstractFilter.prototype), ShockwaveFilter.prototype.constructor = ShockwaveFilter, module.exports = ShockwaveFilter, Object.defineProperties(ShockwaveFilter.prototype, {
        center: {
          get: function () {
            return this.uniforms.center.value
          }, set: function (value) {
            this.uniforms.center.value = value
          }
        }, params: {
          get: function () {
            return this.uniforms.params.value
          }, set: function (value) {
            this.uniforms.params.value = value
          }
        }, time: {
          get: function () {
            return this.uniforms.time.value
          }, set: function (value) {
            this.uniforms.time.value = value
          }
        }
      })
    }, {"../../core": 28}],
    109: [function (require, module, exports) {
      function TiltShiftAxisFilter () {
        core.AbstractFilter.call(this, null, "precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float blur;\nuniform float gradientBlur;\nuniform vec2 start;\nuniform vec2 end;\nuniform vec2 delta;\nuniform vec2 texSize;\n\nfloat random(vec3 scale, float seed)\n{\n    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n}\n\nvoid main(void)\n{\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n    vec2 normal = normalize(vec2(start.y - end.y, end.x - start.x));\n    float radius = smoothstep(0.0, 1.0, abs(dot(vTextureCoord * texSize - start, normal)) / gradientBlur) * blur;\n\n    for (float t = -30.0; t <= 30.0; t++)\n    {\n        float percent = (t + offset - 0.5) / 30.0;\n        float weight = 1.0 - abs(percent);\n        vec4 sample = texture2D(uSampler, vTextureCoord + delta / texSize * percent * radius);\n        sample.rgb *= sample.a;\n        color += sample * weight;\n        total += weight;\n    }\n\n    gl_FragColor = color / total;\n    gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\n}\n", {
          blur: {
            type: "1f",
            value: 100
          },
          gradientBlur: {type: "1f", value: 600},
          start: {type: "v2", value: {x: 0, y: window.innerHeight / 2}},
          end: {type: "v2", value: {x: 600, y: window.innerHeight / 2}},
          delta: {type: "v2", value: {x: 30, y: 30}},
          texSize: {type: "v2", value: {x: window.innerWidth, y: window.innerHeight}}
        }), this.updateDelta()
      }

      var core = require("../../core");
      TiltShiftAxisFilter.prototype = Object.create(core.AbstractFilter.prototype), TiltShiftAxisFilter.prototype.constructor = TiltShiftAxisFilter, module.exports = TiltShiftAxisFilter, TiltShiftAxisFilter.prototype.updateDelta = function () {
        this.uniforms.delta.value.x = 0, this.uniforms.delta.value.y = 0
      }, Object.defineProperties(TiltShiftAxisFilter.prototype, {
        blur: {
          get: function () {
            return this.uniforms.blur.value
          }, set: function (value) {
            this.uniforms.blur.value = value
          }
        }, gradientBlur: {
          get: function () {
            return this.uniforms.gradientBlur.value
          }, set: function (value) {
            this.uniforms.gradientBlur.value = value
          }
        }, start: {
          get: function () {
            return this.uniforms.start.value
          }, set: function (value) {
            this.uniforms.start.value = value, this.updateDelta()
          }
        }, end: {
          get: function () {
            return this.uniforms.end.value
          }, set: function (value) {
            this.uniforms.end.value = value, this.updateDelta()
          }
        }
      })
    }, {"../../core": 28}],
    110: [function (require, module, exports) {
      function TiltShiftFilter () {
        core.AbstractFilter.call(this), this.tiltShiftXFilter = new TiltShiftXFilter, this.tiltShiftYFilter = new TiltShiftYFilter
      }

      var core = require("../../core"), TiltShiftXFilter = require("./TiltShiftXFilter"),
        TiltShiftYFilter = require("./TiltShiftYFilter");
      TiltShiftFilter.prototype = Object.create(core.AbstractFilter.prototype), TiltShiftFilter.prototype.constructor = TiltShiftFilter, module.exports = TiltShiftFilter, TiltShiftFilter.prototype.applyFilter = function (renderer, input, output) {
        var renderTarget = renderer.filterManager.getRenderTarget(!0);
        this.tiltShiftXFilter.applyFilter(renderer, input, renderTarget), this.tiltShiftYFilter.applyFilter(renderer, renderTarget, output), renderer.filterManager.returnRenderTarget(renderTarget)
      }, Object.defineProperties(TiltShiftFilter.prototype, {
        blur: {
          get: function () {
            return this.tiltShiftXFilter.blur
          }, set: function (value) {
            this.tiltShiftXFilter.blur = this.tiltShiftYFilter.blur = value
          }
        }, gradientBlur: {
          get: function () {
            return this.tiltShiftXFilter.gradientBlur
          }, set: function (value) {
            this.tiltShiftXFilter.gradientBlur = this.tiltShiftYFilter.gradientBlur = value
          }
        }, start: {
          get: function () {
            return this.tiltShiftXFilter.start
          }, set: function (value) {
            this.tiltShiftXFilter.start = this.tiltShiftYFilter.start = value
          }
        }, end: {
          get: function () {
            return this.tiltShiftXFilter.end
          }, set: function (value) {
            this.tiltShiftXFilter.end = this.tiltShiftYFilter.end = value
          }
        }
      })
    }, {"../../core": 28, "./TiltShiftXFilter": 111, "./TiltShiftYFilter": 112}],
    111: [function (require, module, exports) {
      function TiltShiftXFilter () {
        TiltShiftAxisFilter.call(this)
      }

      var TiltShiftAxisFilter = require("./TiltShiftAxisFilter");
      TiltShiftXFilter.prototype = Object.create(TiltShiftAxisFilter.prototype), TiltShiftXFilter.prototype.constructor = TiltShiftXFilter, module.exports = TiltShiftXFilter, TiltShiftXFilter.prototype.updateDelta = function () {
        var dx = this.uniforms.end.value.x - this.uniforms.start.value.x,
          dy = this.uniforms.end.value.y - this.uniforms.start.value.y, d = Math.sqrt(dx * dx + dy * dy);
        this.uniforms.delta.value.x = dx / d, this.uniforms.delta.value.y = dy / d
      }
    }, {"./TiltShiftAxisFilter": 109}],
    112: [function (require, module, exports) {
      function TiltShiftYFilter () {
        TiltShiftAxisFilter.call(this)
      }

      var TiltShiftAxisFilter = require("./TiltShiftAxisFilter");
      TiltShiftYFilter.prototype = Object.create(TiltShiftAxisFilter.prototype), TiltShiftYFilter.prototype.constructor = TiltShiftYFilter, module.exports = TiltShiftYFilter, TiltShiftYFilter.prototype.updateDelta = function () {
        var dx = this.uniforms.end.value.x - this.uniforms.start.value.x,
          dy = this.uniforms.end.value.y - this.uniforms.start.value.y, d = Math.sqrt(dx * dx + dy * dy);
        this.uniforms.delta.value.x = -dy / d, this.uniforms.delta.value.y = dx / d
      }
    }, {"./TiltShiftAxisFilter": 109}],
    113: [function (require, module, exports) {
      function TwistFilter () {
        core.AbstractFilter.call(this, null, "precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float radius;\nuniform float angle;\nuniform vec2 offset;\n\nvoid main(void)\n{\n   vec2 coord = vTextureCoord - offset;\n   float dist = length(coord);\n\n   if (dist < radius)\n   {\n       float ratio = (radius - dist) / radius;\n       float angleMod = ratio * ratio * angle;\n       float s = sin(angleMod);\n       float c = cos(angleMod);\n       coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);\n   }\n\n   gl_FragColor = texture2D(uSampler, coord+offset);\n}\n", {
          radius: {
            type: "1f",
            value: .5
          }, angle: {type: "1f", value: 5}, offset: {type: "v2", value: {x: .5, y: .5}}
        })
      }

      var core = require("../../core");
      TwistFilter.prototype = Object.create(core.AbstractFilter.prototype), TwistFilter.prototype.constructor = TwistFilter, module.exports = TwistFilter, Object.defineProperties(TwistFilter.prototype, {
        offset: {
          get: function () {
            return this.uniforms.offset.value
          }, set: function (value) {
            this.uniforms.offset.value = value
          }
        }, radius: {
          get: function () {
            return this.uniforms.radius.value
          }, set: function (value) {
            this.uniforms.radius.value = value
          }
        }, angle: {
          get: function () {
            return this.uniforms.angle.value
          }, set: function (value) {
            this.uniforms.angle.value = value
          }
        }
      })
    }, {"../../core": 28}],
    114: [function (require, module, exports) {
      (function (global) {
        require("./polyfill");
        var core = module.exports = require("./core");
        core.extras = require("./extras"), core.filters = require("./filters"), core.interaction = require("./interaction"), core.loaders = require("./loaders"), core.mesh = require("./mesh"), core.loader = new core.loaders.Loader, Object.assign(core, require("./deprecation")), global.PIXI = core
      }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
    }, {
      "./core": 28,
      "./deprecation": 78,
      "./extras": 85,
      "./filters": 102,
      "./interaction": 117,
      "./loaders": 120,
      "./mesh": 127,
      "./polyfill": 132
    }],
    115: [function (require, module, exports) {
      function InteractionData () {
        this.global = new core.Point, this.target = null, this.originalEvent = null
      }

      var core = require("../core");
      InteractionData.prototype.constructor = InteractionData, module.exports = InteractionData, InteractionData.prototype.getLocalPosition = function (displayObject, point, globalPos) {
        return displayObject.toLocal(globalPos ? globalPos : this.global, point)
      }
    }, {"../core": 28}],
    116: [function (require, module, exports) {
      function InteractionManager (renderer, options) {
        options = options || {}, this.renderer = renderer, this.autoPreventDefault = void 0 === options.autoPreventDefault || options.autoPreventDefault, this.interactionFrequency = options.interactionFrequency || 10, this.mouse = new InteractionData, this.eventData = {
          stopped: !1,
          target: null,
          type: null,
          data: this.mouse,
          stopPropagation: function () {
            this.stopped = !0
          }
        }, this.interactiveDataPool = [], this.interactionDOMElement = null, this.eventsAdded = !1, this.onMouseUp = this.onMouseUp.bind(this), this.processMouseUp = this.processMouseUp.bind(this), this.onMouseDown = this.onMouseDown.bind(this), this.processMouseDown = this.processMouseDown.bind(this), this.onMouseMove = this.onMouseMove.bind(this), this.processMouseMove = this.processMouseMove.bind(this), this.onMouseOut = this.onMouseOut.bind(this), this.processMouseOverOut = this.processMouseOverOut.bind(this), this.onTouchStart = this.onTouchStart.bind(this), this.processTouchStart = this.processTouchStart.bind(this), this.onTouchEnd = this.onTouchEnd.bind(this), this.processTouchEnd = this.processTouchEnd.bind(this), this.onTouchMove = this.onTouchMove.bind(this), this.processTouchMove = this.processTouchMove.bind(this), this.last = 0, this.currentCursorStyle = "inherit", this._tempPoint = new core.Point, this.resolution = 1, this.setTargetElement(this.renderer.view, this.renderer.resolution)
      }

      var core = require("../core"), InteractionData = require("./InteractionData");
      Object.assign(core.DisplayObject.prototype, require("./interactiveTarget")), InteractionManager.prototype.constructor = InteractionManager, module.exports = InteractionManager, InteractionManager.prototype.setTargetElement = function (element, resolution) {
        this.removeEvents(), this.interactionDOMElement = element, this.resolution = resolution || 1, this.addEvents()
      }, InteractionManager.prototype.addEvents = function () {
        this.interactionDOMElement && (core.ticker.shared.add(this.update, this), window.navigator.msPointerEnabled && (this.interactionDOMElement.style["-ms-content-zooming"] = "none", this.interactionDOMElement.style["-ms-touch-action"] = "none"), window.document.addEventListener("mousemove", this.onMouseMove, !0), this.interactionDOMElement.addEventListener("mousedown", this.onMouseDown, !0), this.interactionDOMElement.addEventListener("mouseout", this.onMouseOut, !0), this.interactionDOMElement.addEventListener("touchstart", this.onTouchStart, !0), this.interactionDOMElement.addEventListener("touchend", this.onTouchEnd, !0), this.interactionDOMElement.addEventListener("touchmove", this.onTouchMove, !0), window.addEventListener("mouseup", this.onMouseUp, !0), this.eventsAdded = !0)
      }, InteractionManager.prototype.removeEvents = function () {
        this.interactionDOMElement && (core.ticker.shared.remove(this.update), window.navigator.msPointerEnabled && (this.interactionDOMElement.style["-ms-content-zooming"] = "", this.interactionDOMElement.style["-ms-touch-action"] = ""), window.document.removeEventListener("mousemove", this.onMouseMove, !0), this.interactionDOMElement.removeEventListener("mousedown", this.onMouseDown, !0), this.interactionDOMElement.removeEventListener("mouseout", this.onMouseOut, !0), this.interactionDOMElement.removeEventListener("touchstart", this.onTouchStart, !0), this.interactionDOMElement.removeEventListener("touchend", this.onTouchEnd, !0), this.interactionDOMElement.removeEventListener("touchmove", this.onTouchMove, !0), this.interactionDOMElement = null, window.removeEventListener("mouseup", this.onMouseUp, !0), this.eventsAdded = !1)
      }, InteractionManager.prototype.update = function (deltaTime) {
        if (this._deltaTime += deltaTime, !(this._deltaTime < this.interactionFrequency) && (this._deltaTime = 0, this.interactionDOMElement)) {
          if (this.didMove) return void(this.didMove = !1);
          this.cursor = "inherit", this.processInteractive(this.mouse.global, this.renderer._lastObjectRendered, this.processMouseOverOut, !0), this.currentCursorStyle !== this.cursor && (this.currentCursorStyle = this.cursor, this.interactionDOMElement.style.cursor = this.cursor)
        }
      }, InteractionManager.prototype.dispatchEvent = function (displayObject, eventString, eventData) {
        eventData.stopped || (eventData.target = displayObject, eventData.type = eventString, displayObject.emit(eventString, eventData), displayObject[eventString] && displayObject[eventString](eventData))
      }, InteractionManager.prototype.mapPositionToPoint = function (point, x, y) {
        var rect = this.interactionDOMElement.getBoundingClientRect();
        point.x = (x - rect.left) * (this.interactionDOMElement.width / rect.width) / this.resolution, point.y = (y - rect.top) * (this.interactionDOMElement.height / rect.height) / this.resolution
      }, InteractionManager.prototype.processInteractive = function (point, displayObject, func, hitTest, interactive) {
        if (!displayObject || !displayObject.visible) return !1;
        var children = displayObject.children, hit = !1;
        if (interactive = interactive || displayObject.interactive, displayObject.interactiveChildren) for (var i = children.length - 1; i >= 0; i--) !hit && hitTest ? hit = this.processInteractive(point, children[i], func, !0, interactive) : this.processInteractive(point, children[i], func, !1, !1);
        return interactive && (hitTest && (displayObject.hitArea ? (displayObject.worldTransform.applyInverse(point, this._tempPoint), hit = displayObject.hitArea.contains(this._tempPoint.x, this._tempPoint.y)) : displayObject.containsPoint && (hit = displayObject.containsPoint(point))), displayObject.interactive && func(displayObject, hit)), hit
      }, InteractionManager.prototype.onMouseDown = function (event) {
        this.mouse.originalEvent = event, this.eventData.data = this.mouse, this.eventData.stopped = !1, this.mapPositionToPoint(this.mouse.global, event.clientX, event.clientY), this.autoPreventDefault && this.mouse.originalEvent.preventDefault(), this.processInteractive(this.mouse.global, this.renderer._lastObjectRendered, this.processMouseDown, !0)
      }, InteractionManager.prototype.processMouseDown = function (displayObject, hit) {
        var e = this.mouse.originalEvent, isRightButton = 2 === e.button || 3 === e.which;
        hit && (displayObject[isRightButton ? "_isRightDown" : "_isLeftDown"] = !0, this.dispatchEvent(displayObject, isRightButton ? "rightdown" : "mousedown", this.eventData))
      }, InteractionManager.prototype.onMouseUp = function (event) {
        this.mouse.originalEvent = event, this.eventData.data = this.mouse, this.eventData.stopped = !1, this.mapPositionToPoint(this.mouse.global, event.clientX, event.clientY), this.processInteractive(this.mouse.global, this.renderer._lastObjectRendered, this.processMouseUp, !0)
      }, InteractionManager.prototype.processMouseUp = function (displayObject, hit) {
        var e = this.mouse.originalEvent, isRightButton = 2 === e.button || 3 === e.which,
          isDown = isRightButton ? "_isRightDown" : "_isLeftDown";
        hit ? (this.dispatchEvent(displayObject, isRightButton ? "rightup" : "mouseup", this.eventData), displayObject[isDown] && (displayObject[isDown] = !1, this.dispatchEvent(displayObject, isRightButton ? "rightclick" : "click", this.eventData))) : displayObject[isDown] && (displayObject[isDown] = !1, this.dispatchEvent(displayObject, isRightButton ? "rightupoutside" : "mouseupoutside", this.eventData))
      }, InteractionManager.prototype.onMouseMove = function (event) {
        this.mouse.originalEvent = event, this.eventData.data = this.mouse, this.eventData.stopped = !1, this.mapPositionToPoint(this.mouse.global, event.clientX, event.clientY), this.didMove = !0, this.cursor = "inherit", this.processInteractive(this.mouse.global, this.renderer._lastObjectRendered, this.processMouseMove, !0), this.currentCursorStyle !== this.cursor && (this.currentCursorStyle = this.cursor, this.interactionDOMElement.style.cursor = this.cursor)
      }, InteractionManager.prototype.processMouseMove = function (displayObject, hit) {
        this.dispatchEvent(displayObject, "mousemove", this.eventData), this.processMouseOverOut(displayObject, hit)
      }, InteractionManager.prototype.onMouseOut = function (event) {
        this.mouse.originalEvent = event, this.eventData.stopped = !1, this.mapPositionToPoint(this.mouse.global, event.clientX, event.clientY), this.interactionDOMElement.style.cursor = "inherit", this.mapPositionToPoint(this.mouse.global, event.clientX, event.clientY), this.processInteractive(this.mouse.global, this.renderer._lastObjectRendered, this.processMouseOverOut, !1)
      }, InteractionManager.prototype.processMouseOverOut = function (displayObject, hit) {
        hit ? (displayObject._over || (displayObject._over = !0, this.dispatchEvent(displayObject, "mouseover", this.eventData)), displayObject.buttonMode && (this.cursor = displayObject.defaultCursor)) : displayObject._over && (displayObject._over = !1, this.dispatchEvent(displayObject, "mouseout", this.eventData))
      }, InteractionManager.prototype.onTouchStart = function (event) {
        this.autoPreventDefault && event.preventDefault();
        for (var changedTouches = event.changedTouches, cLength = changedTouches.length, i = 0; i < cLength; i++) {
          var touchEvent = changedTouches[i], touchData = this.getTouchData(touchEvent);
          touchData.originalEvent = event, this.eventData.data = touchData, this.eventData.stopped = !1, this.processInteractive(touchData.global, this.renderer._lastObjectRendered, this.processTouchStart, !0), this.returnTouchData(touchData)
        }
      }, InteractionManager.prototype.processTouchStart = function (displayObject, hit) {
        hit && (displayObject._touchDown = !0, this.dispatchEvent(displayObject, "touchstart", this.eventData))
      }, InteractionManager.prototype.onTouchEnd = function (event) {
        this.autoPreventDefault && event.preventDefault();
        for (var changedTouches = event.changedTouches, cLength = changedTouches.length, i = 0; i < cLength; i++) {
          var touchEvent = changedTouches[i], touchData = this.getTouchData(touchEvent);
          touchData.originalEvent = event, this.eventData.data = touchData, this.eventData.stopped = !1, this.processInteractive(touchData.global, this.renderer._lastObjectRendered, this.processTouchEnd, !0), this.returnTouchData(touchData)
        }
      }, InteractionManager.prototype.processTouchEnd = function (displayObject, hit) {
        hit ? (this.dispatchEvent(displayObject, "touchend", this.eventData), displayObject._touchDown && (displayObject._touchDown = !1, this.dispatchEvent(displayObject, "tap", this.eventData))) : displayObject._touchDown && (displayObject._touchDown = !1, this.dispatchEvent(displayObject, "touchendoutside", this.eventData))
      }, InteractionManager.prototype.onTouchMove = function (event) {
        this.autoPreventDefault && event.preventDefault();
        for (var changedTouches = event.changedTouches, cLength = changedTouches.length, i = 0; i < cLength; i++) {
          var touchEvent = changedTouches[i], touchData = this.getTouchData(touchEvent);
          touchData.originalEvent = event, this.eventData.data = touchData, this.eventData.stopped = !1, this.processInteractive(touchData.global, this.renderer._lastObjectRendered, this.processTouchMove, !0), this.returnTouchData(touchData)
        }
      }, InteractionManager.prototype.processTouchMove = function (displayObject, hit) {
        hit = hit, this.dispatchEvent(displayObject, "touchmove", this.eventData)
      }, InteractionManager.prototype.getTouchData = function (touchEvent) {
        var touchData = this.interactiveDataPool.pop();
        return touchData || (touchData = new InteractionData), touchData.identifier = touchEvent.identifier, this.mapPositionToPoint(touchData.global, touchEvent.clientX, touchEvent.clientY), navigator.isCocoonJS && (touchData.global.x = touchData.global.x / this.resolution, touchData.global.y = touchData.global.y / this.resolution), touchEvent.globalX = touchData.global.x, touchEvent.globalY = touchData.global.y, touchData
      }, InteractionManager.prototype.returnTouchData = function (touchData) {
        this.interactiveDataPool.push(touchData)
      }, InteractionManager.prototype.destroy = function () {
        this.removeEvents(), this.renderer = null, this.mouse = null, this.eventData = null, this.interactiveDataPool = null, this.interactionDOMElement = null, this.onMouseUp = null, this.processMouseUp = null, this.onMouseDown = null, this.processMouseDown = null, this.onMouseMove = null, this.processMouseMove = null, this.onMouseOut = null, this.processMouseOverOut = null, this.onTouchStart = null, this.processTouchStart = null, this.onTouchEnd = null, this.processTouchEnd = null, this.onTouchMove = null, this.processTouchMove = null, this._tempPoint = null
      }, core.WebGLRenderer.registerPlugin("interaction", InteractionManager), core.CanvasRenderer.registerPlugin("interaction", InteractionManager)
    }, {"../core": 28, "./InteractionData": 115, "./interactiveTarget": 118}],
    117: [function (require, module, exports) {
      module.exports = {
        InteractionData: require("./InteractionData"),
        InteractionManager: require("./InteractionManager"),
        interactiveTarget: require("./interactiveTarget")
      }
    }, {"./InteractionData": 115, "./InteractionManager": 116, "./interactiveTarget": 118}],
    118: [function (require, module, exports) {
      var interactiveTarget = {
        interactive: !1,
        buttonMode: !1,
        interactiveChildren: !0,
        defaultCursor: "pointer",
        _over: !1,
        _touchDown: !1
      };
      module.exports = interactiveTarget
    }, {}],
    119: [function (require, module, exports) {
      function parse (resource, texture) {
        var data = {}, info = resource.data.getElementsByTagName("info")[0],
          common = resource.data.getElementsByTagName("common")[0];
        data.font = info.getAttribute("face"), data.size = parseInt(info.getAttribute("size"), 10), data.lineHeight = parseInt(common.getAttribute("lineHeight"), 10), data.chars = {};
        for (var letters = resource.data.getElementsByTagName("char"), i = 0; i < letters.length; i++) {
          var charCode = parseInt(letters[i].getAttribute("id"), 10),
            textureRect = new core.Rectangle(parseInt(letters[i].getAttribute("x"), 10) + texture.frame.x, parseInt(letters[i].getAttribute("y"), 10) + texture.frame.y, parseInt(letters[i].getAttribute("width"), 10), parseInt(letters[i].getAttribute("height"), 10));
          data.chars[charCode] = {
            xOffset: parseInt(letters[i].getAttribute("xoffset"), 10),
            yOffset: parseInt(letters[i].getAttribute("yoffset"), 10),
            xAdvance: parseInt(letters[i].getAttribute("xadvance"), 10),
            kerning: {},
            texture: new core.Texture(texture.baseTexture, textureRect)
          }
        }
        var kernings = resource.data.getElementsByTagName("kerning");
        for (i = 0; i < kernings.length; i++) {
          var first = parseInt(kernings[i].getAttribute("first"), 10),
            second = parseInt(kernings[i].getAttribute("second"), 10),
            amount = parseInt(kernings[i].getAttribute("amount"), 10);
          data.chars[second].kerning[first] = amount
        }
        resource.bitmapFont = data, extras.BitmapText.fonts[data.font] = data
      }

      var Resource = require("resource-loader").Resource, core = require("../core"), extras = require("../extras"),
        path = require("path");
      module.exports = function () {
        return function (resource, next) {
          if (!resource.data || !resource.isXml) return next();
          if (0 === resource.data.getElementsByTagName("page").length || 0 === resource.data.getElementsByTagName("info").length || null === resource.data.getElementsByTagName("info")[0].getAttribute("face")) return next();
          var xmlUrl = path.dirname(resource.url);
          "." === xmlUrl && (xmlUrl = ""), this.baseUrl && xmlUrl && ("/" === this.baseUrl.charAt(this.baseUrl.length - 1) && (xmlUrl += "/"), xmlUrl = xmlUrl.replace(this.baseUrl, "")), xmlUrl && "/" !== xmlUrl.charAt(xmlUrl.length - 1) && (xmlUrl += "/");
          var textureUrl = xmlUrl + resource.data.getElementsByTagName("page")[0].getAttribute("file");
          if (core.utils.TextureCache[textureUrl]) parse(resource, core.utils.TextureCache[textureUrl]), next(); else {
            var loadOptions = {crossOrigin: resource.crossOrigin, loadType: Resource.LOAD_TYPE.IMAGE};
            this.add(resource.name + "_image", textureUrl, loadOptions, function (res) {
              parse(resource, res.texture), next()
            })
          }
        }
      }
    }, {"../core": 28, "../extras": 85, path: 2, "resource-loader": 16}],
    120: [function (require, module, exports) {
      module.exports = {
        Loader: require("./loader"),
        bitmapFontParser: require("./bitmapFontParser"),
        spritesheetParser: require("./spritesheetParser"),
        textureParser: require("./textureParser"),
        Resource: require("resource-loader").Resource
      }
    }, {
      "./bitmapFontParser": 119,
      "./loader": 121,
      "./spritesheetParser": 122,
      "./textureParser": 123,
      "resource-loader": 16
    }],
    121: [function (require, module, exports) {
      function Loader (baseUrl, concurrency) {
        ResourceLoader.call(this, baseUrl, concurrency);
        for (var i = 0; i < Loader._pixiMiddleware.length; ++i) this.use(Loader._pixiMiddleware[i]())
      }

      var ResourceLoader = require("resource-loader"), textureParser = require("./textureParser"),
        spritesheetParser = require("./spritesheetParser"), bitmapFontParser = require("./bitmapFontParser");
      Loader.prototype = Object.create(ResourceLoader.prototype), Loader.prototype.constructor = Loader, module.exports = Loader, Loader._pixiMiddleware = [ResourceLoader.middleware.parsing.blob, textureParser, spritesheetParser, bitmapFontParser], Loader.addPixiMiddleware = function (fn) {
        Loader._pixiMiddleware.push(fn)
      };
      var Resource = ResourceLoader.Resource;
      Resource.setExtensionXhrType("fnt", Resource.XHR_RESPONSE_TYPE.DOCUMENT)
    }, {"./bitmapFontParser": 119, "./spritesheetParser": 122, "./textureParser": 123, "resource-loader": 16}],
    122: [function (require, module, exports) {
      var Resource = require("resource-loader").Resource, path = require("path"), core = require("../core");
      module.exports = function () {
        return function (resource, next) {
          if (!resource.data || !resource.isJson || !resource.data.frames) return next();
          var loadOptions = {crossOrigin: resource.crossOrigin, loadType: Resource.LOAD_TYPE.IMAGE},
            route = path.dirname(resource.url.replace(this.baseUrl, "")),
            resolution = core.utils.getResolutionOfUrl(resource.url);
          this.add(resource.name + "_image", route + "/" + resource.data.meta.image, loadOptions, function (res) {
            resource.textures = {};
            var frames = resource.data.frames;
            for (var i in frames) {
              var rect = frames[i].frame;
              if (rect) {
                var size = null, trim = null;
                if (size = frames[i].rotated ? new core.Rectangle(rect.x, rect.y, rect.h, rect.w) : new core.Rectangle(rect.x, rect.y, rect.w, rect.h), frames[i].trimmed && (trim = new core.Rectangle(frames[i].spriteSourceSize.x / resolution, frames[i].spriteSourceSize.y / resolution, frames[i].sourceSize.w / resolution, frames[i].sourceSize.h / resolution)), frames[i].rotated) {
                  var temp = size.width;
                  size.width = size.height, size.height = temp
                }
                size.x /= resolution, size.y /= resolution, size.width /= resolution, size.height /= resolution, resource.textures[i] = new core.Texture(res.texture.baseTexture, size, size.clone(), trim, frames[i].rotated), core.utils.TextureCache[i] = resource.textures[i]
              }
            }
            next()
          })
        }
      }
    }, {"../core": 28, path: 2, "resource-loader": 16}],
    123: [function (require, module, exports) {
      var core = require("../core");
      module.exports = function () {
        return function (resource, next) {
          if (resource.data && resource.isImage) {
            var baseTexture = new core.BaseTexture(resource.data, null, core.utils.getResolutionOfUrl(resource.url));
            baseTexture.imageUrl = resource.url, resource.texture = new core.Texture(baseTexture), core.utils.BaseTextureCache[resource.url] = baseTexture, core.utils.TextureCache[resource.url] = resource.texture
          }
          next()
        }
      }
    }, {"../core": 28}],
    124: [function (require, module, exports) {
      function Mesh (texture, vertices, uvs, indices, drawMode) {
        core.Container.call(this), this._texture = null, this.uvs = uvs || new Float32Array([0, 1, 1, 1, 1, 0, 0, 1]), this.vertices = vertices || new Float32Array([0, 0, 100, 0, 100, 100, 0, 100]), this.indices = indices || new Uint16Array([0, 1, 2, 3]), this.dirty = !0, this.blendMode = core.BLEND_MODES.NORMAL, this.canvasPadding = 0, this.drawMode = drawMode || Mesh.DRAW_MODES.TRIANGLE_MESH, this.texture = texture, this.shader = null
      }

      var core = require("../core"), tempPoint = new core.Point, tempPolygon = new core.Polygon;
      Mesh.prototype = Object.create(core.Container.prototype), Mesh.prototype.constructor = Mesh, module.exports = Mesh, Object.defineProperties(Mesh.prototype, {
        texture: {
          get: function () {
            return this._texture
          }, set: function (value) {
            this._texture !== value && (this._texture = value, value && (value.baseTexture.hasLoaded ? this._onTextureUpdate() : value.once("update", this._onTextureUpdate, this)))
          }
        }
      }), Mesh.prototype._renderWebGL = function (renderer) {
        renderer.setObjectRenderer(renderer.plugins.mesh), renderer.plugins.mesh.render(this)
      }, Mesh.prototype._renderCanvas = function (renderer) {
        var context = renderer.context, transform = this.worldTransform;
        renderer.roundPixels ? context.setTransform(transform.a, transform.b, transform.c, transform.d, 0 | transform.tx, 0 | transform.ty) : context.setTransform(transform.a, transform.b, transform.c, transform.d, transform.tx, transform.ty), this.drawMode === Mesh.DRAW_MODES.TRIANGLE_MESH ? this._renderCanvasTriangleMesh(context) : this._renderCanvasTriangles(context)
      }, Mesh.prototype._renderCanvasTriangleMesh = function (context) {
        for (var vertices = this.vertices, uvs = this.uvs, length = vertices.length / 2, i = 0; i < length - 2; i++) {
          var index = 2 * i;
          this._renderCanvasDrawTriangle(context, vertices, uvs, index, index + 2, index + 4)
        }
      }, Mesh.prototype._renderCanvasTriangles = function (context) {
        for (var vertices = this.vertices, uvs = this.uvs, indices = this.indices, length = indices.length, i = 0; i < length; i += 3) {
          var index0 = 2 * indices[i], index1 = 2 * indices[i + 1], index2 = 2 * indices[i + 2];
          this._renderCanvasDrawTriangle(context, vertices, uvs, index0, index1, index2)
        }
      }, Mesh.prototype._renderCanvasDrawTriangle = function (context, vertices, uvs, index0, index1, index2) {
        var textureSource = this._texture.baseTexture.source, textureWidth = this._texture.baseTexture.width,
          textureHeight = this._texture.baseTexture.height, x0 = vertices[index0], x1 = vertices[index1],
          x2 = vertices[index2], y0 = vertices[index0 + 1], y1 = vertices[index1 + 1], y2 = vertices[index2 + 1],
          u0 = uvs[index0] * textureWidth, u1 = uvs[index1] * textureWidth, u2 = uvs[index2] * textureWidth,
          v0 = uvs[index0 + 1] * textureHeight, v1 = uvs[index1 + 1] * textureHeight,
          v2 = uvs[index2 + 1] * textureHeight;
        if (this.canvasPadding > 0) {
          var paddingX = this.canvasPadding / this.worldTransform.a,
            paddingY = this.canvasPadding / this.worldTransform.d, centerX = (x0 + x1 + x2) / 3,
            centerY = (y0 + y1 + y2) / 3, normX = x0 - centerX, normY = y0 - centerY,
            dist = Math.sqrt(normX * normX + normY * normY);
          x0 = centerX + normX / dist * (dist + paddingX), y0 = centerY + normY / dist * (dist + paddingY), normX = x1 - centerX, normY = y1 - centerY, dist = Math.sqrt(normX * normX + normY * normY), x1 = centerX + normX / dist * (dist + paddingX), y1 = centerY + normY / dist * (dist + paddingY), normX = x2 - centerX, normY = y2 - centerY, dist = Math.sqrt(normX * normX + normY * normY), x2 = centerX + normX / dist * (dist + paddingX), y2 = centerY + normY / dist * (dist + paddingY)
        }
        context.save(), context.beginPath(), context.moveTo(x0, y0), context.lineTo(x1, y1), context.lineTo(x2, y2), context.closePath(), context.clip();
        var delta = u0 * v1 + v0 * u2 + u1 * v2 - v1 * u2 - v0 * u1 - u0 * v2,
          deltaA = x0 * v1 + v0 * x2 + x1 * v2 - v1 * x2 - v0 * x1 - x0 * v2,
          deltaB = u0 * x1 + x0 * u2 + u1 * x2 - x1 * u2 - x0 * u1 - u0 * x2,
          deltaC = u0 * v1 * x2 + v0 * x1 * u2 + x0 * u1 * v2 - x0 * v1 * u2 - v0 * u1 * x2 - u0 * x1 * v2,
          deltaD = y0 * v1 + v0 * y2 + y1 * v2 - v1 * y2 - v0 * y1 - y0 * v2,
          deltaE = u0 * y1 + y0 * u2 + u1 * y2 - y1 * u2 - y0 * u1 - u0 * y2,
          deltaF = u0 * v1 * y2 + v0 * y1 * u2 + y0 * u1 * v2 - y0 * v1 * u2 - v0 * u1 * y2 - u0 * y1 * v2;
        context.transform(deltaA / delta, deltaD / delta, deltaB / delta, deltaE / delta, deltaC / delta, deltaF / delta), context.drawImage(textureSource, 0, 0), context.restore()
      }, Mesh.prototype.renderMeshFlat = function (Mesh) {
        var context = this.context, vertices = Mesh.vertices, length = vertices.length / 2;
        context.beginPath();
        for (var i = 1; i < length - 2; i++) {
          var index = 2 * i, x0 = vertices[index], x1 = vertices[index + 2], x2 = vertices[index + 4],
            y0 = vertices[index + 1], y1 = vertices[index + 3], y2 = vertices[index + 5];
          context.moveTo(x0, y0), context.lineTo(x1, y1), context.lineTo(x2, y2)
        }
        context.fillStyle = "#FF0000", context.fill(), context.closePath()
      }, Mesh.prototype._onTextureUpdate = function () {
        this.updateFrame = !0
      }, Mesh.prototype.getBounds = function (matrix) {
        if (!this._currentBounds) {
          for (var worldTransform = matrix || this.worldTransform, a = worldTransform.a, b = worldTransform.b, c = worldTransform.c, d = worldTransform.d, tx = worldTransform.tx, ty = worldTransform.ty, maxX = -(1 / 0), maxY = -(1 / 0), minX = 1 / 0, minY = 1 / 0, vertices = this.vertices, i = 0, n = vertices.length; i < n; i += 2) {
            var rawX = vertices[i], rawY = vertices[i + 1], x = a * rawX + c * rawY + tx, y = d * rawY + b * rawX + ty;
            minX = x < minX ? x : minX, minY = y < minY ? y : minY, maxX = x > maxX ? x : maxX, maxY = y > maxY ? y : maxY
          }
          if (minX === -(1 / 0) || maxY === 1 / 0) return core.Rectangle.EMPTY;
          var bounds = this._bounds;
          bounds.x = minX, bounds.width = maxX - minX, bounds.y = minY, bounds.height = maxY - minY, this._currentBounds = bounds
        }
        return this._currentBounds
      }, Mesh.prototype.containsPoint = function (point) {
        if (!this.getBounds().contains(point.x, point.y)) return !1;
        this.worldTransform.applyInverse(point, tempPoint);
        var i, len, vertices = this.vertices, points = tempPolygon.points;
        if (this.drawMode === Mesh.DRAW_MODES.TRIANGLES) {
          var indices = this.indices;
          for (len = this.indices.length, i = 0; i < len; i += 3) {
            var ind0 = 2 * indices[i], ind1 = 2 * indices[i + 1], ind2 = 2 * indices[i + 2];
            if (points[0] = vertices[ind0], points[1] = vertices[ind0 + 1], points[2] = vertices[ind1], points[3] = vertices[ind1 + 1], points[4] = vertices[ind2], points[5] = vertices[ind2 + 1], tempPolygon.contains(tempPoint.x, tempPoint.y)) return !0
          }
        } else for (len = vertices.length, i = 0; i < len; i += 6) if (points[0] = vertices[i], points[1] = vertices[i + 1], points[2] = vertices[i + 2], points[3] = vertices[i + 3], points[4] = vertices[i + 4], points[5] = vertices[i + 5], tempPolygon.contains(tempPoint.x, tempPoint.y)) return !0;
        return !1
      }, Mesh.DRAW_MODES = {TRIANGLE_MESH: 0, TRIANGLES: 1}
    }, {"../core": 28}],
    125: [function (require, module, exports) {
      function Plane (texture, segmentsX, segmentsY) {
        Mesh.call(this, texture), this._ready = !0, this.segmentsX = segmentsX || 10, this.segmentsY = segmentsY || 10, this.drawMode = Mesh.DRAW_MODES.TRIANGLES, this.refresh()
      }

      var Mesh = require("./Mesh");
      Plane.prototype = Object.create(Mesh.prototype), Plane.prototype.constructor = Plane, module.exports = Plane, Plane.prototype.refresh = function () {
        var total = this.segmentsX * this.segmentsY, verts = [], colors = [], uvs = [], indices = [],
          texture = this.texture, segmentsXSub = this.segmentsX - 1, segmentsYSub = this.segmentsY - 1, i = 0,
          sizeX = texture.width / segmentsXSub, sizeY = texture.height / segmentsYSub;
        for (i = 0; i < total; i++) {
          var x = i % this.segmentsX, y = i / this.segmentsX | 0;
          verts.push(x * sizeX, y * sizeY), uvs.push(x / (this.segmentsX - 1), y / (this.segmentsY - 1))
        }
        var totalSub = segmentsXSub * segmentsYSub;
        for (i = 0; i < totalSub; i++) {
          var xpos = i % segmentsXSub, ypos = i / segmentsXSub | 0, value = ypos * this.segmentsX + xpos,
            value2 = ypos * this.segmentsX + xpos + 1, value3 = (ypos + 1) * this.segmentsX + xpos,
            value4 = (ypos + 1) * this.segmentsX + xpos + 1;
          indices.push(value, value2, value3), indices.push(value2, value4, value3)
        }
        this.vertices = new Float32Array(verts), this.uvs = new Float32Array(uvs), this.colors = new Float32Array(colors), this.indices = new Uint16Array(indices)
      }, Plane.prototype._onTextureUpdate = function () {
        Mesh.prototype._onTextureUpdate.call(this), this._ready && this.refresh()
      }
    }, {"./Mesh": 124}],
    126: [function (require, module, exports) {
      function Rope (texture, points) {
        Mesh.call(this, texture), this.points = points, this.vertices = new Float32Array(4 * points.length), this.uvs = new Float32Array(4 * points.length), this.colors = new Float32Array(2 * points.length), this.indices = new Uint16Array(2 * points.length), this._ready = !0, this.refresh()
      }

      var Mesh = require("./Mesh"), core = require("../core");
      Rope.prototype = Object.create(Mesh.prototype), Rope.prototype.constructor = Rope, module.exports = Rope, Rope.prototype.refresh = function () {
        var points = this.points;
        if (!(points.length < 1) && this._texture._uvs) {
          var uvs = this.uvs, indices = this.indices, colors = this.colors, textureUvs = this._texture._uvs,
            offset = new core.Point(textureUvs.x0, textureUvs.y0),
            factor = new core.Point(textureUvs.x2 - textureUvs.x0, textureUvs.y2 - textureUvs.y0);
          uvs[0] = 0 + offset.x, uvs[1] = 0 + offset.y, uvs[2] = 0 + offset.x, uvs[3] = 1 * factor.y + offset.y, colors[0] = 1, colors[1] = 1, indices[0] = 0, indices[1] = 1;
          for (var point, index, amount, total = points.length, i = 1; i < total; i++) point = points[i], index = 4 * i, amount = i / (total - 1), uvs[index] = amount * factor.x + offset.x, uvs[index + 1] = 0 + offset.y, uvs[index + 2] = amount * factor.x + offset.x, uvs[index + 3] = 1 * factor.y + offset.y, index = 2 * i, colors[index] = 1, colors[index + 1] = 1, index = 2 * i, indices[index] = index, indices[index + 1] = index + 1;
          this.dirty = !0
        }
      }, Rope.prototype._onTextureUpdate = function () {
        Mesh.prototype._onTextureUpdate.call(this), this._ready && this.refresh()
      }, Rope.prototype.updateTransform = function () {
        var points = this.points;
        if (!(points.length < 1)) {
          for (var nextPoint, point, index, ratio, perpLength, num, lastPoint = points[0], perpX = 0, perpY = 0, vertices = this.vertices, total = points.length, i = 0; i < total; i++) point = points[i], index = 4 * i, nextPoint = i < points.length - 1 ? points[i + 1] : point, perpY = -(nextPoint.x - lastPoint.x), perpX = nextPoint.y - lastPoint.y, ratio = 10 * (1 - i / (total - 1)), ratio > 1 && (ratio = 1), perpLength = Math.sqrt(perpX * perpX + perpY * perpY), num = this._texture.height / 2, perpX /= perpLength, perpY /= perpLength, perpX *= num, perpY *= num, vertices[index] = point.x + perpX, vertices[index + 1] = point.y + perpY, vertices[index + 2] = point.x - perpX, vertices[index + 3] = point.y - perpY, lastPoint = point;
          this.containerUpdateTransform()
        }
      }
    }, {"../core": 28, "./Mesh": 124}],
    127: [function (require, module, exports) {
      module.exports = {
        Mesh: require("./Mesh"),
        Plane: require("./Plane"),
        Rope: require("./Rope"),
        MeshRenderer: require("./webgl/MeshRenderer"),
        MeshShader: require("./webgl/MeshShader")
      }
    }, {"./Mesh": 124, "./Plane": 125, "./Rope": 126, "./webgl/MeshRenderer": 128, "./webgl/MeshShader": 129}],
    128: [function (require, module, exports) {
      function MeshRenderer (renderer) {
        core.ObjectRenderer.call(this, renderer), this.indices = new Uint16Array(15e3);
        for (var i = 0, j = 0; i < 15e3; i += 6, j += 4) this.indices[i + 0] = j + 0, this.indices[i + 1] = j + 1, this.indices[i + 2] = j + 2, this.indices[i + 3] = j + 0, this.indices[i + 4] = j + 2, this.indices[i + 5] = j + 3;
        this.currentShader = null
      }

      var core = require("../../core"), Mesh = require("../Mesh");
      MeshRenderer.prototype = Object.create(core.ObjectRenderer.prototype), MeshRenderer.prototype.constructor = MeshRenderer, module.exports = MeshRenderer, core.WebGLRenderer.registerPlugin("mesh", MeshRenderer), MeshRenderer.prototype.onContextChange = function () {
      }, MeshRenderer.prototype.render = function (mesh) {
        mesh._vertexBuffer || this._initWebGL(mesh);
        var renderer = this.renderer, gl = renderer.gl, texture = mesh._texture.baseTexture, shader = mesh.shader,
          drawMode = mesh.drawMode === Mesh.DRAW_MODES.TRIANGLE_MESH ? gl.TRIANGLE_STRIP : gl.TRIANGLES;
        renderer.blendModeManager.setBlendMode(mesh.blendMode), shader = shader ? shader.shaders[gl.id] || shader.getShader(renderer) : renderer.shaderManager.plugins.meshShader, this.renderer.shaderManager.setShader(shader), shader.uniforms.translationMatrix.value = mesh.worldTransform.toArray(!0), shader.uniforms.projectionMatrix.value = renderer.currentRenderTarget.projectionMatrix.toArray(!0), shader.uniforms.alpha.value = mesh.worldAlpha, shader.syncUniforms(), mesh.dirty ? (mesh.dirty = !1, gl.bindBuffer(gl.ARRAY_BUFFER, mesh._vertexBuffer), gl.bufferData(gl.ARRAY_BUFFER, mesh.vertices, gl.STATIC_DRAW), gl.vertexAttribPointer(shader.attributes.aVertexPosition, 2, gl.FLOAT, !1, 0, 0), gl.bindBuffer(gl.ARRAY_BUFFER, mesh._uvBuffer), gl.bufferData(gl.ARRAY_BUFFER, mesh.uvs, gl.STATIC_DRAW), gl.vertexAttribPointer(shader.attributes.aTextureCoord, 2, gl.FLOAT, !1, 0, 0), gl.activeTexture(gl.TEXTURE0), texture._glTextures[gl.id] ? gl.bindTexture(gl.TEXTURE_2D, texture._glTextures[gl.id]) : this.renderer.updateTexture(texture), gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, mesh._indexBuffer), gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, mesh.indices, gl.STATIC_DRAW)) : (gl.bindBuffer(gl.ARRAY_BUFFER, mesh._vertexBuffer), gl.bufferSubData(gl.ARRAY_BUFFER, 0, mesh.vertices), gl.vertexAttribPointer(shader.attributes.aVertexPosition, 2, gl.FLOAT, !1, 0, 0), gl.bindBuffer(gl.ARRAY_BUFFER, mesh._uvBuffer), gl.vertexAttribPointer(shader.attributes.aTextureCoord, 2, gl.FLOAT, !1, 0, 0), gl.activeTexture(gl.TEXTURE0), texture._glTextures[gl.id] ? gl.bindTexture(gl.TEXTURE_2D, texture._glTextures[gl.id]) : this.renderer.updateTexture(texture), gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, mesh._indexBuffer), gl.bufferSubData(gl.ELEMENT_ARRAY_BUFFER, 0, mesh.indices)), gl.drawElements(drawMode, mesh.indices.length, gl.UNSIGNED_SHORT, 0)
      }, MeshRenderer.prototype._initWebGL = function (mesh) {
        var gl = this.renderer.gl;
        mesh._vertexBuffer = gl.createBuffer(), mesh._indexBuffer = gl.createBuffer(), mesh._uvBuffer = gl.createBuffer(), gl.bindBuffer(gl.ARRAY_BUFFER, mesh._vertexBuffer), gl.bufferData(gl.ARRAY_BUFFER, mesh.vertices, gl.DYNAMIC_DRAW), gl.bindBuffer(gl.ARRAY_BUFFER, mesh._uvBuffer), gl.bufferData(gl.ARRAY_BUFFER, mesh.uvs, gl.STATIC_DRAW), mesh.colors && (mesh._colorBuffer = gl.createBuffer(), gl.bindBuffer(gl.ARRAY_BUFFER, mesh._colorBuffer), gl.bufferData(gl.ARRAY_BUFFER, mesh.colors, gl.STATIC_DRAW)), gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, mesh._indexBuffer), gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, mesh.indices, gl.STATIC_DRAW)
      }, MeshRenderer.prototype.flush = function () {
      }, MeshRenderer.prototype.start = function () {
        this.currentShader = null
      }, MeshRenderer.prototype.destroy = function () {
        core.ObjectRenderer.prototype.destroy.call(this)
      }
    }, {"../../core": 28, "../Mesh": 124}],
    129: [function (require, module, exports) {
      function MeshShader (shaderManager) {
        core.Shader.call(this, shaderManager, ["precision lowp float;", "attribute vec2 aVertexPosition;", "attribute vec2 aTextureCoord;", "uniform mat3 translationMatrix;", "uniform mat3 projectionMatrix;", "varying vec2 vTextureCoord;", "void main(void){", "   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);", "   vTextureCoord = aTextureCoord;", "}"].join("\n"), ["precision lowp float;", "varying vec2 vTextureCoord;", "uniform float alpha;", "uniform sampler2D uSampler;", "void main(void){", "   gl_FragColor = texture2D(uSampler, vTextureCoord) * alpha ;", "}"].join("\n"), {
          alpha: {
            type: "1f",
            value: 0
          },
          translationMatrix: {type: "mat3", value: new Float32Array(9)},
          projectionMatrix: {type: "mat3", value: new Float32Array(9)}
        }, {aVertexPosition: 0, aTextureCoord: 0})
      }

      var core = require("../../core");
      MeshShader.prototype = Object.create(core.Shader.prototype), MeshShader.prototype.constructor = MeshShader, module.exports = MeshShader, core.ShaderManager.registerPlugin("meshShader", MeshShader)
    }, {"../../core": 28}],
    130: [function (require, module, exports) {
      Math.sign || (Math.sign = function (x) {
        return x = +x, 0 === x || isNaN(x) ? x : x > 0 ? 1 : -1
      })
    }, {}],
    131: [function (require, module, exports) {
      Object.assign || (Object.assign = require("object-assign"))
    }, {"object-assign": 11}],
    132: [function (require, module, exports) {
      require("./Object.assign"), require("./requestAnimationFrame"), require("./Math.sign")
    }, {"./Math.sign": 130, "./Object.assign": 131, "./requestAnimationFrame": 133}],
    133: [function (require, module, exports) {
      (function (global) {
        if (Date.now && Date.prototype.getTime || (Date.now = function () {
          return (new Date).getTime()
        }), !global.performance || !global.performance.now) {
          var startTime = Date.now();
          global.performance || (global.performance = {}), global.performance.now = function () {
            return Date.now() - startTime
          }
        }
        for (var lastTime = Date.now(), vendors = ["ms", "moz", "webkit", "o"], x = 0; x < vendors.length && !global.requestAnimationFrame; ++x) global.requestAnimationFrame = global[vendors[x] + "RequestAnimationFrame"], global.cancelAnimationFrame = global[vendors[x] + "CancelAnimationFrame"] || global[vendors[x] + "CancelRequestAnimationFrame"];
        global.requestAnimationFrame || (global.requestAnimationFrame = function (callback) {
          if ("function" != typeof callback) throw new TypeError(callback + "is not a function");
          var currentTime = Date.now(), delay = 16 + lastTime - currentTime;
          return delay < 0 && (delay = 0), lastTime = currentTime, setTimeout(function () {
            lastTime = Date.now(), callback(performance.now())
          }, delay)
        }), global.cancelAnimationFrame || (global.cancelAnimationFrame = function (id) {
          clearTimeout(id)
        })
      }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
    }, {}]
  }, {}, [114])(114)
}), !function (e) {
  if ("object" == typeof exports && "undefined" != typeof module) module.exports = e(); else if ("function" == typeof define && define.amd) define([], e); else {
    var f;
    "undefined" != typeof window ? f = window : "undefined" != typeof global ? f = global : "undefined" != typeof self && (f = self), f.superagent = e()
  }
}(function () {
  return function e (t, n, r) {
    function s (o, u) {
      if (!n[o]) {
        if (!t[o]) {
          var a = "function" == typeof require && require;
          if (!u && a) return a(o, !0);
          if (i) return i(o, !0);
          var f = new Error("Cannot find module '" + o + "'");
          throw f.code = "MODULE_NOT_FOUND", f
        }
        var l = n[o] = {exports: {}};
        t[o][0].call(l.exports, function (e) {
          var n = t[o][1][e];
          return s(n ? n : e)
        }, l, l.exports, e, t, n, r)
      }
      return n[o].exports
    }

    for (var i = "function" == typeof require && require, o = 0; o < r.length; o++) s(r[o]);
    return s
  }({
    1: [function (require, module, exports) {
      function Emitter (obj) {
        if (obj) return mixin(obj)
      }

      function mixin (obj) {
        for (var key in Emitter.prototype) obj[key] = Emitter.prototype[key];
        return obj
      }

      module.exports = Emitter, Emitter.prototype.on = Emitter.prototype.addEventListener = function (event, fn) {
        return this._callbacks = this._callbacks || {}, (this._callbacks[event] = this._callbacks[event] || []).push(fn), this
      }, Emitter.prototype.once = function (event, fn) {
        function on () {
          self.off(event, on), fn.apply(this, arguments)
        }

        var self = this;
        return this._callbacks = this._callbacks || {}, on.fn = fn, this.on(event, on), this
      }, Emitter.prototype.off = Emitter.prototype.removeListener = Emitter.prototype.removeAllListeners = Emitter.prototype.removeEventListener = function (event, fn) {
        if (this._callbacks = this._callbacks || {}, 0 == arguments.length) return this._callbacks = {}, this;
        var callbacks = this._callbacks[event];
        if (!callbacks) return this;
        if (1 == arguments.length) return delete this._callbacks[event], this;
        for (var cb, i = 0; i < callbacks.length; i++) if (cb = callbacks[i], cb === fn || cb.fn === fn) {
          callbacks.splice(i, 1);
          break
        }
        return this
      }, Emitter.prototype.emit = function (event) {
        this._callbacks = this._callbacks || {};
        var args = [].slice.call(arguments, 1), callbacks = this._callbacks[event];
        if (callbacks) {
          callbacks = callbacks.slice(0);
          for (var i = 0, len = callbacks.length; i < len; ++i) callbacks[i].apply(this, args)
        }
        return this
      }, Emitter.prototype.listeners = function (event) {
        return this._callbacks = this._callbacks || {}, this._callbacks[event] || []
      }, Emitter.prototype.hasListeners = function (event) {
        return !!this.listeners(event).length
      }
    }, {}], 2: [function (require, module, exports) {
      module.exports = function (arr, fn, initial) {
        for (var idx = 0, len = arr.length, curr = 3 == arguments.length ? initial : arr[idx++]; idx < len;) curr = fn.call(null, curr, arr[idx], ++idx, arr);
        return curr
      }
    }, {}], 3: [function (require, module, exports) {
      function noop () {
      }

      function isHost (obj) {
        var str = {}.toString.call(obj);
        switch (str) {
          case"[object File]":
          case"[object Blob]":
          case"[object FormData]":
            return !0;
          default:
            return !1
        }
      }

      function isObject (obj) {
        return obj === Object(obj)
      }

      function serialize (obj) {
        if (!isObject(obj)) return obj;
        var pairs = [];
        for (var key in obj) null != obj[key] && pairs.push(encodeURIComponent(key) + "=" + encodeURIComponent(obj[key]));
        return pairs.join("&")
      }

      function parseString (str) {
        for (var parts, pair, obj = {}, pairs = str.split("&"), i = 0, len = pairs.length; i < len; ++i) pair = pairs[i], parts = pair.split("="), obj[decodeURIComponent(parts[0])] = decodeURIComponent(parts[1]);
        return obj
      }

      function parseHeader (str) {
        var index, line, field, val, lines = str.split(/\r?\n/), fields = {};
        lines.pop();
        for (var i = 0, len = lines.length; i < len; ++i) line = lines[i], index = line.indexOf(":"), field = line.slice(0, index).toLowerCase(), val = trim(line.slice(index + 1)), fields[field] = val;
        return fields
      }

      function type (str) {
        return str.split(/ *; */).shift()
      }

      function params (str) {
        return reduce(str.split(/ *; */), function (obj, str) {
          var parts = str.split(/ *= */), key = parts.shift(), val = parts.shift();
          return key && val && (obj[key] = val), obj
        }, {})
      }

      function Response (req, options) {
        options = options || {}, this.req = req, this.xhr = this.req.xhr, this.text = "HEAD" != this.req.method && ("" === this.xhr.responseType || "text" === this.xhr.responseType) || "undefined" == typeof this.xhr.responseType ? this.xhr.responseText : null, this.statusText = this.req.xhr.statusText, this.setStatusProperties(this.xhr.status), this.header = this.headers = parseHeader(this.xhr.getAllResponseHeaders()), this.header["content-type"] = this.xhr.getResponseHeader("content-type"), this.setHeaderProperties(this.header), this.body = "HEAD" != this.req.method ? this.parseBody(this.text ? this.text : this.xhr.response) : null
      }

      function Request (method, url) {
        var self = this;
        Emitter.call(this), this._query = this._query || [], this.method = method, this.url = url, this.header = {}, this._header = {}, this.on("end", function () {
          var err = null, res = null;
          try {
            res = new Response(self)
          } catch (e) {
            return err = new Error("Parser is unable to parse the response"), err.parse = !0, err.original = e, self.callback(err)
          }
          if (self.emit("response", res), err) return self.callback(err, res);
          if (res.status >= 200 && res.status < 300) return self.callback(err, res);
          var new_err = new Error(res.statusText || "Unsuccessful HTTP response");
          new_err.original = err, new_err.response = res, new_err.status = res.status, self.callback(new_err, res)
        })
      }

      function request (method, url) {
        return "function" == typeof url ? new Request("GET", method).end(url) : 1 == arguments.length ? new Request("GET", method) : new Request(method, url)
      }

      var Emitter = require("emitter"), reduce = require("reduce"),
        root = "undefined" == typeof window ? this || self : window;
      request.getXHR = function () {
        if (!(!root.XMLHttpRequest || root.location && "file:" == root.location.protocol && root.ActiveXObject)) return new XMLHttpRequest;
        try {
          return new ActiveXObject("Microsoft.XMLHTTP")
        } catch (e) {
        }
        try {
          return new ActiveXObject("Msxml2.XMLHTTP.6.0")
        } catch (e) {
        }
        try {
          return new ActiveXObject("Msxml2.XMLHTTP.3.0")
        } catch (e) {
        }
        try {
          return new ActiveXObject("Msxml2.XMLHTTP")
        } catch (e) {
        }
        return !1
      };
      var trim = "".trim ? function (s) {
        return s.trim();
      } : function (s) {
        return s.replace(/(^\s*|\s*$)/g, "")
      };
      request.serializeObject = serialize, request.parseString = parseString, request.types = {
        html: "text/html",
        json: "application/json",
        xml: "application/xml",
        urlencoded: "application/x-www-form-urlencoded",
        form: "application/x-www-form-urlencoded",
        "form-data": "application/x-www-form-urlencoded"
      }, request.serialize = {
        "application/x-www-form-urlencoded": serialize,
        "application/json": JSON.stringify
      }, request.parse = {
        "application/x-www-form-urlencoded": parseString,
        "application/json": JSON.parse
      }, Response.prototype.get = function (field) {
        return this.header[field.toLowerCase()]
      }, Response.prototype.setHeaderProperties = function (header) {
        var ct = this.header["content-type"] || "";
        this.type = type(ct);
        var obj = params(ct);
        for (var key in obj) this[key] = obj[key]
      }, Response.prototype.parseBody = function (str) {
        var parse = request.parse[this.type];
        return parse && str && (str.length || str instanceof Object) ? parse(str) : null
      }, Response.prototype.setStatusProperties = function (status) {
        1223 === status && (status = 204);
        var type = status / 100 | 0;
        this.status = status, this.statusType = type, this.info = 1 == type, this.ok = 2 == type, this.clientError = 4 == type, this.serverError = 5 == type, this.error = (4 == type || 5 == type) && this.toError(), this.accepted = 202 == status, this.noContent = 204 == status, this.badRequest = 400 == status, this.unauthorized = 401 == status, this.notAcceptable = 406 == status, this.notFound = 404 == status, this.forbidden = 403 == status
      }, Response.prototype.toError = function () {
        var req = this.req, method = req.method, url = req.url,
          msg = "cannot " + method + " " + url + " (" + this.status + ")", err = new Error(msg);
        return err.status = this.status, err.method = method, err.url = url, err
      }, request.Response = Response, Emitter(Request.prototype), Request.prototype.use = function (fn) {
        return fn(this), this
      }, Request.prototype.timeout = function (ms) {
        return this._timeout = ms, this
      }, Request.prototype.clearTimeout = function () {
        return this._timeout = 0, clearTimeout(this._timer), this
      }, Request.prototype.abort = function () {
        if (!this.aborted) return this.aborted = !0, this.xhr.abort(), this.clearTimeout(), this.emit("abort"), this
      }, Request.prototype.set = function (field, val) {
        if (isObject(field)) {
          for (var key in field) this.set(key, field[key]);
          return this
        }
        return this._header[field.toLowerCase()] = val, this.header[field] = val, this
      }, Request.prototype.unset = function (field) {
        return delete this._header[field.toLowerCase()], delete this.header[field], this
      }, Request.prototype.getHeader = function (field) {
        return this._header[field.toLowerCase()]
      }, Request.prototype.type = function (type) {
        return this.set("Content-Type", request.types[type] || type), this
      }, Request.prototype.accept = function (type) {
        return this.set("Accept", request.types[type] || type), this
      }, Request.prototype.auth = function (user, pass) {
        var str = btoa(user + ":" + pass);
        return this.set("Authorization", "Basic " + str), this
      }, Request.prototype.query = function (val) {
        return "string" != typeof val && (val = serialize(val)), val && this._query.push(val), this
      }, Request.prototype.field = function (name, val) {
        return this._formData || (this._formData = new root.FormData), this._formData.append(name, val), this
      }, Request.prototype.attach = function (field, file, filename) {
        return this._formData || (this._formData = new root.FormData), this._formData.append(field, file, filename), this
      }, Request.prototype.send = function (data) {
        var obj = isObject(data), type = this.getHeader("Content-Type");
        if (obj && isObject(this._data)) for (var key in data) this._data[key] = data[key]; else "string" == typeof data ? (type || this.type("form"), type = this.getHeader("Content-Type"), "application/x-www-form-urlencoded" == type ? this._data = this._data ? this._data + "&" + data : data : this._data = (this._data || "") + data) : this._data = data;
        return !obj || isHost(data) ? this : (type || this.type("json"), this)
      }, Request.prototype.callback = function (err, res) {
        var fn = this._callback;
        this.clearTimeout(), fn(err, res)
      }, Request.prototype.crossDomainError = function () {
        var err = new Error("Origin is not allowed by Access-Control-Allow-Origin");
        err.crossDomain = !0, this.callback(err)
      }, Request.prototype.timeoutError = function () {
        var timeout = this._timeout, err = new Error("timeout of " + timeout + "ms exceeded");
        err.timeout = timeout, this.callback(err)
      }, Request.prototype.withCredentials = function () {
        return this._withCredentials = !0, this
      }, Request.prototype.end = function (fn) {
        var self = this, xhr = this.xhr = request.getXHR(), query = this._query.join("&"), timeout = this._timeout,
          data = this._formData || this._data;
        this._callback = fn || noop, xhr.onreadystatechange = function () {
          if (4 == xhr.readyState) {
            var status;
            try {
              status = xhr.status
            } catch (e) {
              status = 0
            }
            if (0 == status) {
              if (self.timedout) return self.timeoutError();
              if (self.aborted) return;
              return self.crossDomainError()
            }
            self.emit("end")
          }
        };
        var handleProgress = function (e) {
          e.total > 0 && (e.percent = e.loaded / e.total * 100), self.emit("progress", e)
        };
        this.hasListeners("progress") && (xhr.onprogress = handleProgress);
        try {
          xhr.upload && this.hasListeners("progress") && (xhr.upload.onprogress = handleProgress)
        } catch (e) {
        }
        if (timeout && !this._timer && (this._timer = setTimeout(function () {
          self.timedout = !0, self.abort()
        }, timeout)), query && (query = request.serializeObject(query), this.url += ~this.url.indexOf("?") ? "&" + query : "?" + query), xhr.open(this.method, this.url, !0), this._withCredentials && (xhr.withCredentials = !0), "GET" != this.method && "HEAD" != this.method && "string" != typeof data && !isHost(data)) {
          var contentType = this.getHeader("Content-Type"),
            serialize = request.serialize[contentType ? contentType.split(";")[0] : ""];
          serialize && (data = serialize(data))
        }
        for (var field in this.header) null != this.header[field] && xhr.setRequestHeader(field, this.header[field]);
        return this.emit("request", this), xhr.send(data), this
      }, Request.prototype.then = function (fulfill, reject) {
        return this.end(function (err, res) {
          err ? reject(err) : fulfill(res)
        })
      }, request.Request = Request, request.get = function (url, data, fn) {
        var req = request("GET", url);
        return "function" == typeof data && (fn = data, data = null), data && req.query(data), fn && req.end(fn), req
      }, request.head = function (url, data, fn) {
        var req = request("HEAD", url);
        return "function" == typeof data && (fn = data, data = null), data && req.send(data), fn && req.end(fn), req
      }, request.del = function (url, fn) {
        var req = request("DELETE", url);
        return fn && req.end(fn), req
      }, request.patch = function (url, data, fn) {
        var req = request("PATCH", url);
        return "function" == typeof data && (fn = data, data = null), data && req.send(data), fn && req.end(fn), req
      }, request.post = function (url, data, fn) {
        var req = request("POST", url);
        return "function" == typeof data && (fn = data, data = null), data && req.send(data), fn && req.end(fn), req
      }, request.put = function (url, data, fn) {
        var req = request("PUT", url);
        return "function" == typeof data && (fn = data, data = null), data && req.send(data), fn && req.end(fn), req
      }, module.exports = request
    }, {emitter: 1, reduce: 2}]
  }, {}, [3])(3)
}), function e (t, n, r) {
  function s (o, u) {
    if (!n[o]) {
      if (!t[o]) {
        var a = "function" == typeof require && require;
        if (!u && a) return a(o, !0);
        if (i) return i(o, !0);
        var f = new Error("Cannot find module '" + o + "'");
        throw f.code = "MODULE_NOT_FOUND", f
      }
      var l = n[o] = {exports: {}};
      t[o][0].call(l.exports, function (e) {
        var n = t[o][1][e];
        return s(n ? n : e)
      }, l, l.exports, e, t, n, r)
    }
    return n[o].exports
  }

  for (var i = "function" == typeof require && require, o = 0; o < r.length; o++) s(r[o]);
  return s
}({
  1: [function (require, module, exports) {
    "use strict";

    function _classCallCheck (instance, Constructor) {
      if (!(instance instanceof Constructor)) throw new TypeError("Cannot call a class as a function")
    }

    var _createClass = function () {
      function defineProperties (target, props) {
        for (var i = 0; i < props.length; i++) {
          var descriptor = props[i];
          descriptor.enumerable = descriptor.enumerable || !1, descriptor.configurable = !0, "value" in descriptor && (descriptor.writable = !0), Object.defineProperty(target, descriptor.key, descriptor)
        }
      }

      return function (Constructor, protoProps, staticProps) {
        return protoProps && defineProperties(Constructor.prototype, protoProps), staticProps && defineProperties(Constructor, staticProps), Constructor
      }
    }(), loop = require("fz/core/loop"), stage = require("fz/core/stage"), Engine = function () {
      function Engine () {
        _classCallCheck(this, Engine);
        var opts = {antialias: !0, resolution: 2, transparent: !0, backgroundColor: 15329769};
        isMobile && (opts.antialias = !1), isMobile ? this.renderer = new PIXI.CanvasRenderer(0, 0, opts) : this.renderer = new PIXI.autoDetectRenderer(0, 0, opts), this.width = 0, this.height = 0, this.stage = new PIXI.Container, this.dom = this.renderer.view, this._isPaused = !0, this._binds = {}, this._binds.onUpdate = this._onUpdate.bind(this), this._binds.onResize = this._onResize.bind(this)
      }

      return _createClass(Engine, [{
        key: "_onUpdate", value: function () {
          this.renderer.render(this.stage)
        }
      }, {
        key: "_onResize", value: function () {
          this.width = stage.width, this.height = stage.height, this.renderer.resize(this.width, this.height), this.renderer.view.style.width = this.width + "px", this.renderer.view.style.height = this.height + "px"
        }
      }, {
        key: "init", value: function () {
          this.resume(), stage.on("resize", this._binds.onResize), this._onResize()
        }
      }, {
        key: "resume", value: function () {
          this._isPaused && (loop.add(this._binds.onUpdate), this._isPaused = !1)
        }
      }, {
        key: "pause", value: function () {
          this._isPaused || (loop.remove(this._binds.onUpdate), this._isPaused = !0)
        }
      }]), Engine
    }();
    module.exports = new Engine
  }, {"fz/core/loop": 3, "fz/core/stage": 4}],
  2: [function (require, module, exports) {
    "use strict";

    function getEvent (action) {
      var evt = "";
      if (isTouchDevice) if (window.navigator.msPointerEnabled) switch (action) {
        case"down":
          evt = "MSPointerDown";
          break;
        case"move":
          evt = "MSPointerMove";
          break;
        case"up":
          evt = "MSPointerUp";
          break;
        case"click":
          evt = "MSPointerUp"
      } else switch (action) {
        case"down":
          evt = "touchstart";
          break;
        case"move":
          evt = "touchmove";
          break;
        case"up":
          evt = "touchend";
          break;
        case"click":
          evt = "touchstart"
      } else switch (action) {
        case"down":
          evt = "mousedown";
          break;
        case"move":
          evt = "mousemove";
          break;
        case"up":
          evt = "mouseup";
          break;
        case"click":
          evt = "click";
          break;
        case"over":
          evt = browsers.safari ? "mouseover" : "mouseenter";
          break;
        case"out":
          evt = browsers.safari ? "mouseout" : "mouseleave"
      }
      return evt
    }

    function getObj (action) {
      switch (action) {
        case"down":
          return downs;
        case"move":
          return moves;
        case"up":
          return ups;
        case"click":
          return clicks;
        case"over":
          return overs;
        case"out":
          return outs
      }
    }

    function find (cb, datas) {
      for (var data = null, i = 0, n = datas.length; i < n; i++) if (data = datas[i], data.cb == cb) return {
        data: data,
        idx: i
      };
      return null
    }

    var browsers = require("fz/utils/browsers"), downs = {}, moves = {}, ups = {}, clicks = {}, overs = {}, outs = {},
      interactions = [downs, moves, ups, clicks], isTouchDevice = browsers.mobile || browsers.tablet;
    module.exports.on = function (elt, action, cb) {
      function proxy (e) {
        if (e = {
          x: 0,
          y: 0,
          origin: e
        }, isTouchDevice) if (window.navigator.msPointerEnabled) e.x = e.origin.clientX, e.y = e.origin.clientY; else {
          var touch = e.origin.touches[0];
          touch && (e.x = touch.clientX, e.y = touch.clientY)
        } else e.x = e.origin.clientX, e.y = e.origin.clientY;
        cb.call(this, e)
      }

      var evt = getEvent(action);
      if ("" != evt) {
        var obj = getObj(action);
        obj[elt] || (obj[elt] = []);
        obj[elt].push({cb: cb, proxy: proxy}), elt.addEventListener(evt, proxy, !1)
      }
    }, module.exports.off = function (elt, action, cb) {
      var evt = getEvent(action);
      if ("" != evt) {
        var obj = getObj(action);
        if (obj[elt]) {
          var datas = obj[elt];
          if (cb) {
            var result = find(cb, datas);
            if (!result) return;
            elt.removeEventListener(evt, result.data.proxy, !1), obj[elt].splice(result.idx, 1)
          } else {
            for (var data = null, i = 0, n = datas.length; i < n; i++) data = datas[i], elt.removeEventListener(evt, data.proxy, !1);
            obj[elt] = null, delete obj[elt]
          }
        }
      }
    }, module.exports.has = function (elt, action, cb) {
      var evt = getEvent(action);
      if ("" != evt) {
        var obj = getObj(action);
        if (obj[elt]) {
          obj[elt];
          return !!cb
        }
      }
    }, module.exports.unbind = function (elt) {
      for (var i = 0, n = interactions.length; i < n; i++) interactions[i][elt] = null, delete interactions[i][elt]
    }
  }, {"fz/utils/browsers": 6}],
  3: [function (require, module, exports) {
    "use strict";

    function _classCallCheck (instance, Constructor) {
      if (!(instance instanceof Constructor)) throw new TypeError("Cannot call a class as a function")
    }

    var _createClass = function () {
      function defineProperties (target, props) {
        for (var i = 0; i < props.length; i++) {
          var descriptor = props[i];
          descriptor.enumerable = descriptor.enumerable || !1, descriptor.configurable = !0, "value" in descriptor && (descriptor.writable = !0), Object.defineProperty(target, descriptor.key, descriptor)
        }
      }

      return function (Constructor, protoProps, staticProps) {
        return protoProps && defineProperties(Constructor.prototype, protoProps), staticProps && defineProperties(Constructor, staticProps), Constructor
      }
    }(), Loop = function () {
      function Loop () {
        _classCallCheck(this, Loop), this._idRAF = -1, this._count = 0, this._listeners = [], this._binds = {}, this._binds.update = this._update.bind(this)
      }

      return _createClass(Loop, [{
        key: "_update", value: function () {
          for (var listener = null, i = this._count; --i >= 0;) listener = this._listeners[i], listener && listener.apply(this, null);
          this._idRAF = requestAnimationFrame(this._binds.update)
        }
      }, {
        key: "start", value: function () {
          this._update()
        }
      }, {
        key: "stop", value: function () {
          cancelAnimationFrame(this._idRAF)
        }
      }, {
        key: "add", value: function (listener) {
          var idx = this._listeners.indexOf(listener);
          idx >= 0 || (this._listeners.push(listener), this._count++)
        }
      }, {
        key: "remove", value: function (listener) {
          var idx = this._listeners.indexOf(listener);
          idx < 0 || (this._listeners.splice(idx, 1), this._count--)
        }
      }]), Loop
    }();
    module.exports = new Loop
  }, {}],
  4: [function (require, module, exports) {
    "use strict";

    function _classCallCheck (instance, Constructor) {
      if (!(instance instanceof Constructor)) throw new TypeError("Cannot call a class as a function")
    }

    function _possibleConstructorReturn (self, call) {
      if (!self) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      return !call || "object" != typeof call && "function" != typeof call ? self : call
    }

    function _inherits (subClass, superClass) {
      if ("function" != typeof superClass && null !== superClass) throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
      subClass.prototype = Object.create(superClass && superClass.prototype, {
        constructor: {
          value: subClass,
          enumerable: !1,
          writable: !0,
          configurable: !0
        }
      }), superClass && (Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass)
    }

    var _createClass = function () {
      function defineProperties (target, props) {
        for (var i = 0; i < props.length; i++) {
          var descriptor = props[i];
          descriptor.enumerable = descriptor.enumerable || !1, descriptor.configurable = !0, "value" in descriptor && (descriptor.writable = !0), Object.defineProperty(target, descriptor.key, descriptor)
        }
      }

      return function (Constructor, protoProps, staticProps) {
        return protoProps && defineProperties(Constructor.prototype, protoProps), staticProps && defineProperties(Constructor, staticProps), Constructor
      }
    }(), timeout = require("fz/utils/timeout"), Emitter = require("fz/events/Emitter"), Stage = function (_Emitter) {
      function Stage () {
        _classCallCheck(this, Stage);
        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Stage).call(this));
        return _this.width = 0, _this.height = 0, _this.resolution = window.devicePixelRatio, _this._binds = {}, _this._binds.onResize = _this._onResize.bind(_this), _this._binds.update = _this._update.bind(_this), _this
      }

      return _inherits(Stage, _Emitter), _createClass(Stage, [{
        key: "_onResize", value: function () {
          timeout(this._binds.update, 10)
        }
      }, {
        key: "init", value: function () {
          var andDispatch = arguments.length <= 0 || void 0 === arguments[0] || arguments[0];
          window.addEventListener("resize", this._binds.onResize, !1), window.addEventListener("orientationchange", this._binds.onResize, !1), andDispatch && this._update()
        }
      }, {
        key: "_update", value: function () {
          this.width = window.innerWidth, this.height = window.innerHeight, this.emit("resize")
        }
      }, {
        key: "forceResize", value: function () {
          var withDelay = !(arguments.length <= 0 || void 0 === arguments[0]) && arguments[0];
          return withDelay ? void this._onResize() : void this._update()
        }
      }]), Stage
    }(Emitter);
    module.exports = new Stage
  }, {"fz/events/Emitter": 5, "fz/utils/timeout": 9}],
  5: [function (require, module, exports) {
    "use strict";

    function Emitter (obj) {
      if (obj) return mixin(obj)
    }

    function mixin (obj) {
      for (var key in Emitter.prototype) obj[key] = Emitter.prototype[key];
      return obj
    }

    Emitter.prototype.on = Emitter.prototype.addEventListener = function (event, fn) {
      return this._callbacks = this._callbacks || {}, (this._callbacks["$" + event] = this._callbacks["$" + event] || []).push(fn), this
    }, Emitter.prototype.once = function (event, fn) {
      function on () {
        this.off(event, on), fn.apply(this, arguments)
      }

      return on.fn = fn, this.on(event, on), this
    }, Emitter.prototype.off = Emitter.prototype.removeListener = Emitter.prototype.removeAllListeners = Emitter.prototype.removeEventListener = function (event, fn) {
      if (this._callbacks = this._callbacks || {}, 0 == arguments.length) return this._callbacks = {}, this;
      var callbacks = this._callbacks["$" + event];
      if (!callbacks) return this;
      if (1 == arguments.length) return delete this._callbacks["$" + event], this;
      for (var cb, i = 0; i < callbacks.length; i++) if (cb = callbacks[i], cb === fn || cb.fn === fn) {
        callbacks.splice(i, 1);
        break
      }
      return this
    }, Emitter.prototype.emit = function (event) {
      this._callbacks = this._callbacks || {};
      var args = [].slice.call(arguments, 1), callbacks = this._callbacks["$" + event];
      if (callbacks) {
        callbacks = callbacks.slice(0);
        for (var i = 0, len = callbacks.length; i < len; ++i) callbacks[i].apply(this, args)
      }
      return this
    }, Emitter.prototype.listeners = function (event) {
      return this._callbacks = this._callbacks || {}, this._callbacks["$" + event] || []
    }, Emitter.prototype.hasListeners = function (event) {
      return !!this.listeners(event).length
    }, module.exports = Emitter
  }, {}],
  6: [function (require, module, exports) {
    "use strict";
    !function (name, definition) {
      "undefined" != typeof module && module.exports ? module.exports = definition() : "function" == typeof define && define.amd ? define(definition) : this[name] = definition()
    }("bowser", function () {
      function detect (ua) {
        function getFirstMatch (regex) {
          var match = ua.match(regex);
          return match && match.length > 1 && match[1] || ""
        }

        function getSecondMatch (regex) {
          var match = ua.match(regex);
          return match && match.length > 1 && match[2] || ""
        }

        var result, iosdevice = getFirstMatch(/(ipod|iphone|ipad)/i).toLowerCase(),
          likeAndroid = /like android/i.test(ua), android = !likeAndroid && /android/i.test(ua),
          chromeBook = /CrOS/.test(ua), edgeVersion = getFirstMatch(/edge\/(\d+(\.\d+)?)/i),
          versionIdentifier = getFirstMatch(/version\/(\d+(\.\d+)?)/i), tablet = /tablet/i.test(ua),
          mobile = !tablet && /[^-]mobi/i.test(ua);
        /opera|opr/i.test(ua) ? result = {
          name: "Opera",
          opera: t,
          version: versionIdentifier || getFirstMatch(/(?:opera|opr)[\s\/](\d+(\.\d+)?)/i)
        } : /yabrowser/i.test(ua) ? result = {
          name: "Yandex Browser",
          yandexbrowser: t,
          version: versionIdentifier || getFirstMatch(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)
        } : /windows phone/i.test(ua) ? (result = {
          name: "Windows Phone",
          windowsphone: t
        }, edgeVersion ? (result.msedge = t, result.version = edgeVersion) : (result.msie = t, result.version = getFirstMatch(/iemobile\/(\d+(\.\d+)?)/i))) : /msie|trident/i.test(ua) ? result = {
          name: "Internet Explorer",
          msie: t,
          version: getFirstMatch(/(?:msie |rv:)(\d+(\.\d+)?)/i)
        } : chromeBook ? result = {
          name: "Chrome",
          chromeBook: t,
          chrome: t,
          version: getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)
        } : /chrome.+? edge/i.test(ua) ? result = {
          name: "Microsoft Edge",
          msedge: t,
          version: edgeVersion
        } : /chrome|crios|crmo/i.test(ua) ? result = {
          name: "Chrome",
          chrome: t,
          version: getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)
        } : iosdevice ? (result = {name: "iphone" == iosdevice ? "iPhone" : "ipad" == iosdevice ? "iPad" : "iPod"}, versionIdentifier && (result.version = versionIdentifier)) : /sailfish/i.test(ua) ? result = {
          name: "Sailfish",
          sailfish: t,
          version: getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i)
        } : /seamonkey\//i.test(ua) ? result = {
          name: "SeaMonkey",
          seamonkey: t,
          version: getFirstMatch(/seamonkey\/(\d+(\.\d+)?)/i)
        } : /firefox|iceweasel/i.test(ua) ? (result = {
          name: "Firefox",
          firefox: t,
          version: getFirstMatch(/(?:firefox|iceweasel)[ \/](\d+(\.\d+)?)/i)
        }, /\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(ua) && (result.firefoxos = t)) : /silk/i.test(ua) ? result = {
          name: "Amazon Silk",
          silk: t,
          version: getFirstMatch(/silk\/(\d+(\.\d+)?)/i)
        } : android ? result = {
          name: "Android",
          version: versionIdentifier
        } : /phantom/i.test(ua) ? result = {
          name: "PhantomJS",
          phantom: t,
          version: getFirstMatch(/phantomjs\/(\d+(\.\d+)?)/i)
        } : /blackberry|\bbb\d+/i.test(ua) || /rim\stablet/i.test(ua) ? result = {
          name: "BlackBerry",
          blackberry: t,
          version: versionIdentifier || getFirstMatch(/blackberry[\d]+\/(\d+(\.\d+)?)/i)
        } : /(web|hpw)os/i.test(ua) ? (result = {
          name: "WebOS",
          webos: t,
          version: versionIdentifier || getFirstMatch(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)
        }, /touchpad\//i.test(ua) && (result.touchpad = t)) : result = /bada/i.test(ua) ? {
          name: "Bada",
          bada: t,
          version: getFirstMatch(/dolfin\/(\d+(\.\d+)?)/i)
        } : /tizen/i.test(ua) ? {
          name: "Tizen",
          tizen: t,
          version: getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i) || versionIdentifier
        } : /safari/i.test(ua) ? {
          name: "Safari",
          safari: t,
          version: versionIdentifier
        } : {
          name: getFirstMatch(/^(.*)\/(.*) /),
          version: getSecondMatch(/^(.*)\/(.*) /)
        }, !result.msedge && /(apple)?webkit/i.test(ua) ? (result.name = result.name || "Webkit", result.webkit = t, !result.version && versionIdentifier && (result.version = versionIdentifier)) : !result.opera && /gecko\//i.test(ua) && (result.name = result.name || "Gecko", result.gecko = t, result.version = result.version || getFirstMatch(/gecko\/(\d+(\.\d+)?)/i)), result.msedge || !android && !result.silk ? iosdevice && (result[iosdevice] = t, result.ios = t) : result.android = t;
        var osVersion = "";
        result.windowsphone ? osVersion = getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i) : iosdevice ? (osVersion = getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i), osVersion = osVersion.replace(/[_\s]/g, ".")) : android ? osVersion = getFirstMatch(/android[ \/-](\d+(\.\d+)*)/i) : result.webos ? osVersion = getFirstMatch(/(?:web|hpw)os\/(\d+(\.\d+)*)/i) : result.blackberry ? osVersion = getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i) : result.bada ? osVersion = getFirstMatch(/bada\/(\d+(\.\d+)*)/i) : result.tizen && (osVersion = getFirstMatch(/tizen[\/\s](\d+(\.\d+)*)/i)), osVersion && (result.osversion = osVersion);
        var osMajorVersion = osVersion.split(".")[0];
        return tablet || "ipad" == iosdevice || android && (3 == osMajorVersion || 4 == osMajorVersion && !mobile) || result.silk ? result.tablet = t : (mobile || "iphone" == iosdevice || "ipod" == iosdevice || android || result.blackberry || result.webos || result.bada) && (result.mobile = t), result.msedge || result.msie && result.version >= 10 || result.yandexbrowser && result.version >= 15 || result.chrome && result.version >= 20 || result.firefox && result.version >= 20 || result.safari && result.version >= 6 || result.opera && result.version >= 10 || result.ios && result.osversion && result.osversion.split(".")[0] >= 6 || result.blackberry && result.version >= 10.1 ? result.a = t : result.msie && result.version < 10 || result.chrome && result.version < 20 || result.firefox && result.version < 20 || result.safari && result.version < 6 || result.opera && result.version < 10 || result.ios && result.osversion && result.osversion.split(".")[0] < 6 ? result.c = t : result.x = t, result
      }

      var t = !0, bowser = detect("undefined" != typeof navigator ? navigator.userAgent : "");
      return bowser.test = function (browserList) {
        for (var i = 0; i < browserList.length; ++i) {
          var browserItem = browserList[i];
          if ("string" == typeof browserItem && browserItem in bowser) return !0
        }
        return !1
      }, bowser._detect = detect, bowser
    })
  }, {}],
  7: [function (require, module, exports) {
    "use strict";
    module.exports.fit = function (wImg, hImg, wHolder, hHolder) {
      var sw = wImg / wHolder, sh = hImg / hHolder, ratio = 0;
      ratio = sw > sh ? sh : sw, ratio = 1 / ratio;
      var w = wImg * ratio, h = hImg * ratio, x = wHolder - w >> 1, y = hHolder - h >> 1;
      return {x: x, y: y, w: w, h: h}
    }
  }, {}],
  8: [function (require, module, exports) {
    "use strict";
    module.exports = function () {
      var perf = window && window.performance;
      return perf && perf.now ? perf.now.bind(perf) : function () {
        return (new Date).getTime()
      }
    }()
  }, {}],
  9: [function (require, module, exports) {
    "use strict";
    var now = require("fz/utils/now");
    module.exports = function (fn, delay) {
      function lp () {
        now() - start >= delay ? fn.call() : data.id = requestAnimationFrame(lp)
      }

      var start = now(), data = {};
      return data.id = requestAnimationFrame(lp), data
    }, module.exports.clear = function (data) {
      data && cancelAnimationFrame(data.id)
    }
  }, {"fz/utils/now": 8}],
  10: [function (require, module, exports) {
    "use strict";

    function _classCallCheck (instance, Constructor) {
      if (!(instance instanceof Constructor)) throw new TypeError("Cannot call a class as a function")
    }

    function _possibleConstructorReturn (self, call) {
      if (!self) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      return !call || "object" != typeof call && "function" != typeof call ? self : call
    }

    function _inherits (subClass, superClass) {
      if ("function" != typeof superClass && null !== superClass) throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
      subClass.prototype = Object.create(superClass && superClass.prototype, {
        constructor: {
          value: subClass,
          enumerable: !1,
          writable: !0,
          configurable: !0
        }
      }), superClass && (Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass)
    }

    var _createClass = function () {
        function defineProperties (target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || !1, descriptor.configurable = !0, "value" in descriptor && (descriptor.writable = !0), Object.defineProperty(target, descriptor.key, descriptor)
          }
        }

        return function (Constructor, protoProps, staticProps) {
          return protoProps && defineProperties(Constructor.prototype, protoProps), staticProps && defineProperties(Constructor, staticProps), Constructor
        }
      }(), interactions = require("fz/core/interactions"), Emitter = require("fz/events/Emitter"),
      Intro = (require("iao/grid/gridObserver"), function (_Emitter) {
        function Intro () {
          _classCallCheck(this, Intro);
          var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Intro).call(this));
          return _this._binds = {}, _this._binds.onClick = _this._onClick.bind(_this), _this
        }

        return _inherits(Intro, _Emitter), _createClass(Intro, [{
          key: "_onClick", value: function (e) {
            e.preventDefault(), e.stopPropagation(), $.post("/trackevent", {
              category: "SPLASH",
              action: "Click",
              label: "Splash pash button"
            }), this.emit("start"), this.unbindEvents()
          }
        }, {
          key: "bindElements", value: function () {
            this.dom = document.querySelector(".content--intro"), this._domAvatar = this.dom.querySelector(".avatar"), this._domSubtitle = this.dom.querySelector("h2"), this._domTitle = this.dom.querySelector("h1"), this._domBt = this.dom.querySelector(".bt")
          }
        }, {
          key: "bindEvents", value: function () {
          }
        }, {
          key: "unbindEvents", value: function () {
            interactions.off(this._domBt, "click", this._binds.onClick)
          }
        }, {
          key: "show", value: function () {
            var _this2 = this, delay = arguments.length <= 0 || void 0 === arguments[0] ? 0 : arguments[0],
              cb = arguments.length <= 1 || void 0 === arguments[1] ? nul : arguments[1];
            $.post("/trackevent", {
              category: "SPLASH",
              action: "Landing",
              label: "Landing to the splash page"
            }), TweenLite.set(this.dom, {
              delay: delay, css: {alpha: 1}, onComplete: function () {
                _this2.dom.classList.add("visible")
              }
            }), TweenLite.to(this._domAvatar, 1.2, {
              delay: delay,
              css: {alpha: 1, force3D: !0},
              ease: Quad.easeInOut
            }), TweenLite.to(this._domSubtitle, 1.2, {
              delay: delay + .2,
              css: {alpha: 1, force3D: !0},
              ease: Quad.easeInOut
            }), TweenLite.to(this._domTitle, 1.2, {
              delay: delay + .4,
              css: {alpha: 1, force3D: !0},
              ease: Quad.easeInOut
            }), TweenLite.to(this, delay + 1, {onComplete: cb})
          }
        }, {
          key: "setReady", value: function () {
            var _this3 = this;
            TweenLite.to(this._domBt, .8, {
              css: {alpha: 1, force3D: !0},
              ease: Cubic.easeInOut
            }), setTimeout(function () {
              _this3._domBt.addEventListener("click", _this3._binds.onClick, !1)
            }, 10)
          }
        }, {
          key: "hide", value: function () {
            var _this4 = this, delay = arguments.length <= 0 || void 0 === arguments[0] ? 0 : arguments[0];
            TweenLite.to(this.dom, .8, {
              delay: delay,
              css: {alpha: 0, force3D: !0},
              ease: Cubic.easeInOut,
              onComplete: function () {
                _this4.dom.parentNode.removeChild(_this4.dom)
              }
            })
          }
        }]), Intro
      }(Emitter));
    module.exports = Intro
  }, {"fz/core/interactions": 2, "fz/events/Emitter": 5, "iao/grid/gridObserver": 33}],
  11: [function (require, module, exports) {
    "use strict";

    function _classCallCheck (instance, Constructor) {
      if (!(instance instanceof Constructor)) throw new TypeError("Cannot call a class as a function")
    }

    function _possibleConstructorReturn (self, call) {
      if (!self) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      return !call || "object" != typeof call && "function" != typeof call ? self : call
    }

    function _inherits (subClass, superClass) {
      if ("function" != typeof superClass && null !== superClass) throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
      subClass.prototype = Object.create(superClass && superClass.prototype, {
        constructor: {
          value: subClass,
          enumerable: !1,
          writable: !0,
          configurable: !0
        }
      }), superClass && (Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass)
    }

    var _createClass = function () {
        function defineProperties (target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || !1, descriptor.configurable = !0, "value" in descriptor && (descriptor.writable = !0), Object.defineProperty(target, descriptor.key, descriptor)
          }
        }

        return function (Constructor, protoProps, staticProps) {
          return protoProps && defineProperties(Constructor.prototype, protoProps), staticProps && defineProperties(Constructor, staticProps), Constructor
        }
      }(), Emitter = require("fz/events/Emitter"), gridDataManager = require("iao/grid/gridDataManager"),
      cardflowData = require("iao/cardflow/cardflowData"), user = require("iao/cardflow/cardUser"),
      Loader = function (_Emitter) {
        function Loader () {
          _classCallCheck(this, Loader);
          var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Loader).call(this));
          return _this._count = 0, _this._countToCheck = 0, _this
        }

        return _inherits(Loader, _Emitter), _createClass(Loader, [{
          key: "_onSpritesheetsLoaded", value: function () {
            this.emit("completeAssets")
          }
        }, {
          key: "_onDataLoaded", value: function () {
            this._checkComplete()
          }
        }, {
          key: "_checkComplete", value: function () {
            this._count++, this._count == this._countToCheck && this.emit("completeData")
          }
        }, {
          key: "_loadAssets", value: function () {
            this._loader = new PIXI.loaders.Loader, isMobile || (this._loader.add("/pw_site/assets/img/grid/perlin_512.jpg"), this._loader.add("/pw_site/assets/spritesheets/cardflow.json"), this._loader.add("/pw_site/assets/spritesheets/share.json")), this._loader.add("/pw_site/assets/img/grid/share_base2.jpg"), this._loader.add("/pw_site/assets/img/grid/share_circle.png"), this._loader.add("/pw_site/assets/spritesheets/circles.json"), this._loader.add("/pw_site/assets/spritesheets/tiles.json"), this._loader.add("/pw_site/assets/spritesheets/odin_regular_32.fnt"), this._loader.add("/pw_site/assets/spritesheets/odin_regular_75.fnt"), this._loader.add("/pw_site/assets/spritesheets/odin_bold_32.fnt"), this._loader.add("/pw_site/assets/spritesheets/odin_bold_75.fnt"), this._loader.once("complete", this._onSpritesheetsLoaded.bind(this)), this._loader.load()
          }
        }, {
          key: "_loadData", value: function () {
            var _this2 = this, addUrl = user.id ? "&fbid=" + user.id : "";
            superagent.get("/user/get/all?limit=200&category=1" + addUrl).end(function (err, res) {
              var data = JSON.parse(res.text);
              gridDataManager.set("music", data.response), _this2._checkComplete()
            }), superagent.get("/user/get/all?limit=200&category=2" + addUrl).end(function (err, res) {
              var data = JSON.parse(res.text);
              gridDataManager.set("fashion", data.response), _this2._checkComplete()
            }), superagent.get("/user/get/all?limit=200&category=3" + addUrl).end(function (err, res) {
              var data = JSON.parse(res.text);
              gridDataManager.set("art", data.response), _this2._checkComplete()
            }), superagent.get("/user/get/all?limit=200&category=4" + addUrl).end(function (err, res) {
              var data = JSON.parse(res.text);
              gridDataManager.set("social", data.response), _this2._checkComplete()
            }), superagent.get("/user/get/all?limit=200&category=5" + addUrl).end(function (err, res) {
              var data = JSON.parse(res.text);
              gridDataManager.set("tv", data.response), _this2._checkComplete()
            }), this._countToCheck += 5, superagent.get("/projectbycategory/get/1").end(function (err, res) {
              var data = JSON.parse(res.text);
              cardflowData.music = data.response.sort(_this2._alphabeticalSort), _this2._checkComplete()
            }), superagent.get("/projectbycategory/get/2").end(function (err, res) {
              var data = JSON.parse(res.text);
              cardflowData.fashion = _this2._limitTexts(data.response.sort(_this2._alphabeticalSort)), _this2._checkComplete()
            }), superagent.get("/projectbycategory/get/3").end(function (err, res) {
              var data = JSON.parse(res.text);
              cardflowData.art = data.response.sort(_this2._alphabeticalSort), _this2._checkComplete()
            }), superagent.get("/projectbycategory/get/4").end(function (err, res) {
              var data = JSON.parse(res.text);
              cardflowData.social = data.response.sort(_this2._alphabeticalSort), _this2._checkComplete()
            }), superagent.get("/projectbycategory/get/5").end(function (err, res) {
              var data = JSON.parse(res.text);
              cardflowData.tv = data.response.sort(_this2._alphabeticalSort), _this2._checkComplete()
            }), this._countToCheck += 5
          }
        }, {
          key: "_limitTexts", value: function (data) {
            return data
          }
        }, {
          key: "_alphabeticalSort", value: function (a, b) {
            return a.project_title.toLowerCase() < b.project_title.toLowerCase() ? -1 : 1
          }
        }, {
          key: "loadAssets", value: function () {
            this._loadAssets()
          }
        }, {
          key: "loadData", value: function () {
            this._loadData()
          }
        }]),
          Loader
      }(Emitter);
    module.exports = Loader
  }, {
    "fz/events/Emitter": 5,
    "iao/cardflow/cardUser": 15,
    "iao/cardflow/cardflowData": 16,
    "iao/grid/gridDataManager": 32
  }],
  12: [function (require, module, exports) {
    "use strict";

    function _possibleConstructorReturn (self, call) {
      if (!self) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      return !call || "object" != typeof call && "function" != typeof call ? self : call
    }

    function _inherits (subClass, superClass) {
      if ("function" != typeof superClass && null !== superClass) throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
      subClass.prototype = Object.create(superClass && superClass.prototype, {
        constructor: {
          value: subClass,
          enumerable: !1,
          writable: !0,
          configurable: !0
        }
      }), superClass && (Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass)
    }

    function _classCallCheck (instance, Constructor) {
      if (!(instance instanceof Constructor)) throw new TypeError("Cannot call a class as a function")
    }

    var _createClass = function () {
        function defineProperties (target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || !1, descriptor.configurable = !0, "value" in descriptor && (descriptor.writable = !0), Object.defineProperty(target, descriptor.key, descriptor)
          }
        }

        return function (Constructor, protoProps, staticProps) {
          return protoProps && defineProperties(Constructor.prototype, protoProps), staticProps && defineProperties(Constructor, staticProps), Constructor
        }
      }(), Emitter = require("fz/events/Emitter"), cardCreatorData = require("iao/card/cardCreatorData"),
      gridDataTexturesAvatar = require("iao/grid/data/gridDataTexturesAvatar"),
      GridConfig = require("iao/grid/GridConfig"), CardAssetEngine = function CardAssetEngine () {
        _classCallCheck(this, CardAssetEngine);
        var opts = {antialias: !0, resolution: 2, transparent: !0, backgroundColor: 15329769};
        this.renderer = new PIXI.autoDetectRenderer(0, 0, opts), this.width = 1030, this.height = 1030, this.renderer.resize(this.width, this.height), this.renderer.view.style.width = this.width + "px", this.renderer.view.style.height = this.height + "px", this.stage = new PIXI.Container, this.dom = this.renderer.view
      }, engine = new CardAssetEngine, CardAssetCreator = function (_Emitter) {
        function CardAssetCreator (name, title, avatar) {
          _classCallCheck(this, CardAssetCreator);
          var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(CardAssetCreator).call(this)),
            bg = new PIXI.Sprite(PIXI.Texture.fromImage("/pw_site/assets/img/grid/share_base2.jpg"));
          return engine.stage.addChild(bg), _this._binds = {}, _this._binds.onAvatarLoaded = _this._onAvatarLoaded.bind(_this), _this
        }

        return _inherits(CardAssetCreator, _Emitter), _createClass(CardAssetCreator, [{
          key: "_onAvatarLoaded",
          value: function () {
            var circle = new PIXI.Sprite(PIXI.Texture.fromImage("/pw_site/assets/img/grid/share_circle.png"));
            circle.tint = this._colors.dark, circle.x = engine.width - circle.width >> 1, circle.y = engine.height - circle.height >> 1, engine.stage.addChild(circle);
            var avatar = new PIXI.Sprite(this._avatarToLoad.get());
            avatar.width = circle.width - 6, avatar.height = circle.height - 6, avatar.x = engine.width - avatar.width >> 1, avatar.y = engine.height - avatar.height >> 1, engine.stage.addChild(avatar);
            var mskAvatar = new PIXI.Graphics;
            mskAvatar.beginFill(16711935),
              mskAvatar.drawCircle(0, 0, .5 * circle.width - 5 >> 0, .5 * circle.width - 5 >> 0), mskAvatar.x = engine.width >> 1, mskAvatar.y = engine.height >> 1, engine.stage.addChild(mskAvatar), avatar.mask = mskAvatar, engine.renderer.render(engine.stage), this._saveImage()
          }
        }, {
          key: "_saveImage", value: function () {
            var canvas = document.createElement("canvas");
            canvas.width = engine.width, canvas.height = engine.height;
            var ctx = canvas.getContext("2d");
            ctx.drawImage(engine.dom, 0, 0, canvas.width, canvas.height), this.canvas = canvas, this.emit("done")
          }
        }, {
          key: "create",
          value: function (url, id, name, title, fbId, projectUrl, categoryId, projectId, projectAssetSquare) {
            this._colors = GridConfig.colors[id], this._createShape(), this._createTexts(name, title.replace(new RegExp("\n", "g"), " ")), this._avatarToLoad = gridDataTexturesAvatar.get(url), this._avatarToLoad.on("loaded", this._binds.onAvatarLoaded), this._avatarToLoad.load(), cardCreatorData.set(id, name, title, fbId, projectUrl, categoryId, projectId, projectAssetSquare)
          }
        }, {
          key: "_createShape", value: function (id) {
            for (var points = [], simplex = new SimplexNoise, a = 0, radius = 306, noiseScale = .0015, noiseValue = 90, time = 1e4 * Math.random(), aAdd = 3.6 * Math.PI / 180, i = 0; i < 100; i++) points.push({
              x: Math.cos(a) * radius,
              y: Math.sin(a) * radius,
              a: a
            }), a += aAdd;
            var shape = new PIXI.Graphics;
            shape.x = engine.width >> 1, shape.y = engine.height >> 1, shape.clear(), shape.beginFill(this._colors.default);
            var p = points[0], d = {x: 0, y: 0};
            shape.moveTo(p.x + d.x, p.y + d.y);
            for (var noise = 0, i = 0; i < 100; i++) p = points[i], noise = simplex.noise3D(p.x * noiseScale, p.y * noiseScale, time), d.x = Math.cos(a) * noiseValue * noise, d.y = Math.sin(a) * noiseValue * noise, i > 0 ? shape.lineTo(p.x + d.x, p.y + d.y) : shape.moveTo(p.x + d.x, p.y + d.y);
            engine.stage.addChild(shape)
          }
        }, {
          key: "_createTexts", value: function (name, title) {
            var tfName = new PIXI.extras.BitmapText("pharrellwilliams.com", {font: "40px Odin Rounded"});
            tfName.x = engine.width - tfName.width - 34 >> 0, tfName.y = engine.height - 40 - 26 >> 0, tfName.tint = 13355979, engine.stage.addChild(tfName);
            var tfTitle = new PIXI.extras.BitmapText(title.toLowerCase(), {font: "40px Odin Rounded Bold Big"});
            tfTitle.x = 34, tfTitle.y = engine.height - 40 - 26 >> 0, tfTitle.tint = this._colors.default, engine.stage.addChild(tfTitle)
          }
        }]), CardAssetCreator
      }(Emitter);
    module.exports = CardAssetCreator
  }, {
    "fz/events/Emitter": 5,
    "iao/card/cardCreatorData": 13,
    "iao/grid/GridConfig": 27,
    "iao/grid/data/gridDataTexturesAvatar": 30
  }],
  13: [function (require, module, exports) {
    "use strict";

    function _classCallCheck (instance, Constructor) {
      if (!(instance instanceof Constructor)) throw new TypeError("Cannot call a class as a function")
    }

    var _createClass = function () {
      function defineProperties (target, props) {
        for (var i = 0; i < props.length; i++) {
          var descriptor = props[i];
          descriptor.enumerable = descriptor.enumerable || !1, descriptor.configurable = !0, "value" in descriptor && (descriptor.writable = !0), Object.defineProperty(target, descriptor.key, descriptor)
        }
      }

      return function (Constructor, protoProps, staticProps) {
        return protoProps && defineProperties(Constructor.prototype, protoProps), staticProps && defineProperties(Constructor, staticProps), Constructor
      }
    }(), GridData = require("iao/grid/data/GridData"), CardCreatorData = function () {
      function CardCreatorData () {
        _classCallCheck(this, CardCreatorData)
      }

      return _createClass(CardCreatorData, [{
        key: "set",
        value: function (id, name, title, fbId, projectUrl, categoryId, projectId, projectAssetSquare) {
          this.type = id, this.value = {
            fb_name: name,
            title: title,
            fb_id: fbId,
            project_title: title,
            project_title_short: title,
            project_url: projectUrl,
            category_id: categoryId,
            id: projectId,
            project_asset_square: projectAssetSquare
          }
        }
      }, {
        key: "updateIdFan", value: function (id) {
          this.value.id = id
        }
      }, {
        key: "get", value: function () {
          return new GridData(this.type, this.value)
        }
      }]), CardCreatorData
    }();
    module.exports = new CardCreatorData
  }, {"iao/grid/data/GridData": 29}],
  14: [function (require, module, exports) {
    "use strict";

    function _classCallCheck (instance, Constructor) {
      if (!(instance instanceof Constructor)) throw new TypeError("Cannot call a class as a function")
    }

    function _possibleConstructorReturn (self, call) {
      if (!self) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      return !call || "object" != typeof call && "function" != typeof call ? self : call
    }

    function _inherits (subClass, superClass) {
      if ("function" != typeof superClass && null !== superClass) throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
      subClass.prototype = Object.create(superClass && superClass.prototype, {
        constructor: {
          value: subClass,
          enumerable: !1,
          writable: !0,
          configurable: !0
        }
      }), superClass && (Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass)
    }

    var _createClass = function () {
      function defineProperties (target, props) {
        for (var i = 0; i < props.length; i++) {
          var descriptor = props[i];
          descriptor.enumerable = descriptor.enumerable || !1, descriptor.configurable = !0, "value" in descriptor && (descriptor.writable = !0), Object.defineProperty(target, descriptor.key, descriptor)
        }
      }

      return function (Constructor, protoProps, staticProps) {
        return protoProps && defineProperties(Constructor.prototype, protoProps), staticProps && defineProperties(Constructor, staticProps), Constructor
      }
    }(), Emitter = require("fz/events/Emitter"), CardProject = function (_Emitter) {
      function CardProject () {
        _classCallCheck(this, CardProject);
        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(CardProject).call(this));
        return _this.canvas = null, _this
      }

      return _inherits(CardProject, _Emitter), _createClass(CardProject, [{
        key: "set", value: function (data) {
          return this.data = data, this.data ? (this.name = this._formatName(data.project_title_short), this.urlImg = this._formatURL(data.project_asset_landscape2), this.urlImgMobile = this._formatURLMobile(data.project_asset_landscape2), void this.emit("change")) : (this.name = null, this.urlImg = null, this.urlImgMobile = null, void this.emit("change"))
        }
      }, {
        key: "_formatName", value: function (value) {
          value = value.split("_").join(""), value = value.split(" ");
          for (var endValue = "", ns = "", n = value.length, i = 0; i < n; i++) {
            if (!value[i + 1]) {
              endValue += value[i];
              break
            }
            ns = value[i] + " " + value[i + 1] + "\n", ns.length <= 13 ? (endValue += ns, i++) : endValue += value[i] + "\n"
          }
          return endValue
        }
      }, {
        key: "_formatURL", value: function (project) {
          return baseURLUserImage + project + "-M_FanCard_Small.jpg"
        }
      }, {
        key: "_formatURLMobile", value: function (project) {
          return baseURLUserImage + project + "-M_AddCard.jpg"
        }
      }, {
        key: "save", value: function () {
          this.emit("saving")
        }
      }]), CardProject
    }(Emitter);
    module.exports = new CardProject
  }, {"fz/events/Emitter": 5}],
  15: [function (require, module, exports) {
    "use strict";

    function _classCallCheck (instance, Constructor) {
      if (!(instance instanceof Constructor)) throw new TypeError("Cannot call a class as a function")
    }

    function _possibleConstructorReturn (self, call) {
      if (!self) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      return !call || "object" != typeof call && "function" != typeof call ? self : call
    }

    function _inherits (subClass, superClass) {
      if ("function" != typeof superClass && null !== superClass) throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
      subClass.prototype = Object.create(superClass && superClass.prototype, {
        constructor: {
          value: subClass,
          enumerable: !1,
          writable: !0,
          configurable: !0
        }
      }), superClass && (Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass)
    }

    var _createClass = function () {
      function defineProperties (target, props) {
        for (var i = 0; i < props.length; i++) {
          var descriptor = props[i];
          descriptor.enumerable = descriptor.enumerable || !1, descriptor.configurable = !0, "value" in descriptor && (descriptor.writable = !0), Object.defineProperty(target, descriptor.key, descriptor)
        }
      }

      return function (Constructor, protoProps, staticProps) {
        return protoProps && defineProperties(Constructor.prototype, protoProps), staticProps && defineProperties(Constructor, staticProps), Constructor
      }
    }(), Emitter = require("fz/events/Emitter"), timeout = require("fz/utils/timeout"), CardUser = function (_Emitter) {
      function CardUser () {
        _classCallCheck(this, CardUser);
        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(CardUser).call(this));
        return _this.id = null, _this.name = "", _this.isConnected = !1, _this
      }

      return _inherits(CardUser, _Emitter), _createClass(CardUser, [{
        key: "set", value: function (id, name) {
          this.id = id, this.url = "http://graph.facebook.com/" + id + "/picture?type=large", this.name = name.split(" ")[0], this.isConnected = !0, this.emit("connect"), document.body.classList.add("isLogged")
        }
      }, {
        key: "checkIfConnected", value: function (cb) {
          !(arguments.length <= 1 || void 0 === arguments[1]) && arguments[1];
          if (this.isConnected) return void cb(!0);
          var ti = null;
          location.href.indexOf("localhost") > -1 && (ti = timeout(function () {
            cb(!1)
          }, 2e3)), FB.getLoginStatus(function (response) {
            ti && timeout.clear(ti), "connected" == response.status ? (superagent.get("/fblogin_fz").end(function (err, res) {
            }), cb(!0)) : cb(!1)
          })
        }
      }, {
        key: "fetchInfos", value: function (cb) {
          var _this2 = this;
          FB.api("/me", function (response) {
            _this2.set(response.id, response.name), cb && cb(), FB.api("/" + response.id, function (response) {
            });
            var domLabel = document.getElementById("label-createcard");
            domLabel && (domLabel.innerHTML = "UPDATE YOUR CARD");
            var domLabelHover = document.getElementById("label-createcard-hover");
            domLabelHover && (domLabelHover.innerHTML = "UPDATE YOUR CARD")
          })
        }
      }, {
        key: "checkIfConnectedAndGetInfos", value: function () {
          var _this3 = this, cb = arguments.length <= 0 || void 0 === arguments[0] ? null : arguments[0],
            withTimeout = !(arguments.length <= 1 || void 0 === arguments[1]) && arguments[1];
          this.checkIfConnected(function (yes) {
            yes ? _this3.fetchInfos(cb) : cb()
          }, withTimeout)
        }
      }]), CardUser
    }(Emitter);
    module.exports = new CardUser
  }, {"fz/events/Emitter": 5, "fz/utils/timeout": 9}],
  16: [function (require, module, exports) {
    "use strict";
    var data = {
      fashion: null,
      music: null,
      social: null,
      art: null,
      tv: null,
      previews: {fashion: null, music: null, social: null, art: null, tv: null}
    };
    module.exports = data
  }, {}],
  17: [function (require, module, exports) {
    "use strict";

    function _classCallCheck (instance, Constructor) {
      if (!(instance instanceof Constructor)) throw new TypeError("Cannot call a class as a function")
    }

    function _possibleConstructorReturn (self, call) {
      if (!self) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      return !call || "object" != typeof call && "function" != typeof call ? self : call
    }

    function _inherits (subClass, superClass) {
      if ("function" != typeof superClass && null !== superClass) throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
      subClass.prototype = Object.create(superClass && superClass.prototype, {
        constructor: {
          value: subClass,
          enumerable: !1,
          writable: !0,
          configurable: !0
        }
      }), superClass && (Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass)
    }

    var _createClass = function () {
      function defineProperties (target, props) {
        for (var i = 0; i < props.length; i++) {
          var descriptor = props[i];
          descriptor.enumerable = descriptor.enumerable || !1, descriptor.configurable = !0, "value" in descriptor && (descriptor.writable = !0), Object.defineProperty(target, descriptor.key, descriptor)
        }
      }

      return function (Constructor, protoProps, staticProps) {
        return protoProps && defineProperties(Constructor.prototype, protoProps), staticProps && defineProperties(Constructor, staticProps), Constructor
      }
    }(), Emitter = require("fz/events/Emitter"), timeout = require("fz/utils/timeout"), NavSteps = function (_Emitter) {
      function NavSteps () {
        _classCallCheck(this, NavSteps);
        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(NavSteps).call(this));
        return _this.id = "", _this.type = null, _this
      }

      return _inherits(NavSteps, _Emitter), _createClass(NavSteps, [{
        key: "setId", value: function (value) {
          this.id != value && (this.id = value, this.emit("changeId"))
        }
      }, {
        key: "setType", value: function (value) {
          var delay = arguments.length <= 1 || void 0 === arguments[1] ? 0 : arguments[1];
          this.type != value && (this.type = value, delay ? timeout(this._emitType.bind(this), 1e3 * delay) : this._emitType())
        }
      }, {
        key: "_emitType", value: function () {
          this.emit("changeType")
        }
      }]), NavSteps
    }(Emitter);
    module.exports = new NavSteps
  }, {"fz/events/Emitter": 5, "fz/utils/timeout": 9}],
  18: [function (require, module, exports) {
    "use strict";

    function _classCallCheck (instance, Constructor) {
      if (!(instance instanceof Constructor)) throw new TypeError("Cannot call a class as a function")
    }

    var _createClass = function () {
        function defineProperties (target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || !1, descriptor.configurable = !0, "value" in descriptor && (descriptor.writable = !0), Object.defineProperty(target, descriptor.key, descriptor)
          }
        }

        return function (Constructor, protoProps, staticProps) {
          return protoProps && defineProperties(Constructor.prototype, protoProps), staticProps && defineProperties(Constructor, staticProps), Constructor
        }
      }(), data = require("iao/cardflow/cardflowData"), GridConfig = require("iao/grid/GridConfig"),
      StepsElements = function () {
        function StepsElements () {
          _classCallCheck(this, StepsElements)
        }

        return _createClass(StepsElements, [{
          key: "process", value: function () {
            if (!this.elements) {
              this.elements = {};
              for (var type = "", n = GridConfig.types.length, i = 0; i < n; i++) type = GridConfig.types[i], "music" != type || isMobile ? this.elements[type] = this._createSelects(data[type], type) : this.elements[type] = this._createInput(data[type], type)
            }
          }
        }, {
          key: "_createInput", value: function (dataSelects, type) {
            var placeholder = "Type song name", dom = document.createElement("input");
            dom.setAttribute("type", "text"), dom.classList.add("cardflow-input");
            var domCnt = document.createElement("div");
            domCnt.classList.add("cardflow-input-cnt");
            for (var haystack = [], idsByTitle = {}, dataSelect = null, n = dataSelects.length, i = 0; i < n; i++) dataSelect = dataSelects[i], haystack.push(dataSelect.project_title), idsByTitle[this._toTitleCase(dataSelect.project_title).toUpperCase()] = dataSelect.id;
            dom.__idsByTitle = idsByTitle;
            var $dom = $(dom);
            return dom.__applySuggest = function () {
              dom.value = "", dom.setAttribute("placeholder", placeholder), dom.__isSuggested || (dom.__isSuggested = !0, $dom.suggest(haystack, {suggestionColor: "#e3a202"}))
            }, domCnt.appendChild(dom), dom.__domCnt = domCnt, dom
          }
        }, {
          key: "_createSelects", value: function (dataSelects, type) {
            var domCnt = document.createElement("div");
            domCnt.classList.add("cardflow-select-cnt"), domCnt.classList.add("cardflow-select-cnt--" + type);
            var dom = document.createElement("select");
            dom.classList.add("cardflow-select");
            var domOption = document.createElement("option");
            domOption.setAttribute("disabled", ""), domOption.setAttribute("selected", ""), domOption.innerHTML = "SELECT ONE", dom.appendChild(domOption);
            for (var dataSelect = null, n = dataSelects.length, i = 0; i < n; i++) dataSelect = dataSelects[i], domOption = document.createElement("option"), domOption.setAttribute("value", dataSelect.id), domOption.setAttribute("data-asset_square", dataSelect.project_asset_square), domOption.innerHTML = this._toTitleCase(dataSelect.project_title).toUpperCase(), dom.appendChild(domOption);
            return domCnt.appendChild(dom), dom.__domCnt = domCnt, dom
          }
        }, {
          key: "_toTitleCase", value: function (str) {
            str = str.replace(/\w\S*/g, function (txt) {
              return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase()
            });
            var length = isMobile ? 25 : 60;
            if (str.length <= length) return str;
            str = str.substring(0, length);
            var last = str.lastIndexOf(" ");
            return str = str.substring(0, last), str + "..."
          }
        }]), StepsElements
      }();
    module.exports = new StepsElements
  }, {"iao/cardflow/cardflowData": 16, "iao/grid/GridConfig": 27}],
  19: [function (require, module, exports) {
    "use strict";

    function _classCallCheck (instance, Constructor) {
      if (!(instance instanceof Constructor)) throw new TypeError("Cannot call a class as a function")
    }

    var _createClass = function () {
        function defineProperties (target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || !1, descriptor.configurable = !0, "value" in descriptor && (descriptor.writable = !0), Object.defineProperty(target, descriptor.key, descriptor)
          }
        }

        return function (Constructor, protoProps, staticProps) {
          return protoProps && defineProperties(Constructor.prototype, protoProps), staticProps && defineProperties(Constructor, staticProps), Constructor
        }
      }(), Steps = require("iao/cardflow_mobile/steps/Steps"), nav = require("iao/cardflow/steps/navSteps"),
      user = require("iao/cardflow/cardUser"), interactions = require("fz/core/interactions"),
      timeout = require("fz/utils/timeout"), CardflowMobile = function () {
        function CardflowMobile () {
          _classCallCheck(this, CardflowMobile), this._dom = document.getElementById("cardflow-mobile"), this._domBtBack = this._dom.querySelector(".cardflow-bt-back"), this._domBtClose = this._dom.querySelector(".cardflow-close"), this._isBtBackVisible = !1, this.isOpen = !1, this._binds = {}, this._binds.onNavChange = this._onNavChange.bind(this), this._binds.onBtBack = this._onBtBack.bind(this), this._binds.onBtClose = this._onBtClose.bind(this)
        }

        return _createClass(CardflowMobile, [{
          key: "_onNavChange", value: function () {
            "choice" == nav.id ? this._showBtBack() : "selection" == nav.id && this._hideBtBack()
          }
        }, {
          key: "_onBtBack", value: function (e) {
            e.origin.preventDefault(), "choice" == nav.id ? nav.setId("selection") : "final" == nav.id && nav.setId("choice")
          }
        }, {
          key: "_onBtClose", value: function (e) {
            e.origin.preventDefault(), window.closeCardFlow()
          }
        }, {
          key: "_onBtClose", value: function (e) {
            e.origin.preventDefault(), window.closeCardFlow()
          }
        }, {
          key: "init", value: function () {
            this._steps = new Steps(this._dom)
          }
        }, {
          key: "bindEvents", value: function () {
            this._steps.bindEvents(), nav.on("changeId", this._binds.onNavChange), interactions.on(this._domBtClose, "click", this._binds.onBtClose)
          }
        }, {
          key: "unbindEvents", value: function () {
            this._steps.unbindEvents(), nav.off("changeId", this._binds.onNavChange), interactions.off(this._domBtBack, "click", this._binds.onBtBack), interactions.off(this._domBtClose, "click", this._binds.onBtClose)
          }
        }, {
          key: "show", value: function () {
            var _this = this, delay = arguments.length <= 0 || void 0 === arguments[0] ? 0 : arguments[0];
            this.init(), this.bindEvents(), this.isOpen = !0, timeout(function () {
              _this._dom.style.display = "block", TweenLite.to(_this._dom, .6, {
                css: {alpha: 1},
                ease: Cubic.easeOut
              }), user.isConnected ? nav.setId("selection") : nav.setId("login"), _this._steps.show(delay)
            }, 1e3 * delay)
          }
        }, {
          key: "_showBtBack", value: function () {
            this._isBtBackVisible || (this._isBtBackVisible = !0, this._domBtBack.interactive = !0, interactions.on(this._domBtBack, "click", this._binds.onBtBack), TweenLite.to(this._domBtBack, .4, {
              alpha: 1,
              ease: Cubic.easeInOut
            }))
          }
        }, {
          key: "_hideBtBack", value: function () {
            this._isBtBackVisible && (this._isBtBackVisible = !1, interactions.off(this._domBtBack, "click", this._binds.onBtBack), TweenLite.to(this._domBtBack, .4, {
              alpha: 0,
              ease: Cubic.easeInOut
            }))
          }
        }, {
          key: "hide", value: function () {
            var _this2 = this;
            this.unbindEvents(), this.isOpen = !1, this._steps.hide(), document.body.style.overflow = "auto", TweenLite.to(this._dom, .6, {
              css: {alpha: 0},
              ease: Cubic.easeOut,
              onComplete: function () {
                _this2._dom.style.display = "none"
              }
            })
          }
        }]), CardflowMobile
      }();
    module.exports = new CardflowMobile
  }, {
    "fz/core/interactions": 2,
    "fz/utils/timeout": 9,
    "iao/cardflow/cardUser": 15,
    "iao/cardflow/steps/navSteps": 17,
    "iao/cardflow_mobile/steps/Steps": 25
  }],
  20: [function (require, module, exports) {
    "use strict";

    function _classCallCheck (instance, Constructor) {
      if (!(instance instanceof Constructor)) throw new TypeError("Cannot call a class as a function")
    }

    var _createClass = function () {
      function defineProperties (target, props) {
        for (var i = 0; i < props.length; i++) {
          var descriptor = props[i];
          descriptor.enumerable = descriptor.enumerable || !1, descriptor.configurable = !0, "value" in descriptor && (descriptor.writable = !0), Object.defineProperty(target, descriptor.key, descriptor)
        }
      }

      return function (Constructor, protoProps, staticProps) {
        return protoProps && defineProperties(Constructor.prototype, protoProps), staticProps && defineProperties(Constructor, staticProps), Constructor
      }
    }(), timeout = require("fz/utils/timeout"), StepBase = function () {
      function StepBase () {
        _classCallCheck(this, StepBase), this._dom = null
      }

      return _createClass(StepBase, [{
        key: "show", value: function () {
          var _this = this, delay = arguments.length <= 0 || void 0 === arguments[0] ? 0 : arguments[0];
          timeout(function () {
            _this._dom.style.display = "block", TweenLite.to(_this._dom, .6, {css: {alpha: 1}, ease: Cubic.easeOut})
          }, 1e3 * delay)
        }
      }, {
        key: "hide", value: function () {
          var _this2 = this, delay = arguments.length <= 0 || void 0 === arguments[0] ? 0 : arguments[0];
          TweenLite.to(this._dom, .6, {
            delay: delay, css: {alpha: 0}, ease: Cubic.easeIn, onComplete: function () {
              _this2._dom.style.display = "none", _this2._onHideComplete()
            }
          })
        }
      }, {
        key: "_onHideComplete", value: function () {
        }
      }]), StepBase
    }();
    module.exports = StepBase
  }, {"fz/utils/timeout": 9}],
  21: [function (require, module, exports) {
    "use strict";

    function _classCallCheck (instance, Constructor) {
      if (!(instance instanceof Constructor)) throw new TypeError("Cannot call a class as a function")
    }

    function _possibleConstructorReturn (self, call) {
      if (!self) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      return !call || "object" != typeof call && "function" != typeof call ? self : call
    }

    function _inherits (subClass, superClass) {
      if ("function" != typeof superClass && null !== superClass) throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
      subClass.prototype = Object.create(superClass && superClass.prototype, {
        constructor: {
          value: subClass,
          enumerable: !1,
          writable: !0,
          configurable: !0
        }
      }), superClass && (Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass)
    }

    var _createClass = function () {
        function defineProperties (target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || !1, descriptor.configurable = !0, "value" in descriptor && (descriptor.writable = !0), Object.defineProperty(target, descriptor.key, descriptor)
          }
        }

        return function (Constructor, protoProps, staticProps) {
          return protoProps && defineProperties(Constructor.prototype, protoProps), staticProps && defineProperties(Constructor, staticProps), Constructor
        }
      }(), _get = function get (object, property, receiver) {
        null === object && (object = Function.prototype);
        var desc = Object.getOwnPropertyDescriptor(object, property);
        if (void 0 === desc) {
          var parent = Object.getPrototypeOf(object);
          return null === parent ? void 0 : get(parent, property, receiver)
        }
        if ("value" in desc) return desc.value;
        var getter = desc.get;
        if (void 0 !== getter) return getter.call(receiver)
      }, StepBase = require("iao/cardflow_mobile/steps/StepBase"),
      stepsElements = require("iao/cardflow/steps/stepsElements"), cardUser = require("iao/cardflow/cardUser"),
      cardProject = require("iao/cardflow/cardProject"), cardflowData = require("iao/cardflow/cardflowData"),
      GridConfig = require("iao/grid/GridConfig"), nav = require("iao/cardflow/steps/navSteps"),
      interactions = require("fz/core/interactions"),
      CardAssetCreator = (require("fz/utils/timeout"), require("iao/card/CardAssetCreator")),
      StepChoice = function (_StepBase) {
        function StepChoice (dom) {
          _classCallCheck(this, StepChoice);
          var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(StepChoice).call(this));
          return _this._dom = dom.querySelector(".cardflow-choice"), _this._binds = {}, _this._binds.onChange = _this._onChange.bind(_this), _this._binds.onFocusOut = _this._onFocusOut.bind(_this), _this._binds.onInputChange = _this._onInputChange.bind(_this), _this._binds.onChangeProject = _this._onChangeProject.bind(_this), _this._binds.onImgLoaded = _this._onImgLoaded.bind(_this), _this._binds.onNext = _this._onNext.bind(_this), _this
        }

        return _inherits(StepChoice, _StepBase), _createClass(StepChoice, [{
          key: "_onChange", value: function (e) {
            this._domElements.classList.add("selected");
            var value = this._domElements.value, data = this._findData(value);
            cardProject.set(data), this._showBtNext()
          }
        }, {
          key: "_onFocusOut", value: function () {
            setTimeout(function () {
              window.scrollTo(0, 0), $(window).trigger("resize")
            }, 50)
          }
        }, {
          key: "_onInputChange", value: function () {
            var data = this._getMusic(this._domElements.value.toUpperCase());
            data != this._currentData && (this._currentData = data, cardProject.set(data), data ? (this._showBtNext(), TweenLite.to(this._tfError, .4, {
              alpha: 0,
              ease: Cubic.easeOut
            })) : (this._hideBtNext(), TweenLite.to(this._tfError, .4, {alpha: 1, ease: Cubic.easeOut})))
          }
        }, {
          key: "_getMusic", value: function (title) {
            var id = this._domElements.__idsByTitle[title];
            return id ? this._findData(id) : null
          }
        }, {
          key: "_findData", value: function (id) {
            for (var data = null, n = this._currentDatas.length, i = 0; i < n; i++) if (data = this._currentDatas[i], data.id == id) return data;
            return null
          }
        }, {
          key: "_onChangeProject", value: function () {
            cardProject.data ? this._imgToLoad.src = cardProject.urlImgMobile : this._domProjectPreview.style.display = "none"
          }
        }, {
          key: "_onImgLoaded", value: function () {
            this._domProjectPreview.style.display = "block", this._domProjectPreview.src = cardProject.urlImgMobile
          }
        }, {
          key: "_onNext", value: function (e) {
            e.origin.preventDefault(), this._hideBtNext(), interactions.off(this._domBtNext, "click", this._binds.onNext);
            var creator = new CardAssetCreator;
            creator.once("done", function () {
              cardProject.canvas = creator.canvas, nav.setId("final")
            }), this._createCard(creator)
          }
        }, {
          key: "_showBtNext", value: function () {
            this._domBtNext.style.display = "block"
          }
        }, {
          key: "_hideBtNext", value: function () {
            this._domBtNext.style.display = "none"
          }
        }, {
          key: "init", value: function () {
            this._type = nav.type, this._dom.classList.add(this._type), this._domCnt = this._dom, this._domElements = stepsElements.elements[nav.type], this._domBtNext = document.getElementById("cardflow-mobile-btnext"), this._domProjectPreview = document.getElementById("cardflow-mobile-project-preview"), this._imgToLoad = new Image, this._currentDatas = cardflowData[nav.type], this._domElements.classList.remove("selected"), this._domElements.value = "SELECT ONE", this._domElements.addEventListener("change", this._binds.onChange, !1), this._domCnt.appendChild(this._domElements.__domCnt)
          }
        }, {
          key: "_createCard", value: function (creator) {
            var urlAvatar = cardUser.url, category = nav.type, name = cardUser.name, title = cardProject.name,
              fbId = cardUser.id, projectUrl = cardProject.data.project_url, categoryId = GridConfig.catIds[category],
              projectId = cardProject.data.id, projectAssetSquare = cardProject.data.project_asset_square;
            creator.create(urlAvatar, category, name, title, fbId, projectUrl, categoryId, projectId, projectAssetSquare)
          }
        }, {
          key: "bindEvents", value: function () {
            interactions.on(this._domBtNext, "click", this._binds.onNext), cardProject.on("change", this._binds.onChangeProject), document.addEventListener("focusout", this._binds.onFocusOut, !1), this._imgToLoad.addEventListener("load", this._binds.onImgLoaded, !1)
          }
        }, {
          key: "unbindEvents", value: function () {
            interactions.off(this._domBtNext, "click", this._binds.onNext), cardProject.off("change", this._binds.onChangeProject), document.removeEventListener("focusout", this._binds.onFocusOut, !1), this._imgToLoad.removeEventListener("load", this._binds.onImgLoaded, !1)
          }
        }, {
          key: "show", value: function () {
            var delay = arguments.length <= 0 || void 0 === arguments[0] ? 0 : arguments[0];
            _get(Object.getPrototypeOf(StepChoice.prototype), "show", this).call(this, delay), TweenLite.to(this._domElements.__domCnt, .6, {
              css: {alpha: 1},
              ease: Cubic.easeOut
            })
          }
        }, {
          key: "_onHideComplete", value: function () {
            this._domProjectPreview.style.display = "none", this._dom.classList.remove(this._type), this._dom.removeChild(this._domElements.__domCnt)
          }
        }]), StepChoice
      }(StepBase);
    module.exports = StepChoice
  }, {
    "fz/core/interactions": 2,
    "fz/utils/timeout": 9,
    "iao/card/CardAssetCreator": 12,
    "iao/cardflow/cardProject": 14,
    "iao/cardflow/cardUser": 15,
    "iao/cardflow/cardflowData": 16,
    "iao/cardflow/steps/navSteps": 17,
    "iao/cardflow/steps/stepsElements": 18,
    "iao/cardflow_mobile/steps/StepBase": 20,
    "iao/grid/GridConfig": 27
  }],
  22: [function (require, module, exports) {
    "use strict";

    function _classCallCheck (instance, Constructor) {
      if (!(instance instanceof Constructor)) throw new TypeError("Cannot call a class as a function")
    }

    function _possibleConstructorReturn (self, call) {
      if (!self) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      return !call || "object" != typeof call && "function" != typeof call ? self : call
    }

    function _inherits (subClass, superClass) {
      if ("function" != typeof superClass && null !== superClass) throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
      subClass.prototype = Object.create(superClass && superClass.prototype, {
        constructor: {
          value: subClass,
          enumerable: !1,
          writable: !0,
          configurable: !0
        }
      }), superClass && (Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass)
    }

    var _createClass = function () {
        function defineProperties (target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || !1, descriptor.configurable = !0, "value" in descriptor && (descriptor.writable = !0), Object.defineProperty(target, descriptor.key, descriptor)
          }
        }

        return function (Constructor, protoProps, staticProps) {
          return protoProps && defineProperties(Constructor.prototype, protoProps), staticProps && defineProperties(Constructor, staticProps), Constructor
        }
      }(), _get = function get (object, property, receiver) {
        null === object && (object = Function.prototype);
        var desc = Object.getOwnPropertyDescriptor(object, property);
        if (void 0 === desc) {
          var parent = Object.getPrototypeOf(object);
          return null === parent ? void 0 : get(parent, property, receiver)
        }
        if ("value" in desc) return desc.value;
        var getter = desc.get;
        if (void 0 !== getter) return getter.call(receiver)
      }, StepBase = (require("fz/core/stage"), require("iao/cardflow_mobile/steps/StepBase")),
      user = require("iao/cardflow/cardUser"), cardProject = require("iao/cardflow/cardProject"),
      GridConfig = (require("iao/cardflow/cardflowData"),
        require("iao/grid/GridConfig")), nav = require("iao/cardflow/steps/navSteps"),
      interactions = require("fz/core/interactions"), StepFinal = function (_StepBase) {
        function StepFinal (dom) {
          _classCallCheck(this, StepFinal);
          var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(StepFinal).call(this));
          return _this._dom = dom.querySelector(".cardflow-final"), _this._binds = {}, _this._binds.onAvatarLoaded = _this._onAvatarLoaded.bind(_this), _this._binds.onEnd = _this._onEnd.bind(_this), _this
        }

        return _inherits(StepFinal, _StepBase), _createClass(StepFinal, [{
          key: "_onAvatarLoaded", value: function () {
            this._domImgAvatar.src = user.url
          }
        }, {
          key: "_onEnd", value: function () {
            this._hideBtEnd(), cardProject.save(), this._post(), $.post("/trackevent", {
              category: "Home",
              action: "Click",
              label: "Click - Add to gallery"
            })
          }
        }, {
          key: "_hideBtEnd", value: function () {
            this._domBtEnd.style.display = "none"
          }
        }, {
          key: "_post", value: function () {
            var _this2 = this, url = "/user/update/me",
              posting = $.post(url, {project_id: cardProject.data.id, fancard_image: cardProject.canvas.toDataURL()});
            posting.done(function (data) {
              var response = JSON.parse(data).response;
              return response.statusbool ? void window.saveCard(response.user.id) : void _this2._post()
            })
          }
        }, {
          key: "init", value: function () {
            this._type = nav.type, this._dom.classList.add(this._type), this._domCard = this._dom.querySelector(".cardflow-card"), this._domBtEnd = document.getElementById("cardflow-mobile-btgallery"), this._domImgAvatar = document.getElementById("cardflow-mobile-avatar"), this._domName = this._dom.querySelector(".cardflow-name"), this._domName.innerHTML = user.name, this._domType = this._dom.querySelector(".cardflow-type"), this._domType.innerHTML = GridConfig.texts[nav.type].title, this._loadAvatar()
          }
        }, {
          key: "_loadAvatar", value: function () {
            this._imgToLoad = new Image, this._imgToLoad.addEventListener("load", this._binds.onAvatarLoaded, !1), this._imgToLoad.src = user.url
          }
        }, {
          key: "bindEvents", value: function () {
            interactions.on(this._domBtEnd, "click", this._binds.onEnd)
          }
        }, {
          key: "unbindEvents", value: function () {
            this._imgToLoad.removeEventListener("load", this._binds.onAvatarLoaded, !1)
          }
        }, {
          key: "show", value: function () {
            var _this3 = this, delay = arguments.length <= 0 || void 0 === arguments[0] ? 0 : arguments[0];
            _get(Object.getPrototypeOf(StepFinal.prototype), "show", this).call(this, delay), this._domBtEnd.style.display = "block", TweenLite.set(this._domCard, {css: {alpha: 0}}), setTimeout(function () {
              _this3._domCard.style.height = _this3._domCard.offsetWidth + "px", TweenLite.to(_this3._domCard, .6, {
                css: {alpha: 1},
                ease: Cubic.easeOut
              })
            }, 500)
          }
        }, {
          key: "hide", value: function () {
            var delay = arguments.length <= 0 || void 0 === arguments[0] ? 0 : arguments[0];
            _get(Object.getPrototypeOf(StepFinal.prototype), "hide", this).call(this, delay), this._domBtEnd.style.display = "none"
          }
        }, {
          key: "_onHideComplete", value: function () {
            this._dom.classList.remove(this._type)
          }
        }]), StepFinal
      }(StepBase);
    module.exports = StepFinal
  }, {
    "fz/core/interactions": 2,
    "fz/core/stage": 4,
    "iao/cardflow/cardProject": 14,
    "iao/cardflow/cardUser": 15,
    "iao/cardflow/cardflowData": 16,
    "iao/cardflow/steps/navSteps": 17,
    "iao/cardflow_mobile/steps/StepBase": 20,
    "iao/grid/GridConfig": 27
  }],
  23: [function (require, module, exports) {
    "use strict";

    function _classCallCheck (instance, Constructor) {
      if (!(instance instanceof Constructor)) throw new TypeError("Cannot call a class as a function")
    }

    function _possibleConstructorReturn (self, call) {
      if (!self) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      return !call || "object" != typeof call && "function" != typeof call ? self : call
    }

    function _inherits (subClass, superClass) {
      if ("function" != typeof superClass && null !== superClass) throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
      subClass.prototype = Object.create(superClass && superClass.prototype, {
        constructor: {
          value: subClass,
          enumerable: !1,
          writable: !0,
          configurable: !0
        }
      }), superClass && (Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass)
    }

    var _createClass = function () {
        function defineProperties (target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || !1, descriptor.configurable = !0, "value" in descriptor && (descriptor.writable = !0), Object.defineProperty(target, descriptor.key, descriptor)
          }
        }

        return function (Constructor, protoProps, staticProps) {
          return protoProps && defineProperties(Constructor.prototype, protoProps), staticProps && defineProperties(Constructor, staticProps), Constructor
        }
      }(), StepBase = require("iao/cardflow_mobile/steps/StepBase"), nav = require("iao/cardflow/steps/navSteps"),
      user = (require("fz/core/interactions"), require("iao/cardflow/cardUser")), StepLogin = function (_StepBase) {
        function StepLogin (dom) {
          _classCallCheck(this, StepLogin);
          var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(StepLogin).call(this));
          return _this._dom = dom.querySelector(".cardflow-login"), _this._binds = {}, _this._binds.onBtLogin = _this._onBtLogin.bind(_this), _this
        }

        return _inherits(StepLogin, _StepBase), _createClass(StepLogin, [{
          key: "init", value: function () {
            this._domBt = this._dom.querySelector(".cardflow-bt-fb")
          }
        }, {
          key: "_onBtLogin", value: function (e) {
            e.preventDefault(), FB.login(function (response) {
              "connected" == response.status && (superagent.get("/fblogin_fz").end(function (err, res) {
              }), user.fetchInfos(function () {
                nav.setId("selection")
              }))
            })
          }
        }, {
          key: "bindEvents", value: function () {
            this._domBt.addEventListener("click", this._binds.onBtLogin, !1)
          }
        }, {
          key: "unbindEvents", value: function () {
            this._domBt.removeEventListener("click", this._binds.onBtLogin, !1)
          }
        }]), StepLogin
      }(StepBase);
    module.exports = StepLogin
  }, {
    "fz/core/interactions": 2,
    "iao/cardflow/cardUser": 15,
    "iao/cardflow/steps/navSteps": 17,
    "iao/cardflow_mobile/steps/StepBase": 20
  }],
  24: [function (require, module, exports) {
    "use strict";

    function _classCallCheck (instance, Constructor) {
      if (!(instance instanceof Constructor)) throw new TypeError("Cannot call a class as a function")
    }

    function _possibleConstructorReturn (self, call) {
      if (!self) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      return !call || "object" != typeof call && "function" != typeof call ? self : call
    }

    function _inherits (subClass, superClass) {
      if ("function" != typeof superClass && null !== superClass) throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
      subClass.prototype = Object.create(superClass && superClass.prototype, {
        constructor: {
          value: subClass,
          enumerable: !1,
          writable: !0,
          configurable: !0
        }
      }), superClass && (Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass)
    }

    var _createClass = function () {
        function defineProperties (target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || !1, descriptor.configurable = !0, "value" in descriptor && (descriptor.writable = !0), Object.defineProperty(target, descriptor.key, descriptor)
          }
        }

        return function (Constructor, protoProps, staticProps) {
          return protoProps && defineProperties(Constructor.prototype, protoProps), staticProps && defineProperties(Constructor, staticProps), Constructor
        }
      }(), StepBase = require("iao/cardflow_mobile/steps/StepBase"), nav = require("iao/cardflow/steps/navSteps"),
      interactions = require("fz/core/interactions"), user = require("iao/cardflow/cardUser"),
      StepSelection = function (_StepBase) {
        function StepSelection (dom) {
          _classCallCheck(this, StepSelection);
          var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(StepSelection).call(this));
          return _this._dom = dom.querySelector(".cardflow-selection"), _this._binds = {}, _this._binds.onBtClick = _this._onBtClick.bind(_this), _this
        }

        return _inherits(StepSelection, _StepBase), _createClass(StepSelection, [{
          key: "_onBtClick",
          value: function (e) {
            e.origin.preventDefault();
            var value = e.origin.target.getAttribute("data-value");
            nav.setType(value), nav.setId("choice")
          }
        }, {
          key: "init", value: function () {
            this._domBts = this._dom.querySelectorAll(".cardflow-selection-bt"), this._domName = this._dom.querySelector(".cardflow-username"), this._domName.innerHTML = user.name.toUpperCase()
          }
        }, {
          key: "bindEvents", value: function () {
            for (var n = this._domBts.length, i = 0; i < n; i++) interactions.on(this._domBts[i], "click", this._binds.onBtClick)
          }
        }, {
          key: "unbindEvents", value: function () {
            for (var n = this._domBts.length, i = 0; i < n; i++) interactions.off(this._domBts[i], "click", this._binds.onBtClick)
          }
        }]), StepSelection
      }(StepBase);
    module.exports = StepSelection
  }, {
    "fz/core/interactions": 2,
    "iao/cardflow/cardUser": 15,
    "iao/cardflow/steps/navSteps": 17,
    "iao/cardflow_mobile/steps/StepBase": 20
  }],
  25: [function (require, module, exports) {
    "use strict";

    function _classCallCheck (instance, Constructor) {
      if (!(instance instanceof Constructor)) throw new TypeError("Cannot call a class as a function")
    }

    var _createClass = function () {
        function defineProperties (target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || !1, descriptor.configurable = !0, "value" in descriptor && (descriptor.writable = !0), Object.defineProperty(target, descriptor.key, descriptor)
          }
        }

        return function (Constructor, protoProps, staticProps) {
          return protoProps && defineProperties(Constructor.prototype, protoProps), staticProps && defineProperties(Constructor, staticProps), Constructor
        }
      }(), StepLogin = require("./StepLogin"), StepSelection = require("./StepSelection"),
      StepChoice = require("./StepChoice"), StepFinal = require("./StepFinal"),
      stepsElements = require("iao/cardflow/steps/stepsElements"), nav = require("iao/cardflow/steps/navSteps"),
      Steps = function () {
        function Steps (dom) {
          _classCallCheck(this, Steps), this._dom = dom, stepsElements.process(), this._binds = {}, this._binds.onChangeId = this._onChangeId.bind(this)
        }

        return _createClass(Steps, [{
          key: "_onChangeId", value: function () {
            var delay = arguments.length <= 0 || void 0 === arguments[0] ? -1 : arguments[0];
            if (this._current) {
              var old = this._current;
              old.unbindEvents(), old.hide()
            }
            this._current = this._getStep(), this._current.init(), this._current.bindEvents(), this._current.show(delay == -1 ? .25 : delay)
          }
        }, {
          key: "_getStep", value: function () {
            return "login" == nav.id ? new StepLogin(this._dom) : "selection" == nav.id ? new StepSelection(this._dom) : "choice" == nav.id ? new StepChoice(this._dom) : "final" == nav.id ? new StepFinal(this._dom) : void 0
          }
        }, {
          key: "bindEvents", value: function () {
            nav.on("changeId", this._binds.onChangeId)
          }
        }, {
          key: "unbindEvents", value: function () {
            nav.off("changeId", this._binds.onChangeId)
          }
        }, {
          key: "show", value: function () {
            var delay = arguments.length <= 0 || void 0 === arguments[0] ? 0 : arguments[0];
            this._onChangeId(delay)
          }
        }, {
          key: "hide", value: function () {
            arguments.length <= 0 || void 0 === arguments[0] ? 0 : arguments[0];
            this._current.unbindEvents(), this._current.hide()
          }
        }]), Steps
      }();
    module.exports = Steps
  }, {
    "./StepChoice": 21,
    "./StepFinal": 22,
    "./StepLogin": 23,
    "./StepSelection": 24,
    "iao/cardflow/steps/navSteps": 17,
    "iao/cardflow/steps/stepsElements": 18
  }],
  26: [function (require, module, exports) {
    "use strict";
    var config = {};
    config.dimensions = {topbar: {w: 0, h: 63}}, module.exports = config
  }, {}],
  27: [function (require, module, exports) {
    "use strict";
    var config = {};
    config.catIds = {music: 1, fashion: 2, art: 3, social: 4, tv: 5}, config.colors = {
      fashion: {
        default: 1369306,
        dark: 1028788
      },
      music: {default: 16567556, dark: 15708702},
      social: {default: 10898121, dark: 7485832},
      art: {default: 4470420, dark: 3286647},
      tv: {default: 16739881, dark: 13849108}
    }, config.types = ["art", "fashion", "music", "social", "tv"], config.dimensions = {
      padding: 5,
      tile: 215,
      tileBig: 434
    }, config.countSets = 30, config.texts = {
      fashion: {name: "Jem", title: "fashion", hover: "CHANEL"},
      music: {name: "Tom", title: "music", hover: "FREEDOM"},
      social: {name: "Lauren", title: "social good", hover: "INTL.\nDAY OF\nHAPPINESS"},
      art: {name: "Maria", title: "art & design", hover: "PERSPECTIVE\nCHAIR"},
      tv: {name: "Andrew", title: "tv & film", hover: "THE\nVOICE"}
    }, module.exports = config
  }, {}],
  28: [function (require, module, exports) {
    "use strict";

    function _classCallCheck (instance, Constructor) {
      if (!(instance instanceof Constructor)) throw new TypeError("Cannot call a class as a function")
    }

    var _createClass = function () {
        function defineProperties (target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || !1, descriptor.configurable = !0, "value" in descriptor && (descriptor.writable = !0), Object.defineProperty(target, descriptor.key, descriptor)
          }
        }

        return function (Constructor, protoProps, staticProps) {
          return protoProps && defineProperties(Constructor.prototype, protoProps), staticProps && defineProperties(Constructor, staticProps), Constructor
        }
      }(), gridDataManager = require("iao/grid/gridDataManager"), GridConfig = require("iao/grid/GridConfig"),
      stage = require("fz/core/stage"), interactions = require("fz/core/interactions"),
      timeout = require("fz/utils/timeout"), uImages = require("fz/utils/images"),
      cardCreatorData = require("iao/card/cardCreatorData"), cardflow = require("iao/cardflow_mobile/cardflowMobile"),
      GridMobile = function () {
        function GridMobile () {
          _classCallCheck(this, GridMobile), this._idxPage = 0, this._height = 0, this._wBig = -1, this._wSmall = -1, this._padding = -1, this._firstCard = null, this._domCardOver = null, this._canLoadNextPage = !0, this._dataShareURL = "", this._dataShareTitle = "", this._dataShareImage = "", this._dataShareDesc = "", this._binds = {}, this._binds.onScrollTimeout = this._onScrollTimeout.bind(this), this._binds.onGetNewSizeTimeout = this._onGetNewSizeTimeout.bind(this), this._binds.onShareClose = this._onShareClose.bind(this), this._binds.onShareFB = this._onShareFb.bind(this), this._binds.onShareTwitter = this._onShareTwitter.bind(this), this._binds.onSharePinterest = this._onSharePinterest.bind(this), this._binds.onShareDownload = this._onShareDownload.bind(this)
        }

        return _createClass(GridMobile, [{
          key: "_onShareClose", value: function () {
            this._closeShareMenu()
          }
        }, {
          key: "_onShareFb", value: function () {
            FB.ui({
              method: "feed",
              href: location.href,
              link: location.href,
              name: "pharrellwilliams.com",
              picture: this._dataShareImage,
              description: this._dataShareDescNonEncoded
            }, function (res) {
            }), this._onShareClose(), $.post("/trackevent", {
              category: "Home",
              action: "Click",
              label: "Click - Share card facebook"
            })
          }
        }, {
          key: "_onShareTwitter", value: function () {
            var url = "https://twitter.com/intent/tweet?text=" + this._dataShareDescTwitter;
            this._openPopin(url, "twitter"), this._onShareClose(), $.post("/trackevent", {
              category: "Home",
              action: "Click",
              label: "Click - Share card twitter"
            })
          }
        }, {
          key: "_onSharePinterest", value: function () {
            var url = "http://pinterest.com/pin/create/button/?url=" + encodeURIComponent("http://pharrellwilliams.com") + "&media=" + this._dataShareImageEncoded + "&description=" + this._dataShareDesc;
            this._openPopin(url, "pinterest"), this._onShareClose(), $.post("/trackevent", {
              category: "Home",
              action: "Click",
              label: "Click - Share card pinterest"
            })
          }
        }, {
          key: "_onShareDownload", value: function () {
            window.open(this._dataShareImage, "_blank"), this._onShareClose(), $.post("/trackevent", {
              category: "Home",
              action: "Click",
              label: "Click - Download card"
            })
          }
        }, {
          key: "_openPopin", value: function (url, title) {
            window.open(url, title, "width=640,height=400")
          }
        }, {
          key: "bindElements", value: function () {
            this._domMain = document.getElementById("main"), this._domCardSample = document.getElementById("card-sample").querySelector(".card"), this._domShare = document.getElementById("share-card"), this._domShareClose = this._domShare.querySelector(".share-card-entry--header"), this._domShareFb = this._domShare.querySelector(".share-card-entry--fb"), this._domShareTwitter = this._domShare.querySelector(".share-card-entry--twitter"), this._domSharePinterest = this._domShare.querySelector(".share-card-entry--pinterest"), this._domShareDownload = this._domShare.querySelector(".share-card-entry--download")
          }
        }, {
          key: "bindEvents", value: function () {
            window.addEventListener("scroll", this._onScroll.bind(this)), window.addEventListener("touchstart", this._onTouchStart.bind(this), !1), window.addEventListener("touchmove", this._onTouchMove.bind(this), !1)
          }
        }, {
          key: "_onTouchStart", value: function (e) {
            this._yLast = e.touches[0].pageY, this._dy = 0
          }
        }, {
          key: "_onTouchMove", value: function (e) {
            cardflow.isOpen && e.preventDefault(), this._dy += Math.abs(e.touches[0].pageY - this._yLast), this._yLast = e.touches[0].pageY
          }
        }, {
          key: "_onScroll", value: function (e) {
            timeout(this._binds.onScrollTimeout, 10)
          }
        }, {
          key: "_onScrollTimeout", value: function () {
            var py = window.pageYOffset;
            this._canLoadNextPage && py > this._height - stage.height - 150 && (this._canLoadNextPage = !1, this.generatePage())
          }
        }, {
          key: "_onGetNewSizeTimeout", value: function () {
            this._getNewSize()
          }
        }, {
          key: "generatePage", value: function () {
            for (var dom = document.createDocumentFragment(), n = 0 == this._idxPage ? 1 : 3, i = 0; i < n; i++) dom.appendChild(this._createLine(!1, 0 == this._idxPage)), dom.appendChild(this._createLine(!0)), dom.appendChild(this._createLine(!1)), dom.appendChild(this._createLine(!0)), dom.appendChild(this._createLine(!0)), dom.appendChild(this._createLine(!1)), dom.appendChild(this._createLine(!1)), dom.appendChild(this._createLine(!0)), dom.appendChild(this._createLine(!1)), dom.appendChild(this._createLine(!0)), dom.appendChild(this._createLine(!0));
            this._domMain.appendChild(dom), this._idxPage++, this._getNewSize(), this._canLoadNextPage = !0
          }
        }, {
          key: "_createLine", value: function (isSmall, isFirst) {
            var domLine = this._getDomLine(isSmall, isFirst);
            return domLine
          }
        }, {
          key: "_getDomLine", value: function () {
            var _this = this, isSmall = !(arguments.length <= 0 || void 0 === arguments[0]) && arguments[0],
              isFirst = !(arguments.length <= 1 || void 0 === arguments[1]) && arguments[1],
              dom = document.createElement("div");
            dom.classList.add("line"), isSmall && dom.classList.add("line--small"), isFirst && dom.classList.add("line--first");
            var domCard = null;
            return isSmall ? !function () {
              domCard = _this._createCard(gridDataManager.getRandom(), !0), dom.appendChild(domCard);
              var domCard2 = _this._createCard(gridDataManager.getRandom(), !0, !0);
              dom.appendChild(domCard2), _this._wSmall == -1 ? timeout(function () {
                stage.width > 700 ? _this._wSmall = .97 * stage.width * .5 >> 0 : (_this._wSmall = .97 * stage.width * .5 - 2 >> 0, _this._wSmall += .5), domCard.style.width = domCard2.style.width = domCard.style.height = domCard2.style.height = _this._wSmall + "px"
              }, 10) : domCard.style.width = domCard2.style.width = domCard.style.height = domCard2.style.height = _this._wSmall + "px"
            }() : (isFirst ? (domCard = this._createCard(gridDataManager.getMineIfICan(), !1), this._firstCard = domCard) : domCard = this._createCard(gridDataManager.getRandom(), !1), dom.appendChild(domCard), this._wBig == -1 ? timeout(function () {
              _this._wBig = domCard.offsetWidth + 1, domCard.style.height = _this._wBig + "px"
            }, 10) : domCard.style.height = this._wBig + "px"), this._padding == -1 ? timeout(function () {
              var stageWidth = .97 * stage.width, cardSize = .5 * stageWidth - 2 >> 0;
              stage.width > 700 && (cardSize -= 1), _this._padding = stageWidth - 2 * cardSize >> 0, dom.style.paddingBottom = _this._padding + "px"
            }, 10) : dom.style.paddingBottom = this._padding + "px", dom
          }
        }, {
          key: "_createCard", value: function () {
            var data = arguments.length <= 0 || void 0 === arguments[0] ? null : arguments[0], _this2 = this,
              isSmall = !(arguments.length <= 1 || void 0 === arguments[1]) && arguments[1],
              isLast = !(arguments.length <= 2 || void 0 === arguments[2]) && arguments[2], type = data.type,
              sName = data.texts.name, sType = GridConfig.texts[type].title, sTextHover = data.texts.hover,
              urlAvatar = data.getUrlAvatar(), dataShareTitleNonEncoded = "Pharrell Williams",
              dataShareTitle = encodeURIComponent(dataShareTitleNonEncoded),
              dataShareImage = window.baseURLUserCardImage + "_userCards/" + data.idFB + "/pharrellwilliams.jpg?v=" + Date.now(),
              dataShareImageEncoded = encodeURIComponent(dataShareImage),
              dataShareDescNonEncoded = "Discover Pharrell's world through his fans. " + baseURL + "?fan=" + data.idFB,
              dataShareDescTwitter = encodeURIComponent("Discover Pharrell's world through his fans. " + baseURL + "?fan=" + data.idFB),
              dataShareDesc = encodeURIComponent(dataShareDescNonEncoded), dataShareURLNonEncoded = data.getURL();
            dataShareURLNonEncoded.indexOf("http:/") < 0 && (dataShareURLNonEncoded = "http:/" + dataShareURLNonEncoded);
            var dataShareURL = encodeURIComponent(dataShareURLNonEncoded), dom = this._getDomCard();
            dom.classList.add(type), isLast && dom.classList.add("card--last");
            var domCnt = dom.querySelector(".card-cnt"), domCardName = dom.querySelector(".card-name");
            domCardName.innerHTML = sName;
            var domCardType = dom.querySelector(".card-type");
            domCardType.innerHTML = sType;
            var domAvatar = dom.querySelector(".card-avatar-img"),
              domHoverTitleText = dom.querySelector(".card-hover-title");
            domHoverTitleText.innerHTML = sTextHover.toLowerCase();
            var domAvatarCnt = dom.querySelector(".card-avatar-cnt"),
              domAvatarHolder = dom.querySelector(".card-avatar"), domBlob = dom.querySelector(".card-blob"),
              domHoverImg = (dom.querySelector(".card-hover-bg"), dom.querySelector(".card-hover-img")),
              domHoverTop = dom.querySelector(".card-hover-top"),
              domHoverTitle = dom.querySelector(".card-hover-title-cnt"),
              domShareCnt = dom.querySelector(".card-share-cnt"), domShare = dom.querySelector(".card-share"),
              domShareHover = dom.querySelector(".card-hover-share"), domCta = dom.querySelector(".card-cta");
            TweenLite.to(domBlob, .01, {css: {rotation: 360 * Math.random()}});
            var urlImg = data.getUrlImg(), isShown = !1, isOver = !1, isImgHoverLoaded = !1, imgHover = new Image;
            imgHover.addEventListener("load", function () {
              domHoverImg.src = urlImg, isImgHoverLoaded = !0, isShown && TweenLite.to(domHoverImg, .6, {
                css: {alpha: 1},
                ease: Cubic.easeOut
              })
            }, !1);
            var imgAvatar = new Image;
            return imgAvatar.addEventListener("load", function () {
              domAvatar.src = urlAvatar;
              var size = domAvatarHolder.offsetWidth + 1,
                data = uImages.fit(imgAvatar.width, imgAvatar.height, size, size);
              domAvatar.width = data.w >> 0, domAvatar.height = data.h >> 0, domAvatar.style.width = (data.w >> 0) + "px", domAvatar.style.height = (data.h >> 0) + "px", domAvatar.style.left = (data.x >> 0) + "px", domAvatar.style.top = (data.y >> 0) + "px", TweenLite.to(domAvatar, .6, {
                css: {alpha: 1},
                ease: Cubic.easeOut
              })
            }, !1), imgAvatar.src = urlAvatar, domShareCnt.addEventListener("click", function () {
              _this2._dy > 15 || (_this2._dataShareTitleNonEncoded = dataShareTitleNonEncoded, _this2._dataShareTitle = dataShareTitle, _this2._dataShareImage = dataShareImage, _this2._dataShareImageEncoded = dataShareImageEncoded, _this2._dataShareDescNonEncoded = dataShareDescNonEncoded, _this2._dataShareDescTwitter = dataShareDescTwitter, _this2._dataShareDesc = dataShareDesc, _this2._dataShareURLNonEncoded = dataShareURLNonEncoded, _this2._dataShareURL = dataShareURL, _this2._openShareMenu())
            }, !1), dom.querySelector(".card-content").addEventListener("touchend", function (e) {
              if (!(_this2._dy > 15)) {
                if (isOver) return void(window.location.href = data.getURL());
                _this2._domCardOver && _this2._domCardOver.__close(), _this2._domCardOver = dom, isShown = !0, isOver = !0, imgHover.src = urlImg, TweenLite.to(domBlob, .6, {
                  css: {
                    scale: isSmall ? 2 : 3,
                    force3D: !0
                  }, ease: Cubic.easeOut
                }), TweenLite.to(domCardName, .5, {
                  css: {alpha: 0, force3D: !0},
                  ease: Cubic.easeOut
                }), TweenLite.to(domCardType, .5, {
                  css: {alpha: 0, force3D: !0},
                  ease: Cubic.easeOut
                }), TweenLite.to(domAvatarCnt, .6, {
                  css: {
                    scale: .5,
                    y: (isSmall ? -60 : -130) * (stage.width > 550 ? 2.35 : 1),
                    force3D: !0
                  }, ease: Cubic.easeOut
                }), TweenLite.to(domHoverTitle, .6, {
                  delay: .2,
                  css: {alpha: 1},
                  ease: Cubic.easeOut
                }), TweenLite.to(domShare, .6, {
                  delay: .2,
                  css: {alpha: 0},
                  ease: Cubic.easeOut
                }), TweenLite.to(domShareHover, .6, {
                  delay: .2,
                  css: {alpha: 1},
                  ease: Cubic.easeOut
                }), TweenLite.to(domHoverTop, .6, {
                  delay: .2,
                  css: {alpha: 1},
                  ease: Cubic.easeOut
                }), TweenLite.to(domCta, .6, {
                  delay: .2,
                  css: {alpha: 1},
                  ease: Cubic.easeOut
                }), isImgHoverLoaded && TweenLite.to(domHoverImg, .6, {delay: .4, css: {alpha: 1}, ease: Cubic.easeOut})
              }
            }, !1), dom.__close = function () {
              isShown = !1, isOver = !1, TweenLite.killTweensOf(domBlob), TweenLite.killTweensOf(domCardName), TweenLite.killTweensOf(domCardType), TweenLite.killTweensOf(domAvatarCnt), TweenLite.killTweensOf(domHoverTitle), TweenLite.killTweensOf(domShare), TweenLite.killTweensOf(domShareHover), TweenLite.killTweensOf(domHoverTop), TweenLite.killTweensOf(domHoverImg), TweenLite.to(domBlob, .6, {
                css: {
                  scale: isSmall ? .45 : .8,
                  force3D: !0
                }, ease: Cubic.easeOut
              }), TweenLite.to(domCardName, .5, {
                css: {alpha: 1, force3D: !0},
                ease: Cubic.easeOut
              }), TweenLite.to(domCardType, .5, {
                css: {alpha: 1, force3D: !0},
                ease: Cubic.easeOut
              }), TweenLite.to(domAvatarCnt, .6, {
                css: {scale: 1, y: 0, force3D: !0},
                ease: Cubic.easeOut
              }), TweenLite.to(domHoverTitle, .6, {
                css: {alpha: 0},
                ease: Cubic.easeOut
              }), TweenLite.to(domShare, .6, {
                delay: .2,
                css: {alpha: 1},
                ease: Cubic.easeOut
              }), TweenLite.to(domShareHover, .4, {
                css: {alpha: 0},
                ease: Cubic.easeOut
              }), TweenLite.to(domHoverTop, .4, {
                css: {alpha: 0},
                ease: Cubic.easeOut
              }), TweenLite.to(domHoverImg, .4, {
                css: {alpha: 0},
                ease: Cubic.easeOut
              }), TweenLite.to(domCta, .4, {css: {alpha: 0}, ease: Cubic.easeOut})
            }, dom.__update = function (dataNew) {
              var delay = 0;
              isOver ? (delay = 800, dom.__close()) : (TweenLite.to(domCnt, .6, {
                css: {alpha: 0},
                ease: Cubic.easeIn
              }), TweenLite.to(domCnt, .6, {
                delay: .65,
                css: {alpha: 1},
                ease: Cubic.easeOut
              }), delay = 600), timeout(function () {
                isImgHoverLoaded = !1, dom.classList.remove(type), data = dataNew, imgHover.src = "", domHoverImg.src = "", type = data.type, sName = data.texts.name, sType = GridConfig.texts[type].title, sTextHover = data.texts.hover, urlAvatar = data.getUrlAvatar(), urlImg = data.getUrlImg(), dataShareImage = window.baseURLUserCardImage + "_userCards/" + data.idFB + "/pharrellwilliams.jpg?v=" + Date.now(), dataShareImageEncoded = encodeURIComponent(dataShareImage), dataShareDescTwitter = encodeURIComponent("Visit " + baseURL + "?fan=" + data.idFB + " and explore his world through his fans."), dataShareURLNonEncoded = data.getURL(), dataShareURLNonEncoded.indexOf("http:/") < 0 && (dataShareURLNonEncoded = "http:/" + dataShareURLNonEncoded), dataShareURL = encodeURIComponent(dataShareURLNonEncoded), dom.classList.add(type), domCardName.innerHTML = sName, domCardType.innerHTML = sType, domHoverTitleText.innerHTML = sTextHover.toLowerCase(), domAvatar.src = "", imgAvatar.src = urlAvatar
              }, delay)
            }, dom
          }
        }, {
          key: "_openShareMenu", value: function () {
            this._domShare.style.display = "block", TweenLite.to(this._domShare, .6, {
              delay: .05,
              css: {alpha: 1},
              ease: Cubic.easeOut
            }), interactions.on(this._domShareClose, "click", this._binds.onShareClose), this._domShareFb.addEventListener("click", this._binds.onShareFB, !1), this._domShareTwitter.addEventListener("click", this._binds.onShareTwitter, !1), this._domSharePinterest.addEventListener("click", this._binds.onSharePinterest, !1), this._domShareDownload.addEventListener("click", this._binds.onShareDownload, !1), $.post("/trackevent", {
              category: "Home",
              action: "Click",
              label: "Click - Open share card"
            })
          }
        }, {
          key: "_closeShareMenu", value: function () {
            var _this3 = this;
            TweenLite.to(this._domShare, .6, {
              css: {alpha: 0}, ease: Cubic.easeOut, onComplete: function () {
                _this3._domShare.style.display = "none"
              }
            }), interactions.off(this._domShareClose, "click", this._binds.onShareClose), this._domShareFb.removeEventListener("click", this._binds.onShareFB, !1), this._domShareTwitter.removeEventListener("click", this._binds.onShareTwitter, !1), this._domSharePinterest.removeEventListener("click", this._binds.onSharePinterest, !1), this._domShareDownload.removeEventListener("click", this._binds.onShareDownload, !1)
          }
        }, {
          key: "_getDomCard", value: function () {
            return this._domCardSample.cloneNode(!0)
          }
        }, {
          key: "_getNewSize", value: function () {
            this._height = this._domMain.offsetHeight
          }
        }, {
          key: "saveNewCard", value: function () {
            this._firstCard.__update(cardCreatorData.get())
          }
        }]), GridMobile
      }();
    module.exports = GridMobile
  }, {
    "fz/core/interactions": 2,
    "fz/core/stage": 4,
    "fz/utils/images": 7,
    "fz/utils/timeout": 9,
    "iao/card/cardCreatorData": 13,
    "iao/cardflow_mobile/cardflowMobile": 19,
    "iao/grid/GridConfig": 27,
    "iao/grid/gridDataManager": 32
  }],
  29: [function (require, module, exports) {
    "use strict";

    function _classCallCheck (instance, Constructor) {
      if (!(instance instanceof Constructor)) throw new TypeError("Cannot call a class as a function")
    }

    var _createClass = function () {
        function defineProperties (target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || !1, descriptor.configurable = !0, "value" in descriptor && (descriptor.writable = !0), Object.defineProperty(target, descriptor.key, descriptor)
          }
        }

        return function (Constructor, protoProps, staticProps) {
          return protoProps && defineProperties(Constructor.prototype, protoProps), staticProps && defineProperties(Constructor, staticProps), Constructor
        }
      }(), GridConfig = require("iao/grid/GridConfig"),
      gridDataTexturesAvatar = require("iao/grid/data/gridDataTexturesAvatar"),
      gridDataTexturesImg = require("iao/grid/data/gridDataTexturesImg"),
      regExp = (require("fz/core/loop"), new RegExp("", "g")), GridData = function () {
        function GridData (type, value) {
          _classCallCheck(this, GridData), this.type = type, this.colors = GridConfig.colors[this.type], value.fb_name = value.fb_name.replace(regExp, "e"), this._value = value;
          var textsBase = GridConfig.texts[this.type];
          this.texts = {}, this.texts.title = textsBase.title, this.texts.name = this._removeDiacritics(value.fb_name.split(" ")[0]), this.texts.hover = this._formatTitle(value.project_title_short), this.idFB = value.fb_id, this.idFB.indexOf("sample") == -1 ? this._urlAvatar = "http://graph.facebook.com/" + value.fb_id + "/picture?type=large" : Math.random() < .5 ? this._urlAvatar = "/assets/img/grid/sample_guy.jpg" : this._urlAvatar = "/assets/img/grid/sample_girl.jpg", this._urlImg = baseURLUserImage + (value.project_asset_add || value.project_asset_square) + "-M_FanCard_Small.jpg", this.urlProject = value.project_url, this._isLoadComplete = !1
        }

        return _createClass(GridData, [{
          key: "_removeDiacritics", value: function (str) {
            for (var defaultDiacriticsRemovalMap = [{
              base: "A",
              letters: /[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g
            }, {base: "AA", letters: /[\uA732]/g}, {base: "AE", letters: /[\u00C6\u01FC\u01E2]/g}, {
              base: "AO",
              letters: /[\uA734]/g
            }, {base: "AU", letters: /[\uA736]/g}, {base: "AV", letters: /[\uA738\uA73A]/g}, {
              base: "AY",
              letters: /[\uA73C]/g
            }, {base: "B", letters: /[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g}, {
              base: "C",
              letters: /[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g
            }, {
              base: "D",
              letters: /[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g
            }, {base: "DZ", letters: /[\u01F1\u01C4]/g}, {base: "Dz", letters: /[\u01F2\u01C5]/g}, {
              base: "E",
              letters: /[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g
            }, {base: "F", letters: /[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g}, {
              base: "G",
              letters: /[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g
            }, {
              base: "H",
              letters: /[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g
            }, {
              base: "I",
              letters: /[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g
            }, {base: "J", letters: /[\u004A\u24BF\uFF2A\u0134\u0248]/g}, {
              base: "K",
              letters: /[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g
            }, {
              base: "L",
              letters: /[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g
            }, {base: "LJ", letters: /[\u01C7]/g}, {base: "Lj", letters: /[\u01C8]/g}, {
              base: "M",
              letters: /[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g
            }, {
              base: "N",
              letters: /[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g
            }, {base: "NJ", letters: /[\u01CA]/g}, {base: "Nj", letters: /[\u01CB]/g}, {
              base: "O",
              letters: /[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g
            }, {base: "OI", letters: /[\u01A2]/g}, {base: "OO", letters: /[\uA74E]/g}, {
              base: "OU",
              letters: /[\u0222]/g
            }, {base: "P", letters: /[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g}, {
              base: "Q",
              letters: /[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g
            }, {
              base: "R",
              letters: /[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g
            }, {
              base: "S",
              letters: /[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g
            }, {
              base: "T",
              letters: /[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g
            }, {base: "TZ", letters: /[\uA728]/g}, {
              base: "U",
              letters: /[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g
            }, {base: "V", letters: /[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g}, {
              base: "VY",
              letters: /[\uA760]/g
            }, {base: "W", letters: /[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g}, {
              base: "X", letters: /[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g
            }, {
              base: "Y",
              letters: /[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g
            }, {
              base: "Z",
              letters: /[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g
            }, {
              base: "a",
              letters: /[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g
            }, {base: "aa", letters: /[\uA733]/g}, {base: "ae", letters: /[\u00E6\u01FD\u01E3]/g}, {
              base: "ao",
              letters: /[\uA735]/g
            }, {base: "au", letters: /[\uA737]/g}, {base: "av", letters: /[\uA739\uA73B]/g}, {
              base: "ay",
              letters: /[\uA73D]/g
            }, {base: "b", letters: /[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g}, {
              base: "c",
              letters: /[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g
            }, {
              base: "d",
              letters: /[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g
            }, {base: "dz", letters: /[\u01F3\u01C6]/g}, {
              base: "e",
              letters: /[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g
            }, {base: "f", letters: /[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g}, {
              base: "g",
              letters: /[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g
            }, {
              base: "h",
              letters: /[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g
            }, {base: "hv", letters: /[\u0195]/g}, {
              base: "i",
              letters: /[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g
            }, {base: "j", letters: /[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g}, {
              base: "k",
              letters: /[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g
            }, {
              base: "l",
              letters: /[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g
            }, {base: "lj", letters: /[\u01C9]/g}, {
              base: "m",
              letters: /[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g
            }, {
              base: "n",
              letters: /[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g
            }, {base: "nj", letters: /[\u01CC]/g}, {
              base: "o",
              letters: /[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g
            }, {base: "oi", letters: /[\u01A3]/g}, {base: "ou", letters: /[\u0223]/g}, {
              base: "oo",
              letters: /[\uA74F]/g
            }, {base: "p", letters: /[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g}, {
              base: "q",
              letters: /[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g
            }, {
              base: "r",
              letters: /[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g
            }, {
              base: "s",
              letters: /[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g
            }, {
              base: "t",
              letters: /[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g
            }, {base: "tz", letters: /[\uA729]/g}, {
              base: "u",
              letters: /[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g
            }, {base: "v", letters: /[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g}, {
              base: "vy",
              letters: /[\uA761]/g
            }, {base: "w", letters: /[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g}, {
              base: "x",
              letters: /[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g
            }, {
              base: "y",
              letters: /[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g
            }, {
              base: "z",
              letters: /[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g
            }], i = 0; i < defaultDiacriticsRemovalMap.length; i++) str = str.replace(defaultDiacriticsRemovalMap[i].letters, defaultDiacriticsRemovalMap[i].base);
            return str
          }
        }, {
          key: "_formatTitle", value: function (value) {
            value = value.split("_").join(""), value = value.split("\n").join(" "), value = value.split(" ");
            for (var endValue = "", ns = "", n = value.length, i = 0; i < n; i++) {
              if (!value[i + 1]) {
                endValue += value[i];
                break
              }
              ns = value[i] + " " + value[i + 1] + "\n", ns.length <= 13 ? (endValue += ns, i++) : endValue += value[i] + "\n"
            }
            return endValue
          }
        }, {
          key: "getTextureAvatar", value: function () {
            return gridDataTexturesAvatar.get(this._urlAvatar)
          }
        }, {
          key: "getUrlAvatar", value: function () {
            return this._urlAvatar
          }
        }, {
          key: "getTextureImg", value: function () {
            return gridDataTexturesImg.get(this._urlImg)
          }
        }, {
          key: "getUrlImg", value: function () {
            return this._urlImg
          }
        }, {
          key: "getURL", value: function () {
            return "/cat/" + this._value.category_id + "/" + this._value.id
          }
        }]), GridData
      }();
    module.exports = GridData
  }, {
    "fz/core/loop": 3,
    "iao/grid/GridConfig": 27,
    "iao/grid/data/gridDataTexturesAvatar": 30,
    "iao/grid/data/gridDataTexturesImg": 31
  }],
  30: [function (require, module, exports) {
    "use strict";

    function _classCallCheck (instance, Constructor) {
      if (!(instance instanceof Constructor)) throw new TypeError("Cannot call a class as a function")
    }

    function _possibleConstructorReturn (self, call) {
      if (!self) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      return !call || "object" != typeof call && "function" != typeof call ? self : call
    }

    function _inherits (subClass, superClass) {
      if ("function" != typeof superClass && null !== superClass) throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
      subClass.prototype = Object.create(superClass && superClass.prototype, {
        constructor: {
          value: subClass,
          enumerable: !1,
          writable: !0,
          configurable: !0
        }
      }), superClass && (Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass)
    }

    var _createClass = function () {
        function defineProperties (target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || !1, descriptor.configurable = !0, "value" in descriptor && (descriptor.writable = !0), Object.defineProperty(target, descriptor.key, descriptor)
          }
        }

        return function (Constructor, protoProps, staticProps) {
          return protoProps && defineProperties(Constructor.prototype, protoProps), staticProps && defineProperties(Constructor, staticProps), Constructor
        }
      }(), loop = require("fz/core/loop"), Emitter = require("fz/events/Emitter"), uImages = require("fz/utils/images"),
      GridDataTexture = function (_Emitter) {
        function GridDataTexture (url) {
          _classCallCheck(this, GridDataTexture);
          var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(GridDataTexture).call(this));
          return _this._url = url, _this.isLoading = !1, _this.isLoaded = !1, _this._binds = {}, _this._binds.onUpdate = _this._onUpdate.bind(_this), _this
        }

        return _inherits(GridDataTexture, _Emitter), _createClass(GridDataTexture, [{
          key: "_onUpdate",
          value: function () {
            this._texture._frame.width > 1 && this._texture._frame.height > 1 && (loop.remove(this._binds.onUpdate), this.isLoading = !1, this.isLoaded = !0, this.emit("loaded"))
          }
        }, {
          key: "load", value: function () {
            var _this2 = this;
            if (!this.isLoading) {
              if (this.isLoaded) return void this.emit("loaded");
              this.isLoading = !0;
              var img = new Image;
              img.addEventListener("load", function () {
                var size = img.width << 1, canvas = document.createElement("canvas");
                canvas.width = size, canvas.height = size;
                var ctx = canvas.getContext("2d");
                ctx.save(), ctx.beginPath(), ctx.fillStyle = "green", ctx.arc(size >> 1, size >> 1, size >> 1, 0, 2 * Math.PI, !1), ctx.clip();
                var data = uImages.fit(img.width, img.height, size, size);
                ctx.drawImage(img, data.x, data.y, data.w, data.h), _this2._texture = PIXI.Texture.fromCanvas(canvas), _this2.isLoading = !1, _this2.isLoaded = !0, _this2.emit("loaded")
              }), img.crossOrigin = "anonymous", img.src = this._url
            }
          }
        }, {
          key: "get", value: function () {
            return this._texture
          }
        }]), GridDataTexture
      }(Emitter), GridDataTextures = function () {
        function GridDataTextures () {
          _classCallCheck(this, GridDataTextures), this._texturesByUrl = {}
        }

        return _createClass(GridDataTextures, [{
          key: "get", value: function (url) {
            var texture = this._texturesByUrl[url];
            return texture || (texture = new GridDataTexture(url), this._texturesByUrl[url] = texture), texture
          }
        }]), GridDataTextures
      }();
    module.exports = new GridDataTextures
  }, {"fz/core/loop": 3, "fz/events/Emitter": 5, "fz/utils/images": 7}],
  31: [function (require, module, exports) {
    "use strict";

    function _classCallCheck (instance, Constructor) {
      if (!(instance instanceof Constructor)) throw new TypeError("Cannot call a class as a function")
    }

    function _possibleConstructorReturn (self, call) {
      if (!self) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      return !call || "object" != typeof call && "function" != typeof call ? self : call
    }

    function _inherits (subClass, superClass) {
      if ("function" != typeof superClass && null !== superClass) throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
      subClass.prototype = Object.create(superClass && superClass.prototype, {
        constructor: {
          value: subClass,
          enumerable: !1,
          writable: !0,
          configurable: !0
        }
      }), superClass && (Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass)
    }

    var _createClass = function () {
      function defineProperties (target, props) {
        for (var i = 0; i < props.length; i++) {
          var descriptor = props[i];
          descriptor.enumerable = descriptor.enumerable || !1, descriptor.configurable = !0, "value" in descriptor && (descriptor.writable = !0), Object.defineProperty(target, descriptor.key, descriptor)
        }
      }

      return function (Constructor, protoProps, staticProps) {
        return protoProps && defineProperties(Constructor.prototype, protoProps), staticProps && defineProperties(Constructor, staticProps), Constructor
      }
    }(), loop = require("fz/core/loop"), Emitter = require("fz/events/Emitter"), GridDataTexture = function (_Emitter) {
      function GridDataTexture (url) {
        _classCallCheck(this, GridDataTexture);
        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(GridDataTexture).call(this));
        return _this._url = url, _this.isLoading = !1, _this.isLoaded = !1, _this._binds = {}, _this._binds.onUpdate = _this._onUpdate.bind(_this), _this
      }

      return _inherits(GridDataTexture, _Emitter), _createClass(GridDataTexture, [{
        key: "_onUpdate",
        value: function () {
          this._texture._frame.width > 1 && this._texture._frame.height > 1 && (loop.remove(this._binds.onUpdate), this.isLoading = !1, this.isLoaded = !0, this.emit("loaded"))
        }
      }, {
        key: "load", value: function () {
          var _this2 = this;
          if (!this.isLoading) {
            if (this.isLoaded) return void this.emit("loaded");
            this.isLoading = !0;
            var img = new Image;
            img.addEventListener("load", function () {
              _this2._texture = PIXI.Texture.fromCanvas(img), _this2.isLoading = !1, _this2.isLoaded = !0, _this2.emit("loaded")
            }), img.crossOrigin = "anonymous", img.src = this._url
          }
        }
      }, {
        key: "get", value: function () {
          return this._texture
        }
      }]), GridDataTexture
    }(Emitter), GridDataTexturesImg = function () {
      function GridDataTexturesImg () {
        _classCallCheck(this, GridDataTexturesImg), this._texturesByUrl = {}
      }

      return _createClass(GridDataTexturesImg, [{
        key: "get", value: function (url) {
          var texture = this._texturesByUrl[url];
          return texture || (texture = new GridDataTexture(url), this._texturesByUrl[url] = texture), texture
        }
      }]), GridDataTexturesImg
    }();
    module.exports = new GridDataTexturesImg
  }, {"fz/core/loop": 3, "fz/events/Emitter": 5}],
  32: [function (require, module, exports) {
    "use strict";

    function _classCallCheck (instance, Constructor) {
      if (!(instance instanceof Constructor)) throw new TypeError("Cannot call a class as a function")
    }

    function _possibleConstructorReturn (self, call) {
      if (!self) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      return !call || "object" != typeof call && "function" != typeof call ? self : call
    }

    function _inherits (subClass, superClass) {
      if ("function" != typeof superClass && null !== superClass) throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
      subClass.prototype = Object.create(superClass && superClass.prototype, {
        constructor: {
          value: subClass,
          enumerable: !1,
          writable: !0,
          configurable: !0
        }
      }), superClass && (Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass)
    }

    var _createClass = function () {
        function defineProperties (target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || !1, descriptor.configurable = !0, "value" in descriptor && (descriptor.writable = !0), Object.defineProperty(target, descriptor.key, descriptor)
          }
        }

        return function (Constructor, protoProps, staticProps) {
          return protoProps && defineProperties(Constructor.prototype, protoProps), staticProps && defineProperties(Constructor, staticProps), Constructor
        }
      }(), GridConfig = require("iao/grid/GridConfig"), GridData = require("iao/grid/data/GridData"),
      cardUser = require("iao/cardflow/cardUser"), filters = require("iao/ui/filters"),
      Emitter = require("fz/events/Emitter"), GridDataManager = function (_Emitter) {
        function GridDataManager () {
          _classCallCheck(this, GridDataManager);
          var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(GridDataManager).call(this));
          return _this._myData = !1, _this._data = {}, _this
        }

        return _inherits(GridDataManager, _Emitter), _createClass(GridDataManager, [{
          key: "_createFakeData",
          value: function () {
            this._data = {};
            for (var type = "", n = GridConfig.types.length, i = 0; i < n; i++) type = GridConfig.types[i], this._data[type] = new GridData(type)
          }
        }, {
          key: "set", value: function (type, value) {
            this._data[type] = this._parse(type, value)
          }
        }, {
          key: "_parse", value: function (type, value) {
            for (var list = [], data = null, n = value.length, i = 0; i < n; i++) data = new GridData(type, value[i]), cardUser.id && data.idFB == cardUser.id ? this._myData = data : list.push(data);
            return list
          }
        }, {
          key: "get", value: function (forType) {
            var list = this._data[forType], data = list[Math.random() * list.length >> 0];
            return data
          }
        }, {
          key: "getRandom", value: function () {
            var type = filters.getRandom(), list = this._data[type], data = list[Math.random() * list.length >> 0];
            return data
          }
        }, {
          key: "getMineIfICan", value: function () {
            var typeOtherwise = arguments.length <= 0 || void 0 === arguments[0] ? null : arguments[0];
            return this._myData ? this._myData : this.get(typeOtherwise || GridConfig.types[GridConfig.types.length * Math.random() >> 0])
          }
        }, {
          key: "load", value: function () {
          }
        }, {
          key: "setMycard", value: function (data) {
            this._myData = data
          }
        }]), GridDataManager
      }(Emitter);
    module.exports = new GridDataManager
  }, {
    "fz/events/Emitter": 5,
    "iao/cardflow/cardUser": 15,
    "iao/grid/GridConfig": 27,
    "iao/grid/data/GridData": 29,
    "iao/ui/filters": 35
  }],
  33: [function (require, module, exports) {
    "use strict";

    function _classCallCheck (instance, Constructor) {
      if (!(instance instanceof Constructor)) throw new TypeError("Cannot call a class as a function")
    }

    function _possibleConstructorReturn (self, call) {
      if (!self) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      return !call || "object" != typeof call && "function" != typeof call ? self : call
    }

    function _inherits (subClass, superClass) {
      if ("function" != typeof superClass && null !== superClass) throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
      subClass.prototype = Object.create(superClass && superClass.prototype, {
        constructor: {
          value: subClass,
          enumerable: !1,
          writable: !0,
          configurable: !0
        }
      }), superClass && (Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass)
    }

    var _createClass = function () {
      function defineProperties (target, props) {
        for (var i = 0; i < props.length; i++) {
          var descriptor = props[i];
          descriptor.enumerable = descriptor.enumerable || !1, descriptor.configurable = !0, "value" in descriptor && (descriptor.writable = !0), Object.defineProperty(target, descriptor.key, descriptor)
        }
      }

      return function (Constructor, protoProps, staticProps) {
        return protoProps && defineProperties(Constructor.prototype, protoProps), staticProps && defineProperties(Constructor, staticProps), Constructor
      }
    }(), Emitter = require("fz/events/Emitter"), GridObserver = function (_Emitter) {
      function GridObserver () {
        _classCallCheck(this, GridObserver);
        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(GridObserver).call(this));
        return _this.canOver = !0, _this.isMenuOpen = !1, _this.isClick = !1, _this.isDragging = !1, _this.isInteractive = !1, _this.isFBOpen = !1, _this
      }

      return _inherits(GridObserver, _Emitter), _createClass(GridObserver, [{
        key: "setFBOpen", value: function (value) {
          this.isFBOpen != value && (this.isFBOpen = value)
        }
      }, {
        key: "setCanOver", value: function (value) {
          this.canOver != value && (this.canOver = value, this.emit("changeCanOver"))
        }
      }, {
        key: "setMenuOpen", value: function (value) {
          this.isMenuOpen != value && (this.isMenuOpen = value, this.emit("changeMenuOpen"))
        }
      }, {
        key: "setDragging", value: function (value) {
          this.isDragging != value && (this.isDragging = value, this.emit("changeDragging"))
        }
      }, {
        key: "setInteractive", value: function (value) {
          this.isInteractive != value && (this.isInteractive = value, this.emit("changeInteractive"))
        }
      }]), GridObserver
    }(Emitter);
    module.exports = new GridObserver
  }, {"fz/events/Emitter": 5}],
  34: [function (require, module, exports) {
    "use strict";

    function _classCallCheck (instance, Constructor) {
      if (!(instance instanceof Constructor)) throw new TypeError("Cannot call a class as a function")
    }

    function _possibleConstructorReturn (self, call) {
      if (!self) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      return !call || "object" != typeof call && "function" != typeof call ? self : call
    }

    function _inherits (subClass, superClass) {
      if ("function" != typeof superClass && null !== superClass) throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
      subClass.prototype = Object.create(superClass && superClass.prototype, {
        constructor: {
          value: subClass,
          enumerable: !1,
          writable: !0,
          configurable: !0
        }
      }), superClass && (Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass)
    }

    var _createClass = function () {
      function defineProperties (target, props) {
        for (var i = 0; i < props.length; i++) {
          var descriptor = props[i];
          descriptor.enumerable = descriptor.enumerable || !1, descriptor.configurable = !0, "value" in descriptor && (descriptor.writable = !0), Object.defineProperty(target, descriptor.key, descriptor)
        }
      }

      return function (Constructor, protoProps, staticProps) {
        return protoProps && defineProperties(Constructor.prototype, protoProps), staticProps && defineProperties(Constructor, staticProps), Constructor
      }
    }(), Emitter = require("fz/events/Emitter"), Addcard = function (_Emitter) {
      function Addcard () {
        return _classCallCheck(this, Addcard), _possibleConstructorReturn(this, Object.getPrototypeOf(Addcard).call(this))
      }

      return _inherits(Addcard, _Emitter), _createClass(Addcard, [{
        key: "bindElements", value: function () {
          this._domIframeCnt = document.getElementById("iframe-cnt"), this._domIframe = null
        }
      }, {
        key: "setScene", value: function (scene) {
          this.scene = scene
        }
      }, {
        key: "show", value: function () {
          this._domIframe = this._domIframeCnt.querySelector("iframe"), this.scene.blur(), this._domIframeCnt.style.display = "block", TweenLite.set(this._domIframeCnt, {css: {alpha: 0}}), TweenLite.to(this._domIframeCnt, .8, {
            css: {alpha: 1},
            ease: Cubic.easeInOut
          })
        }
      }, {
        key: "hide", value: function () {
          var _this2 = this;
          this.scene.unblur(), TweenLite.to(this._domIframeCnt, .6, {
            css: {alpha: 0},
            ease: Cubic.easeInOut,
            onComplete: function () {
              _this2.emit("hidden")
            }
          })
        }
      }]), Addcard
    }(Emitter);
    module.exports = new Addcard
  }, {"fz/events/Emitter": 5}],
  35: [function (require, module, exports) {
    "use strict";

    function _classCallCheck (instance, Constructor) {
      if (!(instance instanceof Constructor)) throw new TypeError("Cannot call a class as a function")
    }

    function _possibleConstructorReturn (self, call) {
      if (!self) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      return !call || "object" != typeof call && "function" != typeof call ? self : call
    }

    function _inherits (subClass, superClass) {
      if ("function" != typeof superClass && null !== superClass) throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
      subClass.prototype = Object.create(superClass && superClass.prototype, {
        constructor: {
          value: subClass,
          enumerable: !1,
          writable: !0,
          configurable: !0
        }
      }), superClass && (Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass)
    }

    var _createClass = function () {
        function defineProperties (target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || !1, descriptor.configurable = !0, "value" in descriptor && (descriptor.writable = !0), Object.defineProperty(target, descriptor.key, descriptor)
          }
        }

        return function (Constructor, protoProps, staticProps) {
          return protoProps && defineProperties(Constructor.prototype, protoProps), staticProps && defineProperties(Constructor, staticProps), Constructor
        }
      }(), GridConfig = (require("iao/ui/layer"), require("iao/grid/GridConfig")),
      gridObserver = require("iao/grid/gridObserver"), Emitter = require("fz/events/Emitter"),
      interactions = require("fz/core/interactions"), Filters = (require("fz/utils/timeout"), function (_Emitter) {
        function Filters () {
          _classCallCheck(this, Filters);
          var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Filters).call(this));
          return _this._prevInteractive = !1, _this
        }

        return _inherits(Filters, _Emitter), _createClass(Filters, [{
          key: "bindElements", value: function () {
            this.dom = document.getElementById("filters"), this._domsFilter = this.dom.querySelectorAll(".filter"), this._filters = [];
            for (var dom = null, n = this._domsFilter.length, i = 0; i < n; i++) dom = this._domsFilter[i], this._filters.push(dom.getAttribute("data-id"));
            this._countFilters = this._filters.length
          }
        }, {
          key: "_onOver", value: function () {
            this._prevInteractive = gridObserver.isInteractive, gridObserver.setInteractive(!1)
          }
        }, {
          key: "_onOut", value: function () {
            gridObserver.setInteractive(this._prevInteractive)
          }
        }, {
          key: "_onDown", value: function (e) {
            var eOrigin = e.origin;
            eOrigin.preventDefault(), eOrigin.stopImmediatePropagation();
            var dom = eOrigin.currentTarget, id = dom.getAttribute("data-id");
            if (dom.classList.contains("selected")) {
              if (this._filters.length <= 1) return;
              dom.classList.remove("selected");
              var idx = this._filters.indexOf(id);
              if (idx < 0) return;
              this._filters.splice(idx, 1)
            } else dom.classList.add("selected"), this._filters.push(id);
            $.post("/trackevent", {category: "Home", action: "Click", label: "Click - Filter"}), this.emit("change")
          }
        }, {
          key: "_selectOnly", value: function (domToSelect) {
            for (var dom = null, n = this._domsFilter.length, i = 0; i < n; i++) dom = this._domsFilter[i], domToSelect != dom && dom.classList.remove("selected")
          }
        }, {
          key: "bindEvents", value: function () {
            for (var dom = null, n = this._domsFilter.length, i = 0; i < n; i++) dom = this._domsFilter[i], interactions.on(dom, "down", this._onDown.bind(this));
            interactions.on(this.dom, "over", this._onOver.bind(this)), interactions.on(this.dom, "out", this._onOut.bind(this))
          }
        }, {
          key: "has", value: function (type) {
            return this._filters.indexOf(type) >= 0
          }
        }, {
          key: "getRandom", value: function () {
            return this._filters ? this._filters[this._filters.length * Math.random() >> 0] : GridConfig.types[5 * Math.random() >> 0]
          }
        }, {
          key: "getFilters", value: function () {
            return this._filter
          }
        }, {
          key: "show", value: function () {
            var delay = arguments.length <= 0 || void 0 === arguments[0] ? 0 : arguments[0];
            TweenLite.to(this.dom, .6, {delay: delay, css: {y: -60}, ease: Cubic.easeInOut});
            for (var d = .2, dAdd = .09, dAddMin = .02, dFriction = .69, dom = null, n = this._domsFilter.length, i = 0; i < n; i++) dom = this._domsFilter[i], TweenLite.set(dom, {css: {alpha: 0}}), TweenLite.to(dom, .6, {
              delay: delay + d,
              css: {alpha: 1},
              ease: Cubic.easeInOut
            }), d += dAdd, dAdd *= dFriction, dAdd < dAddMin && (dAdd = dAddMin)
          }
        }, {
          key: "hide", value: function () {
          }
        }]), Filters
      }(Emitter));
    module.exports = new Filters
  }, {
    "fz/core/interactions": 2,
    "fz/events/Emitter": 5,
    "fz/utils/timeout": 9,
    "iao/grid/GridConfig": 27,
    "iao/grid/gridObserver": 33,
    "iao/ui/layer": 37
  }],
  36: [function (require, module, exports) {
    "use strict";

    function _classCallCheck (instance, Constructor) {
      if (!(instance instanceof Constructor)) throw new TypeError("Cannot call a class as a function")
    }

    var _createClass = function () {
        function defineProperties (target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || !1, descriptor.configurable = !0, "value" in descriptor && (descriptor.writable = !0), Object.defineProperty(target, descriptor.key, descriptor)
          }
        }

        return function (Constructor, protoProps, staticProps) {
          return protoProps && defineProperties(Constructor.prototype, protoProps), staticProps && defineProperties(Constructor, staticProps), Constructor
        }
      }(), interactions = require("fz/core/interactions"), stage = require("fz/core/stage"),
      engine = require("core/engine"), menu = require("iao/ui/menu"), layer = require("iao/ui/layer"),
      gridObserver = require("iao/grid/gridObserver"), topbar = require("iao/ui/topbar"), IamOther = function () {
        function IamOther () {
          _classCallCheck(this, IamOther), this._layer = new PIXI.Graphics, this._layer.interactive = !0, this._w = 0, this._isExpanded = !1, this._binds = {}, this._binds.onOver = this._onOver.bind(this), this._binds.onOut = this._onOut.bind(this), this._binds.onClick = this._onClick.bind(this), this._binds.onClickMobile = this._onClickMobile.bind(this), this._binds.onClickClose = this._onClickClose.bind(this), this._binds.onClickCloseMobile = this._onClickCloseMobile.bind(this), this._binds.onToggleClick = this._onToggleClick.bind(this)
        }

        return _createClass(IamOther, [{
          key: "_onOver", value: function () {
            isMobile || gridObserver.setInteractive(!1), TweenLite.to(this._domBtBg, .3, {
              delay: .1,
              css: {scale: 1.1, rotation: 10},
              ease: Cubic.easeIn
            }), TweenLite.to(this._domBtBg, .15, {
              delay: .4,
              css: {scale: 1.05, rotation: 0},
              ease: Cubic.easeOut
            }), TweenLite.to(this._domBtContent, .3, {
              css: {scale: 1.1, rotation: 10},
              ease: Cubic.easeIn
            }), TweenLite.to(this._domBtContent, .15, {delay: .3, css: {scale: 1, rotation: 0}, ease: Cubic.easeOut})
          }
        }, {
          key: "_onOut", value: function () {
            isMobile || gridObserver.setInteractive(!0), TweenLite.to(this._domBtBg, .2, {
              css: {scale: 1},
              ease: Cubic.easeOut
            })
          }
        }, {
          key: "_onClick", value: function () {
            var e = arguments.length <= 0 || void 0 === arguments[0] ? null : arguments[0];
            null != e && (e.origin.preventDefault(), e.origin.stopPropagation(), e.origin.stopImmediatePropagation()), document.body.classList.add("modal-active"), document.body.classList.add("dark"), $.post("/trackevent", {
              category: "Home",
              action: "Click",
              label: "Click - IAmOtherBlob"
            }), menu.hide(), this._unbindEventsButton(), TweenLite.to(this._domBtBg, .3 * (isMobile ? 2 : 1), {
              delay: .1,
              css: {scale: 0, rotation: 10},
              ease: Cubic.easeInOut
            }), TweenLite.to(this._domBtContent, .2 * (isMobile ? 2 : 1), {
              css: {alpha: 0},
              ease: Cubic.easeOut
            }), engine.stage.addChild(this._layer), isMobile || (topbar.hide(), topbar.lock(!0), gridObserver.setInteractive(!1)), this._w = 0, TweenLite.to(this, .6, {
              _w: 1.25 * stage.width,
              onUpdate: this._drawGraphics.bind(this),
              ease: Cubic.easeInOut
            }), TweenLite.to(this._domModal, .8, {delay: .2, css: {alpha: 1}, ease: Quart.easeInOut})
          }
        }, {
          key: "_onClickMobile", value: function (e) {
            e.origin.preventDefault(), document.body.classList.add("modal-active"), document.body.classList.add("dark"), this._unbindEventsButton(), layer.setBlack(), layer.show(), TweenLite.to(this._domModal, .8, {
              delay: .2,
              css: {alpha: 1},
              ease: Quart.easeInOut
            })
          }
        }, {
          key: "_drawGraphics", value: function () {
            this._layer.clear(), this._layer.beginFill(0, 1), this._layer.drawCircle(stage.width - 60, stage.height - 30, this._w)
          }
        }, {
          key: "_onClickClose", value: function (e) {
            var _this = this;
            e.origin.preventDefault(), TweenLite.to(this._domModal, .4, {
              css: {alpha: 0},
              ease: Cubic.easeInOut,
              onComplete: function () {
                document.body.classList.remove("modal-active"), document.body.classList.remove("dark")
              }
            }), isMobile || (topbar.lock(!1), topbar.show(), gridObserver.setInteractive(!0)), TweenLite.to(this, .6, {
              _w: 1e-4,
              onUpdate: this._drawGraphics.bind(this),
              onComplete: function () {
                engine.stage.removeChild(_this._layer)
              },
              ease: Cubic.easeInOut
            }), TweenLite.to(this._domBtBg, .6, {
              css: {scale: 1, rotation: 0},
              ease: Cubic.easeInOut
            }), TweenLite.to(this._domBtContent, .6, {
              delay: .4,
              css: {alpha: 1},
              ease: Cubic.easeOut,
              onComplete: this._bindEventsButton.bind(this)
            })
          }
        }, {
          key: "_onClickCloseMobile", value: function (e) {
            e.preventDefault(), e.stopPropagation(), e.stopImmediatePropagation(), TweenLite.to(this._domModal, .4, {
              css: {alpha: 0},
              ease: Cubic.easeInOut,
              onComplete: function () {
                document.body.classList.remove("modal-active"), document.body.classList.remove("dark")
              }
            }), layer.hide()
          }
        }, {
          key: "bindElements", value: function () {
            this._domBt = document.querySelector(".bt-iamother"), isMobile && (this._domBtMobile = document.getElementById("bt-menu-iamother")), this._domBtBg = this._domBt.querySelector(".bg"), this._domBtContent = this._domBt.querySelector(".content"), this._domModal = document.querySelector(".modal.iamother"), this._domClose = document.querySelector(".modal.iamother .close"), this._domInner = this._domModal.querySelector(".inner"), isMobile && (this._domToggle = this._domModal.querySelector(".text-toggle")), TweenLite.set(this._domModal, {css: {alpha: 0}}), TweenLite.set(this._domBtBg, {
              css: {
                scale: 0,
                rotation: 75
              }
            }), TweenLite.set(this._domBtContent, {css: {alpha: 0}})
          }
        }, {
          key: "_onToggleClick", value: function (e) {
            var _this2 = this;
            setTimeout(function () {
              _this2._isExpanded = !_this2._isExpanded;
              var h = (document.body.offsetWidth, _this2._domInner.offsetHeight);
              _this2._isExpanded ? _this2._domInner.style.height = h + "px" : _this2._domInner.style.height = "auto", _this2._domModal.style.top = window.scrollY + "px"
            }, 100)
          }
        }, {
          key: "bindEvents", value: function () {
            this._bindEventsButton(), isMobile ? (this._domClose.addEventListener("click", this._binds.onClickCloseMobile, !1), this._domToggle.addEventListener("click", this._binds.onToggleClick, !1)) : interactions.on(this._domClose, "click", this._binds.onClickClose)
          }
        }, {
          key: "_bindEventsButton", value: function () {
            isMobile ? interactions.on(this._domBtMobile, "click", this._binds.onClickMobile) : (interactions.on(this._domBt, "over", this._binds.onOver), interactions.on(this._domBt, "out", this._binds.onOut), interactions.on(this._domBt, "click", this._binds.onClick))
          }
        }, {
          key: "_unbindEventsButton", value: function () {
            isMobile ? interactions.on(this._domBtMobile, "click", this._binds.onClickMobile) : (interactions.off(this._domBt, "over", this._binds.onOver), interactions.off(this._domBt, "out", this._binds.onOut), interactions.off(this._domBt, "click", this._binds.onClick))
          }
        }, {
          key: "show", value: function () {
            var delay = arguments.length <= 0 || void 0 === arguments[0] ? 0 : arguments[0];
            this._domBt.style.display = "block", TweenLite.to(this._domBtBg, .6, {
              delay: delay,
              css: {scale: 1, rotation: 0},
              ease: Cubic.easeInOut
            }), TweenLite.to(this._domBtContent, .6, {
              delay: delay + .4,
              css: {alpha: 1},
              ease: Cubic.easeOut
            }), isMobile && (this._domModal.style.top = window.scrollY + "px")
          }
        }]), IamOther
      }();
    module.exports = new IamOther
  }, {
    "core/engine": 1,
    "fz/core/interactions": 2,
    "fz/core/stage": 4,
    "iao/grid/gridObserver": 33,
    "iao/ui/layer": 37,
    "iao/ui/menu": 39,
    "iao/ui/topbar": 41
  }],
  37: [function (require, module, exports) {
    "use strict";

    function _classCallCheck (instance, Constructor) {
      if (!(instance instanceof Constructor)) throw new TypeError("Cannot call a class as a function")
    }

    var _createClass = function () {
      function defineProperties (target, props) {
        for (var i = 0; i < props.length; i++) {
          var descriptor = props[i];
          descriptor.enumerable = descriptor.enumerable || !1, descriptor.configurable = !0, "value" in descriptor && (descriptor.writable = !0), Object.defineProperty(target, descriptor.key, descriptor)
        }
      }

      return function (Constructor, protoProps, staticProps) {
        return protoProps && defineProperties(Constructor.prototype, protoProps), staticProps && defineProperties(Constructor, staticProps), Constructor
      }
    }(), Layer = (require("fz/core/interactions"), function () {
      function Layer () {
        _classCallCheck(this, Layer), this._isShown = !1
      }

      return _createClass(Layer, [{
        key: "bindElements", value: function () {
          this.dom = document.getElementById("layer"), this._domBg = this.dom.querySelector(".bg")
        }
      }, {
        key: "bindEvents", value: function () {
        }
      }, {
        key: "show", value: function () {
          var delay = arguments.length <= 0 || void 0 === arguments[0] ? 0 : arguments[0];
          this._isShown = !0, this.dom.style.display = "block", TweenLite.to(this._domBg, 1, {
            delay: delay,
            css: {alpha: 1, force3D: !0},
            ease: Cubic.easeInOut
          })
        }
      }, {
        key: "hide", value: function () {
          var _this = this, delay = arguments.length <= 0 || void 0 === arguments[0] ? 0 : arguments[0];
          this._isShown = !1, TweenLite.to(this._domBg, 1, {
            delay: delay,
            css: {alpha: 0, force3D: !0},
            ease: Cubic.easeInOut,
            onComplete: function () {
              _this._isShown || (_this.dom.style.display = "none", _this.setBlack())
            }
          })
        }
      }, {
        key: "setWhite", value: function () {
          this._domBg.classList.add("white")
        }
      }, {
        key: "setBlack", value: function () {
          this._domBg.classList.remove("white")
        }
      }]), Layer
    }());
    module.exports = new Layer
  }, {"fz/core/interactions": 2}],
  38: [function (require, module, exports) {
    "use strict";

    function _classCallCheck (instance, Constructor) {
      if (!(instance instanceof Constructor)) throw new TypeError("Cannot call a class as a function")
    }

    var _createClass = function () {
      function defineProperties (target, props) {
        for (var i = 0; i < props.length; i++) {
          var descriptor = props[i];
          descriptor.enumerable = descriptor.enumerable || !1, descriptor.configurable = !0,
          "value" in descriptor && (descriptor.writable = !0), Object.defineProperty(target, descriptor.key, descriptor)
        }
      }

      return function (Constructor, protoProps, staticProps) {
        return protoProps && defineProperties(Constructor.prototype, protoProps), staticProps && defineProperties(Constructor, staticProps), Constructor
      }
    }(), timeout = require("fz/utils/timeout"), Loading = function () {
      function Loading () {
        _classCallCheck(this, Loading), this._rot = 0
      }

      return _createClass(Loading, [{
        key: "bindElements", value: function () {
          this._dom = document.getElementById("loading"), TweenLite.set(this._dom, {css: {scale: .6, alpha: 0}})
        }
      }, {
        key: "start", value: function () {
          TweenLite.to(this._dom, .6, {delay: .2, css: {alpha: 1}, ease: Cubic.easeOut}), this._loop()
        }
      }, {
        key: "_loop", value: function () {
          !(arguments.length <= 0 || void 0 === arguments[0]) && arguments[0];
          this._rot += 180, TweenLite.to(this._dom, 1, {
            css: {
              scaleX: .8 + .2 * Math.random(),
              scaleY: .8 + .2 * Math.random(),
              rotation: this._rot
            }, ease: Linear.easeNone
          }), this._ti = timeout(this._loop.bind(this), 800)
        }
      }, {
        key: "stop", value: function () {
          timeout.clear(this._ti), this._ti = null, TweenLite.to(this._dom, .4, {
            css: {
              scale: .4,
              alpha: 0,
              rotation: this._rot + 120
            }, ease: Cubic.easeOut, onComplete: this.dispose.bind(this)
          })
        }
      }, {
        key: "dispose", value: function () {
          this._ti && (timeout.clear(this._ti), this._ti = null), this._dom.remove()
        }
      }]), Loading
    }();
    module.exports = new Loading
  }, {"fz/utils/timeout": 9}],
  39: [function (require, module, exports) {
    "use strict";

    function _classCallCheck (instance, Constructor) {
      if (!(instance instanceof Constructor)) throw new TypeError("Cannot call a class as a function")
    }

    var _createClass = function () {
        function defineProperties (target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || !1, descriptor.configurable = !0, "value" in descriptor && (descriptor.writable = !0), Object.defineProperty(target, descriptor.key, descriptor)
          }
        }

        return function (Constructor, protoProps, staticProps) {
          return protoProps && defineProperties(Constructor.prototype, protoProps), staticProps && defineProperties(Constructor, staticProps), Constructor
        }
      }(), interactions = require("fz/core/interactions"),
      gridObserver = (require("fz/core/stage"), require("iao/grid/gridObserver")), Menu = function () {
        function Menu () {
          _classCallCheck(this, Menu), this._isShown = !1, this._binds = {}, this._binds.onScroll = this._onScroll.bind(this)
        }

        return _createClass(Menu, [{
          key: "_onScroll", value: function (e) {
          }
        }, {
          key: "bindElements", value: function () {
            this.dom = document.getElementById("menu"), this._domBtClose = this.dom.querySelector(".menu-bt-close"), this._domBtsLinks = this.dom.querySelectorAll(".link")
          }
        }, {
          key: "bindEvents", value: function () {
            var sDescNonEncoded = "Discover Pharrell's world through his fans. " + baseURL,
              sDesc = encodeURIComponent(sDescNonEncoded),
              sURLShareFB = baseURL + "/pw_site/assets/img/Share_Asset_Facebook.png";
            encodeURI(baseURL + "/pw_site/assets/img/Share_Asset_Twitter.jpg");
            document.querySelector(".share-entry--fb").addEventListener("click", function (e) {
              e.preventDefault(), FB.ui({
                method: "feed",
                href: location.href,
                link: location.href,
                name: "pharrellwilliams.com",
                picture: sURLShareFB,
                description: sDescNonEncoded
              }, function (res) {
              }), $.post("/trackevent", {category: "Nav", action: "Click", label: "Click - Share facebook"})
            }), document.querySelector(".share-entry--twitter").addEventListener("click", function (e) {
              e.preventDefault();
              var url = "https://twitter.com/intent/tweet?text=" + sDesc;
              window.open(url, "twitter", "width=640,height=400"), $.post("/trackevent", {
                category: "Nav",
                action: "Click",
                label: "Click - Share Twitter"
              })
            }), interactions.on(this.dom, "move", function (e) {
              e.origin.preventDefault(), e.origin.stopPropagation(), e.origin.stopImmediatePropagation()
            }), this._domBtClose.addEventListener("click", this._onBtCloseClick.bind(this), !1);
            for (var n = this._domBtsLinks.length, i = 0; i < n; i++) interactions.on(this._domBtsLinks[i], "click", function (e) {
              var dom = e.origin.currentTarget, domSpan = dom.querySelector("span");
              $.post("/trackevent", {category: "Nav", action: "Click", label: "Click - Category " + domSpan.innerHTML})
            })
          }
        }, {
          key: "_onBtCloseClick", value: function (e) {
            e.preventDefault(), e.stopPropagation(), e.stopImmediatePropagation(), this.hide()
          }
        }, {
          key: "show", value: function () {
            var delay = arguments.length <= 0 || void 0 === arguments[0] ? 0 : arguments[0];
            this._isShown || (this._isShown = !0, isMobile ? (document.getElementById("main").style.overflow = "hidden", document.getElementById("main").style.height = "100%") : gridObserver.setMenuOpen(!0), TweenLite.to(this.dom, .6, {
              delay: delay,
              css: {x: "0%"},
              ease: Cubic.easeInOut
            }), TweenLite.to(this._domBtClose, .6, {delay: delay + .2, css: {alpha: 1}, ease: Cubic.easeInOut}))
          }
        }, {
          key: "hide", value: function () {
            var delay = arguments.length <= 0 || void 0 === arguments[0] ? 0 : arguments[0];
            this._isShown && (this._isShown = !1, isMobile ? (document.getElementById("main").style.overflow = "auto", document.getElementById("main").style.height = "auto") : gridObserver.setMenuOpen(!1), TweenLite.killTweensOf(this.dom), TweenLite.to(this.dom, .6, {
              delay: delay,
              css: {x: "-100%"},
              ease: Cubic.easeInOut
            }), TweenLite.to(this._domBtClose, .2, {css: {alpha: 0}, ease: Cubic.easeInOut}))
          }
        }]), Menu
      }();
    module.exports = new Menu
  }, {"fz/core/interactions": 2, "fz/core/stage": 4, "iao/grid/gridObserver": 33}],
  40: [function (require, module, exports) {
    "use strict";

    function _classCallCheck (instance, Constructor) {
      if (!(instance instanceof Constructor)) throw new TypeError("Cannot call a class as a function")
    }

    var _createClass = function () {
      function defineProperties (target, props) {
        for (var i = 0; i < props.length; i++) {
          var descriptor = props[i];
          descriptor.enumerable = descriptor.enumerable || !1, descriptor.configurable = !0, "value" in descriptor && (descriptor.writable = !0), Object.defineProperty(target, descriptor.key, descriptor)
        }
      }

      return function (Constructor, protoProps, staticProps) {
        return protoProps && defineProperties(Constructor.prototype, protoProps), staticProps && defineProperties(Constructor, staticProps), Constructor
      }
    }(), interactions = require("fz/core/interactions"), Onboarding = (require("fz/utils/timeout"), function () {
      function Onboarding () {
        _classCallCheck(this, Onboarding), this._idxStep = 0, this._binds = {}, this._binds.onBtNext = this._onBtNext.bind(this), this._binds.onBtClose = this._onBtClose.bind(this)
      }

      return _createClass(Onboarding, [{
        key: "_onBtNext", value: function () {
          if (2 == this._idxStep) return void this.hide();
          $.post("/trackevent", {
            category: "OnBoarding",
            action: "Click",
            label: "Click next button number" + (this._idxStep + 1) + " - " + isMobile ? "mobile" : "desktop"
          });
          var dom = this._domSteps[this._idxStep];
          TweenLite.to(dom, .6, {
            css: {alpha: 0, x: -100}, ease: Quad.easeOut, onComplete: function () {
              dom.style.display = "none"
            }
          }), isMobile ? this._idxStep = 2 : this._idxStep++, this._domSteps[this._idxStep].style.display = "block", TweenLite.to(this._domSteps[this._idxStep], .6, {
            delay: .25,
            css: {alpha: 1, x: -50},
            ease: Quad.easeOut
          }), 2 == this._idxStep && TweenLite.to(this._domBts[1], .6, {css: {y: -70, alpha: 1}, ease: Cubic.easeOut})
        }
      }, {
        key: "_onBtClose", value: function (e) {
          e.origin.preventDefault(), e.origin.stopPropagation(), e.origin.stopImmediatePropagation(), this.hide(), $.post("/trackevent", {
            category: "OnBoarding",
            action: "Click",
            label: "Click button close"
          })
        }
      }, {
        key: "bindElements", value: function () {
          this.dom = document.getElementById("onboarding"), this._domBg = this.dom.querySelector(".onboarding-bg"), this._domSteps = this.dom.querySelectorAll(".onboarding-step"), this._domBtsCnt = this.dom.querySelector(".onboarding-bts"), this._domBts = this.dom.querySelectorAll(".onboarding-bt"), this._domBtClose = this.dom.querySelector(".onboarding-close")
        }
      }, {
        key: "bindEvents", value: function () {
          interactions.on(this._domBtsCnt, "click", this._binds.onBtNext), interactions.on(this._domBtClose, "click", this._binds.onBtClose)
        }
      }, {
        key: "unbindEvents", value: function () {
          interactions.off(this._domBtsCnt, "click", this._binds.onBtNext), interactions.off(this._domBtClose, "click", this._binds.onBtClose)
        }
      }, {
        key: "show", value: function () {
          var delay = arguments.length <= 0 || void 0 === arguments[0] ? 0 : arguments[0],
            cb = arguments.length <= 1 || void 0 === arguments[1] ? null : arguments[1];
          this._cb = cb, this.dom.style.display = "block", this._domSteps[0].style.display = "block", this._domBts[0].style.display = "block", TweenLite.to(this._domBg, 1, {
            delay: delay,
            css: {scale: 6},
            ease: Cubic.easeOut
          }), TweenLite.to(this._domBg, .4, {
            delay: delay,
            css: {alpha: 1},
            ease: Cubic.easeOut
          }), TweenLite.to(this._domSteps[0], .6, {
            delay: delay + .4,
            css: {x: -50, alpha: 1, force3D: !0},
            ease: Sine.easeOut
          }), TweenLite.to(this._domBts[0], .6, {
            delay: delay + .6,
            css: {y: -70, alpha: 1},
            ease: Cubic.easeOut
          }), TweenLite.to(this._domBtClose, .6, {
            delay: delay + .8,
            css: {alpha: 1, rotation: 0, scale: 1},
            ease: Cubic.easeInOut
          })
        }
      }, {
        key: "hide", value: function () {
          var _this = this, delay = arguments.length <= 0 || void 0 === arguments[0] ? 0 : arguments[0];
          this.unbindEvents(), this._hideBtClose(delay), TweenLite.to(this._domBg, .6, {
            delay: .2,
            css: {scale: 0},
            ease: Cubic.easeOut,
            onComplete: function () {
              _this.dom.style.display = "none", _this._cb()
            }
          }), TweenLite.to(this._domSteps[this._idxStep], .4, {
            css: {alpha: 0},
            ease: Cubic.easeOut
          }), TweenLite.to(this._domBts, .4, {css: {y: 0}, ease: Cubic.easeOut})
        }
      }, {
        key: "_hideBtClose", value: function () {
          var delay = arguments.length <= 0 || void 0 === arguments[0] ? 0 : arguments[0];
          TweenLite.to(this._domBtClose, .6, {
            delay: delay,
            css: {alpha: 0, rotation: 90, scale: 0},
            ease: Cubic.easeInOut
          })
        }
      }]), Onboarding
    }());
    module.exports = new Onboarding
  }, {"fz/core/interactions": 2, "fz/utils/timeout": 9}],
  41: [function (require, module, exports) {
    "use strict";

    function _classCallCheck (instance, Constructor) {
      if (!(instance instanceof Constructor)) throw new TypeError("Cannot call a class as a function")
    }

    var _createClass = function () {
        function defineProperties (target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || !1, descriptor.configurable = !0, "value" in descriptor && (descriptor.writable = !0), Object.defineProperty(target, descriptor.key, descriptor)
          }
        }

        return function (Constructor, protoProps, staticProps) {
          return protoProps && defineProperties(Constructor.prototype, protoProps), staticProps && defineProperties(Constructor, staticProps), Constructor
        }
      }(), config = require("iao/core/config"), interactions = require("fz/core/interactions"),
      cardUser = require("iao/cardflow/cardUser"), menu = require("iao/ui/menu"), layer = require("iao/ui/layer"),
      addcard = require("iao/ui/addcard"), gridObserver = require("iao/grid/gridObserver"), Topbar = function () {
        function Topbar () {
          _classCallCheck(this, Topbar), this._hidden = !0, this._isLocked = !1, this._binds = {}, this._binds.onAddcardHidden = this._onAddcardHidden.bind(this), this._binds.onBtTourClickClose = this._onBtTourClickClose.bind(this)
        }

        return _createClass(Topbar, [{
          key: "_onBtMenuClick", value: function (e) {
            e.origin.preventDefault(), menu.show(), $.post("/trackevent", {
              category: "Home",
              action: "Click",
              label: "Click - Menu hamburger"
            })
          }
        }, {
          key: "_onBtCardClick", value: function (e) {
            e.origin.preventDefault(), window.showCardFlow(), cardUser.isConnected ? $.post("/trackevent", {
              category: "Home",
              action: "Click",
              label: "Click - Update A Card"
            }) : $.post("/trackevent", {category: "Home", action: "Click", label: "Click - Create A Card"})
          }
        }, {
          key: "_onBtTourClick", value: function (e) {
            var _this = this;
            e.origin.preventDefault(), $.post("/trackevent", {
              category: "Home",
              action: "Click",
              label: "Click - Tour dates"
            }), layer.setWhite(), layer.show(), gridObserver.setInteractive(!1), document.body.classList.add("modal-active"), TweenLite.to(document.getElementById("bt-music"), .4, {
              css: {alpha: 0},
              ease: Cubic.easeOut
            }), this._domTour.style.display = "block", TweenLite.to(this._domTour, .6, {
              delay: .4,
              css: {alpha: 1},
              ease: Cubic.easeOut,
              onStart: function () {
                _this._domTour.classList.add("loaded")
              }
            }), this._domTourClose.addEventListener("click", this._binds.onBtTourClickClose, !1)
          }
        }, {
          key: "_onBtTourClickClose", value: function (e) {
            var _this2 = this;
            e.preventDefault(), e.stopPropagation(), e.stopImmediatePropagation(), layer.hide(), TweenLite.to(document.getElementById("bt-music"), .4, {
              delay: .4,
              css: {alpha: 1},
              ease: Cubic.easeIn
            }), TweenLite.to(this._domTour, .6, {
              css: {alpha: 0}, ease: Cubic.easeOut, onComplete: function () {
                document.body.classList.remove("modal-active"), _this2._domTour.classList.remove("loaded"), _this2._domTour.style.display = "none", gridObserver.setInteractive(!0)
              }
            }), this._domTourClose.removeEventListener("click", this._binds.onBtTourClickClose, !1)
          }
        }, {
          key: "_onAddcardHidden", value: function () {
            this._clearIframe()
          }
        }, {
          key: "bindElements", value: function () {
            this.dom = document.getElementById("topbar"), this._domIframeCnt = document.getElementById("iframe-cnt"), this._domBtMenu = this.dom.querySelector(".topbar-bt-menu"), this._domBtCards = this.dom.querySelectorAll(".topbar-bt-card"), this._domBtTour = this.dom.querySelector(".topbar-ontour"), this._domTour = document.getElementById("modal-tour"), this._domTourClose = this._domTour.querySelector(".close")
          }
        }, {
          key: "bindEvents", value: function () {
            interactions.on(this._domBtMenu, "click", this._onBtMenuClick.bind(this)), interactions.on(this._domBtTour, "click", this._onBtTourClick.bind(this));
            for (var n = this._domBtCards.length, i = 0; i < n; i++) interactions.on(this._domBtCards[i], "click", this._onBtCardClick.bind(this));
            addcard.on("hidden", this._binds.onAddcardHidden)
          }
        }, {
          key: "unbindEvents", value: function () {
            for (var n = this._domBtCards.length, i = 0; i < n; i++) interactions.off(this._domBtCards[i], "click", this._onBtCardClick.bind(this));
            addcard.off("hidden", this._binds.onAddcardHidden)
          }
        }, {
          key: "show", value: function () {
            arguments.length <= 0 || void 0 === arguments[0] ? 0 : arguments[0];
            this._isLocked || this._hidden && (this._hidden = !1, TweenLite.to(this.dom, .6, {
              css: {y: 0, force3D: !0},
              ease: Cubic.easeInOut
            }))
          }
        }, {
          key: "hide", value: function () {
            arguments.length <= 0 || void 0 === arguments[0] ? 0 : arguments[0];
            this._isLocked || this._hidden || (this._hidden = !0, TweenLite.to(this.dom, .6, {
              css: {
                y: -config.dimensions.topbar.h,
                force3D: !0
              }, ease: Cubic.easeInOut
            }))
          }
        }, {
          key: "lock", value: function (value) {
            this._isLocked = value
          }
        }, {
          key: "openIframe", value: function () {
            this._createIframe()
          }
        }]), Topbar
      }();
    module.exports = new Topbar
  }, {
    "fz/core/interactions": 2,
    "iao/cardflow/cardUser": 15,
    "iao/core/config": 26,
    "iao/grid/gridObserver": 33,
    "iao/ui/addcard": 34,
    "iao/ui/layer": 37,
    "iao/ui/menu": 39
  }],
  42: [function (require, module, exports) {
    "use strict";
    module.exports.createCookie = function (name, value, days) {
      var expires;
      if (days) {
        var date = new Date;
        date.setTime(date.getTime() + 24 * days * 60 * 60 * 1e3), expires = "; expires=" + date.toGMTString()
      } else expires = "";
      document.cookie = name + "=" + value + expires + "; path=/"
    }, module.exports.getCookie = function (name) {
      if (document.cookie.length > 0) {
        var c_start = document.cookie.indexOf(name + "=");
        if (c_start != -1) {
          c_start = c_start + name.length + 1;
          var c_end = document.cookie.indexOf(";", c_start);
          return c_end == -1 && (c_end = document.cookie.length), unescape(document.cookie.substring(c_start, c_end))
        }
      }
      return null
    }
  }, {}],
  43: [function (require, module, exports) {
    "use strict";

    function showEverything () {
      grid.bindEvents(), location.href.indexOf("#addcard") > 0 && setTimeout(function () {
        window.showCardFlow()
      }, 1e3)
    }

    function scrollToTop () {
      dataScroll.y = window.scrollY, TweenLite.to(dataScroll, .6, {
        y: 0, ease: Cubic.easeOut, onUpdate: function () {
          window.scrollTo(0, dataScroll.y)
        }
      })
    }

    var loop = require("fz/core/loop"), stage = require("fz/core/stage"), timeout = require("fz/utils/timeout"),
      interactions = require("fz/core/interactions"), layer = require("iao/ui/layer"), menu = require("iao/ui/menu"),
      topbar = require("iao/ui/topbar"), iamother = require("iao/ui/iamother"), loading = require("iao/ui/loading"),
      addcard = require("iao/ui/addcard"), onboarding = require("iao/ui/onboarding"),
      cardflow = require("iao/cardflow_mobile/cardflowMobile"), user = require("iao/cardflow/cardUser"),
      Intro = require("iao/Intro"), cookie = require("iao/utils/cookie"), grid = new (require("iao/grid/GridMobile")),
      canInit = !1, hasIntro = !0;
    cookie.getCookie("iao_intro") || location.href.indexOf("#addcard") != -1 || location.href.indexOf("#iao") != -1 ? hasIntro = !1 : cookie.createCookie("iao_intro", Date.now(), 1 / 12), "addEventListener" in document && document.addEventListener("DOMContentLoaded", function () {
      FastClick.attach(document.body)
    }, !1);
    var hasLoadedAsset = !1, hasLoadedData = !1, dataScroll = {y: 0};
    window.init = function () {
      function onLoadComplete () {
        window.scrollTo(0, 1), timeout(function () {
          hasIntro ? (loading.dispose(), intro.setReady(), intro.on("start", function () {
            start()
          })) : (loading.stop(), start())
        }, 1e3)
      }

      function start () {
        intro.hide(), layer.hide(.2), topbar.show(.8), grid.generatePage(), hasIntro ? onboarding.show(.6, showEverything) : showEverything(), location.href.indexOf("#addcard") > 0 ? setTimeout(function () {
          window.showCardFlow()
        }, 1e3) : location.href.indexOf("#iao") > 0 && setTimeout(function () {
          iamother._binds.onClick()
        }, 1e3)
      }

      if (canInit) {
        stage.init(), layer.bindElements(), layer.bindEvents(), topbar.bindElements(), topbar.bindEvents(), menu.bindElements(), menu.bindEvents(), iamother.bindElements(), iamother.bindEvents(), loading.bindElements(), addcard.bindElements(), grid.bindElements(), hasIntro && (onboarding.bindElements(), onboarding.bindEvents());
        var intro = new Intro;
        intro.bindElements(), intro.bindEvents();
        var loader = new (require("iao/Loader"));
        user.checkIfConnectedAndGetInfos(function () {
          loader.loadData()
        }, !0), loader.on("completeAssets", function () {
          hasLoadedAsset = !0, hasLoadedData && onLoadComplete()
        }), loader.on("completeData", function () {
          hasLoadedData = !0, hasLoadedAsset && onLoadComplete()
        }), hasIntro ? intro.show(.5, function () {
          loader.loadAssets()
        }) : (loading.start(), loader.loadAssets()), loop.start()
      }
    }, window.showCardFlow = function () {
      menu.hide(), layer.show(), cardflow.show(.6)
    }, window.hideCardFlow = window.closeCardFlow = function () {
      layer.hide(.3), cardflow.hide()
    };
    var cardCreatorData = require("iao/card/cardCreatorData");
    window.saveCard = function (idFan) {
      cardCreatorData.updateIdFan(idFan), window.hideCardFlow(), setTimeout(function () {
        scrollToTop(), grid.saveNewCard()
      }, 1e3)
    };
    var CardAssetCreator = require("iao/card/CardAssetCreator");
    window.createCard = function (urlAvatar, category, name, title, fbId, projectUrl, categoryId, projectId, projectAssetSquare) {
      var creator = new CardAssetCreator;
      creator.create(urlAvatar, category, name, title, fbId, projectUrl, categoryId, projectId, projectAssetSquare)
    }, superagent.get("/tours/get/active").end(function (err, res) {
      var json = JSON.parse(res.text);
      json.tours_active || (document.querySelector(".topbar-ontour").display = "none")
    }), interactions.on(document.querySelector(".topbar-title"), "click", function (e) {
      scrollToTop()
    }, !1), interactions.on(document.getElementById("bt-tour"), "click", function (e) {
      topbar._onBtTourClick(e)
    }, !1), $(document).ready(function () {
      canInit = !0, window.isFBInit && window.init()
    })
  }, {
    "fz/core/interactions": 2,
    "fz/core/loop": 3,
    "fz/core/stage": 4,
    "fz/utils/timeout": 9,
    "iao/Intro": 10,
    "iao/Loader": 11,
    "iao/card/CardAssetCreator": 12,
    "iao/card/cardCreatorData": 13,
    "iao/cardflow/cardUser": 15,
    "iao/cardflow_mobile/cardflowMobile": 19,
    "iao/grid/GridMobile": 28,
    "iao/ui/addcard": 34,
    "iao/ui/iamother": 36,
    "iao/ui/layer": 37,
    "iao/ui/loading": 38,
    "iao/ui/menu": 39,
    "iao/ui/onboarding": 40,
    "iao/ui/topbar": 41,
    "iao/utils/cookie": 42
  }]
}, {}, [43]);
